var hp=e=>{throw TypeError(e)};var wd=(e,t,n)=>t.has(e)||hp("Cannot "+n);var F=(e,t,n)=>(wd(e,t,"read from private field"),n?n.call(e):t.get(e)),Re=(e,t,n)=>t.has(e)?hp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ve=(e,t,n,r)=>(wd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ge=(e,t,n)=>(wd(e,t,"access private method"),n);var Bu=(e,t,n,r)=>({set _(s){ve(e,t,s,n)},get _(){return F(e,t,r)}});function fx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var Qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dx={exports:{}},gf={},hx={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=Symbol.for("react.element"),yC=Symbol.for("react.portal"),wC=Symbol.for("react.fragment"),vC=Symbol.for("react.strict_mode"),EC=Symbol.for("react.profiler"),CC=Symbol.for("react.provider"),SC=Symbol.for("react.context"),AC=Symbol.for("react.forward_ref"),_C=Symbol.for("react.suspense"),bC=Symbol.for("react.memo"),IC=Symbol.for("react.lazy"),gp=Symbol.iterator;function NC(e){return e===null||typeof e!="object"?null:(e=gp&&e[gp]||e["@@iterator"],typeof e=="function"?e:null)}var gx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},px=Object.assign,mx={};function ja(e,t,n){this.props=e,this.context=t,this.refs=mx,this.updater=n||gx}ja.prototype.isReactComponent={};ja.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ja.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xx(){}xx.prototype=ja.prototype;function W1(e,t,n){this.props=e,this.context=t,this.refs=mx,this.updater=n||gx}var X1=W1.prototype=new xx;X1.constructor=W1;px(X1,ja.prototype);X1.isPureReactComponent=!0;var pp=Array.isArray,yx=Object.prototype.hasOwnProperty,Y1={current:null},wx={key:!0,ref:!0,__self:!0,__source:!0};function vx(e,t,n){var r,s={},l=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)yx.call(t,r)&&!wx.hasOwnProperty(r)&&(s[r]=t[r]);var g=arguments.length-2;if(g===1)s.children=n;else if(1<g){for(var x=Array(g),p=0;p<g;p++)x[p]=arguments[p+2];s.children=x}if(e&&e.defaultProps)for(r in g=e.defaultProps,g)s[r]===void 0&&(s[r]=g[r]);return{$$typeof:uu,type:e,key:l,ref:d,props:s,_owner:Y1.current}}function TC(e,t){return{$$typeof:uu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Q1(e){return typeof e=="object"&&e!==null&&e.$$typeof===uu}function RC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mp=/\/+/g;function vd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RC(""+e.key):t.toString(36)}function pc(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case uu:case yC:d=!0}}if(d)return d=e,s=s(d),e=r===""?"."+vd(d,0):r,pp(s)?(n="",e!=null&&(n=e.replace(mp,"$&/")+"/"),pc(s,t,n,"",function(p){return p})):s!=null&&(Q1(s)&&(s=TC(s,n+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(mp,"$&/")+"/")+e)),t.push(s)),1;if(d=0,r=r===""?".":r+":",pp(e))for(var g=0;g<e.length;g++){l=e[g];var x=r+vd(l,g);d+=pc(l,t,n,x,s)}else if(x=NC(e),typeof x=="function")for(e=x.call(e),g=0;!(l=e.next()).done;)l=l.value,x=r+vd(l,g++),d+=pc(l,t,n,x,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Fu(e,t,n){if(e==null)return e;var r=[],s=0;return pc(e,r,"","",function(l){return t.call(n,l,s++)}),r}function OC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jn={current:null},mc={transition:null},MC={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:mc,ReactCurrentOwner:Y1};function Ex(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Fu,forEach:function(e,t,n){Fu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fu(e,function(){t++}),t},toArray:function(e){return Fu(e,function(t){return t})||[]},only:function(e){if(!Q1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=ja;Ye.Fragment=wC;Ye.Profiler=EC;Ye.PureComponent=W1;Ye.StrictMode=vC;Ye.Suspense=_C;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MC;Ye.act=Ex;Ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=px({},e.props),s=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=Y1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(x in t)yx.call(t,x)&&!wx.hasOwnProperty(x)&&(r[x]=t[x]===void 0&&g!==void 0?g[x]:t[x])}var x=arguments.length-2;if(x===1)r.children=n;else if(1<x){g=Array(x);for(var p=0;p<x;p++)g[p]=arguments[p+2];r.children=g}return{$$typeof:uu,type:e.type,key:s,ref:l,props:r,_owner:d}};Ye.createContext=function(e){return e={$$typeof:SC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CC,_context:e},e.Consumer=e};Ye.createElement=vx;Ye.createFactory=function(e){var t=vx.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:AC,render:e}};Ye.isValidElement=Q1;Ye.lazy=function(e){return{$$typeof:IC,_payload:{_status:-1,_result:e},_init:OC}};Ye.memo=function(e,t){return{$$typeof:bC,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=mc.transition;mc.transition={};try{e()}finally{mc.transition=t}};Ye.unstable_act=Ex;Ye.useCallback=function(e,t){return jn.current.useCallback(e,t)};Ye.useContext=function(e){return jn.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return jn.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return jn.current.useEffect(e,t)};Ye.useId=function(){return jn.current.useId()};Ye.useImperativeHandle=function(e,t,n){return jn.current.useImperativeHandle(e,t,n)};Ye.useInsertionEffect=function(e,t){return jn.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return jn.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return jn.current.useMemo(e,t)};Ye.useReducer=function(e,t,n){return jn.current.useReducer(e,t,n)};Ye.useRef=function(e){return jn.current.useRef(e)};Ye.useState=function(e){return jn.current.useState(e)};Ye.useSyncExternalStore=function(e,t,n){return jn.current.useSyncExternalStore(e,t,n)};Ye.useTransition=function(){return jn.current.useTransition()};Ye.version="18.3.1";hx.exports=Ye;var z=hx.exports;const Nn=$1(z),DC=fx({__proto__:null,default:Nn},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC=z,PC=Symbol.for("react.element"),LC=Symbol.for("react.fragment"),BC=Object.prototype.hasOwnProperty,FC=kC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jC={key:!0,ref:!0,__self:!0,__source:!0};function Cx(e,t,n){var r,s={},l=null,d=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)BC.call(t,r)&&!jC.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:PC,type:e,key:l,ref:d,props:s,_owner:FC.current}}gf.Fragment=LC;gf.jsx=Cx;gf.jsxs=Cx;dx.exports=gf;var w=dx.exports,h0={},Sx={exports:{}},mr={},Ax={exports:{}},_x={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,de){var pe=ee.length;ee.push(de);e:for(;0<pe;){var Me=pe-1>>>1,be=ee[Me];if(0<s(be,de))ee[Me]=de,ee[pe]=be,pe=Me;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var de=ee[0],pe=ee.pop();if(pe!==de){ee[0]=pe;e:for(var Me=0,be=ee.length,dt=be>>>1;Me<dt;){var Ee=2*(Me+1)-1,Ke=ee[Ee],we=Ee+1,Bt=ee[we];if(0>s(Ke,pe))we<be&&0>s(Bt,Ke)?(ee[Me]=Bt,ee[we]=pe,Me=we):(ee[Me]=Ke,ee[Ee]=pe,Me=Ee);else if(we<be&&0>s(Bt,pe))ee[Me]=Bt,ee[we]=pe,Me=we;else break e}}return de}function s(ee,de){var pe=ee.sortIndex-de.sortIndex;return pe!==0?pe:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var x=[],p=[],v=1,E=null,b=3,I=!1,N=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ee){for(var de=n(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=ee)r(p),de.sortIndex=de.expirationTime,t(x,de);else break;de=n(p)}}function k(ee){if(O=!1,T(ee),!N)if(n(x)!==null)N=!0,Oe(H);else{var de=n(p);de!==null&&Y(k,de.startTime-ee)}}function H(ee,de){N=!1,O&&(O=!1,M(te),te=-1),I=!0;var pe=b;try{for(T(de),E=n(x);E!==null&&(!(E.expirationTime>de)||ee&&!ye());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,b=E.priorityLevel;var be=Me(E.expirationTime<=de);de=e.unstable_now(),typeof be=="function"?E.callback=be:E===n(x)&&r(x),T(de)}else r(x);E=n(x)}if(E!==null)var dt=!0;else{var Ee=n(p);Ee!==null&&Y(k,Ee.startTime-de),dt=!1}return dt}finally{E=null,b=pe,I=!1}}var Q=!1,V=null,te=-1,q=5,ie=-1;function ye(){return!(e.unstable_now()-ie<q)}function re(){if(V!==null){var ee=e.unstable_now();ie=ee;var de=!0;try{de=V(!0,ee)}finally{de?ce():(Q=!1,V=null)}}else Q=!1}var ce;if(typeof _=="function")ce=function(){_(re)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,W=_e.port2;_e.port1.onmessage=re,ce=function(){W.postMessage(null)}}else ce=function(){P(re,0)};function Oe(ee){V=ee,Q||(Q=!0,ce())}function Y(ee,de){te=P(function(){ee(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){N||I||(N=!0,Oe(H))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(ee){switch(b){case 1:case 2:case 3:var de=3;break;default:de=b}var pe=b;b=de;try{return ee()}finally{b=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var pe=b;b=ee;try{return de()}finally{b=pe}},e.unstable_scheduleCallback=function(ee,de,pe){var Me=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Me+pe:Me):pe=Me,ee){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=pe+be,ee={id:v++,callback:de,priorityLevel:ee,startTime:pe,expirationTime:be,sortIndex:-1},pe>Me?(ee.sortIndex=pe,t(p,ee),n(x)===null&&ee===n(p)&&(O?(M(te),te=-1):O=!0,Y(k,pe-Me))):(ee.sortIndex=be,t(x,ee),N||I||(N=!0,Oe(H))),ee},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(ee){var de=b;return function(){var pe=b;b=de;try{return ee.apply(this,arguments)}finally{b=pe}}}})(_x);Ax.exports=_x;var UC=Ax.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=z,gr=UC;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bx=new Set,Fl={};function To(e,t){Ta(e,t),Ta(e+"Capture",t)}function Ta(e,t){for(Fl[e]=t,e=0;e<t.length;e++)bx.add(t[e])}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g0=Object.prototype.hasOwnProperty,VC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xp={},yp={};function HC(e){return g0.call(yp,e)?!0:g0.call(xp,e)?!1:VC.test(e)?yp[e]=!0:(xp[e]=!0,!1)}function GC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $C(e,t,n,r){if(t===null||typeof t>"u"||GC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Un(e,t,n,r,s,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vn[e]=new Un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vn[t]=new Un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vn[e]=new Un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vn[e]=new Un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vn[e]=new Un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vn[e]=new Un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vn[e]=new Un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vn[e]=new Un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vn[e]=new Un(e,5,!1,e.toLowerCase(),null,!1,!1)});var q1=/[\-:]([a-z])/g;function Z1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(q1,Z1);vn[t]=new Un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(q1,Z1);vn[t]=new Un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(q1,Z1);vn[t]=new Un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vn[e]=new Un(e,1,!1,e.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vn[e]=new Un(e,1,!1,e.toLowerCase(),null,!0,!0)});function K1(e,t,n,r){var s=vn.hasOwnProperty(t)?vn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($C(t,n,s,r)&&(n=null),r||s===null?HC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Hi=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ju=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),p0=Symbol.for("react.profiler"),Ix=Symbol.for("react.provider"),Nx=Symbol.for("react.context"),eh=Symbol.for("react.forward_ref"),m0=Symbol.for("react.suspense"),x0=Symbol.for("react.suspense_list"),th=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),Tx=Symbol.for("react.offscreen"),wp=Symbol.iterator;function sl(e){return e===null||typeof e!="object"?null:(e=wp&&e[wp]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Object.assign,Ed;function vl(e){if(Ed===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ed=t&&t[1]||""}return`
`+Ed+e}var Cd=!1;function Sd(e,t){if(!e||Cd)return"";Cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),l=r.stack.split(`
`),d=s.length-1,g=l.length-1;1<=d&&0<=g&&s[d]!==l[g];)g--;for(;1<=d&&0<=g;d--,g--)if(s[d]!==l[g]){if(d!==1||g!==1)do if(d--,g--,0>g||s[d]!==l[g]){var x=`
`+s[d].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=d&&0<=g);break}}}finally{Cd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vl(e):""}function WC(e){switch(e.tag){case 5:return vl(e.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 2:case 15:return e=Sd(e.type,!1),e;case 11:return e=Sd(e.type.render,!1),e;case 1:return e=Sd(e.type,!0),e;default:return""}}function y0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jo:return"Fragment";case Ko:return"Portal";case p0:return"Profiler";case J1:return"StrictMode";case m0:return"Suspense";case x0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nx:return(e.displayName||"Context")+".Consumer";case Ix:return(e._context.displayName||"Context")+".Provider";case eh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case th:return t=e.displayName||null,t!==null?t:y0(e.type)||"Memo";case ts:t=e._payload,e=e._init;try{return y0(e(t))}catch{}}return null}function XC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y0(t);case 8:return t===J1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ms(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YC(e){var t=Rx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){r=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uu(e){e._valueTracker||(e._valueTracker=YC(e))}function Ox(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function kc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function w0(e,t){var n=t.checked;return Pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ms(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mx(e,t){t=t.checked,t!=null&&K1(e,"checked",t,!1)}function v0(e,t){Mx(e,t);var n=Ms(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?E0(e,t.type,n):t.hasOwnProperty("defaultValue")&&E0(e,t.type,Ms(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ep(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function E0(e,t,n){(t!=="number"||kc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var El=Array.isArray;function fa(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ms(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function C0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return Pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(le(92));if(El(n)){if(1<n.length)throw Error(le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ms(n)}}function Dx(e,t){var n=Ms(t.value),r=Ms(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zu,Px=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zu=zu||document.createElement("div"),zu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QC=["Webkit","ms","Moz","O"];Object.keys(bl).forEach(function(e){QC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bl[t]=bl[e]})});function Lx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bl.hasOwnProperty(e)&&bl[e]?(""+t).trim():t+"px"}function Bx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Lx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var qC=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A0(e,t){if(t){if(qC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function _0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b0=null;function nh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var I0=null,da=null,ha=null;function Ap(e){if(e=du(e)){if(typeof I0!="function")throw Error(le(280));var t=e.stateNode;t&&(t=wf(t),I0(e.stateNode,e.type,t))}}function Fx(e){da?ha?ha.push(e):ha=[e]:da=e}function jx(){if(da){var e=da,t=ha;if(ha=da=null,Ap(e),t)for(e=0;e<t.length;e++)Ap(t[e])}}function Ux(e,t){return e(t)}function zx(){}var Ad=!1;function Vx(e,t,n){if(Ad)return e(t,n);Ad=!0;try{return Ux(e,t,n)}finally{Ad=!1,(da!==null||ha!==null)&&(zx(),jx())}}function Ul(e,t){var n=e.stateNode;if(n===null)return null;var r=wf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(le(231,t,typeof n));return n}var N0=!1;if(Fi)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){N0=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{N0=!1}function ZC(e,t,n,r,s,l,d,g,x){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(v){this.onError(v)}}var Il=!1,Pc=null,Lc=!1,T0=null,KC={onError:function(e){Il=!0,Pc=e}};function JC(e,t,n,r,s,l,d,g,x){Il=!1,Pc=null,ZC.apply(KC,arguments)}function e3(e,t,n,r,s,l,d,g,x){if(JC.apply(this,arguments),Il){if(Il){var p=Pc;Il=!1,Pc=null}else throw Error(le(198));Lc||(Lc=!0,T0=p)}}function Ro(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _p(e){if(Ro(e)!==e)throw Error(le(188))}function t3(e){var t=e.alternate;if(!t){if(t=Ro(e),t===null)throw Error(le(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return _p(s),e;if(l===r)return _p(s),t;l=l.sibling}throw Error(le(188))}if(n.return!==r.return)n=s,r=l;else{for(var d=!1,g=s.child;g;){if(g===n){d=!0,n=s,r=l;break}if(g===r){d=!0,r=s,n=l;break}g=g.sibling}if(!d){for(g=l.child;g;){if(g===n){d=!0,n=l,r=s;break}if(g===r){d=!0,r=l,n=s;break}g=g.sibling}if(!d)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?e:t}function Gx(e){return e=t3(e),e!==null?$x(e):null}function $x(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$x(e);if(t!==null)return t;e=e.sibling}return null}var Wx=gr.unstable_scheduleCallback,bp=gr.unstable_cancelCallback,n3=gr.unstable_shouldYield,r3=gr.unstable_requestPaint,Wt=gr.unstable_now,i3=gr.unstable_getCurrentPriorityLevel,rh=gr.unstable_ImmediatePriority,Xx=gr.unstable_UserBlockingPriority,Bc=gr.unstable_NormalPriority,s3=gr.unstable_LowPriority,Yx=gr.unstable_IdlePriority,pf=null,wi=null;function o3(e){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(pf,e,void 0,(e.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:u3,a3=Math.log,l3=Math.LN2;function u3(e){return e>>>=0,e===0?32:31-(a3(e)/l3|0)|0}var Vu=64,Hu=4194304;function Cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,d=n&268435455;if(d!==0){var g=d&~s;g!==0?r=Cl(g):(l&=d,l!==0&&(r=Cl(l)))}else d=n&~s,d!==0?r=Cl(d):l!==0&&(r=Cl(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Yr(t),s=1<<n,r|=e[n],t&=~s;return r}function c3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-Yr(l),g=1<<d,x=s[d];x===-1?(!(g&n)||g&r)&&(s[d]=c3(g,t)):x<=t&&(e.expiredLanes|=g),l&=~g}}function R0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qx(){var e=Vu;return Vu<<=1,!(Vu&4194240)&&(Vu=64),e}function _d(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yr(t),e[t]=n}function d3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Yr(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function ih(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Yr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ft=0;function qx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zx,sh,Kx,Jx,ey,O0=!1,Gu=[],Es=null,Cs=null,Ss=null,zl=new Map,Vl=new Map,is=[],h3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ip(e,t){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(t.pointerId)}}function al(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=du(t),t!==null&&sh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function g3(e,t,n,r,s){switch(t){case"focusin":return Es=al(Es,e,t,n,r,s),!0;case"dragenter":return Cs=al(Cs,e,t,n,r,s),!0;case"mouseover":return Ss=al(Ss,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return zl.set(l,al(zl.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Vl.set(l,al(Vl.get(l)||null,e,t,n,r,s)),!0}return!1}function ty(e){var t=Js(e.target);if(t!==null){var n=Ro(t);if(n!==null){if(t=n.tag,t===13){if(t=Hx(n),t!==null){e.blockedOn=t,ey(e.priority,function(){Kx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=M0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);b0=r,n.target.dispatchEvent(r),b0=null}else return t=du(n),t!==null&&sh(t),e.blockedOn=n,!1;t.shift()}return!0}function Np(e,t,n){xc(e)&&n.delete(t)}function p3(){O0=!1,Es!==null&&xc(Es)&&(Es=null),Cs!==null&&xc(Cs)&&(Cs=null),Ss!==null&&xc(Ss)&&(Ss=null),zl.forEach(Np),Vl.forEach(Np)}function ll(e,t){e.blockedOn===t&&(e.blockedOn=null,O0||(O0=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,p3)))}function Hl(e){function t(s){return ll(s,e)}if(0<Gu.length){ll(Gu[0],e);for(var n=1;n<Gu.length;n++){var r=Gu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Es!==null&&ll(Es,e),Cs!==null&&ll(Cs,e),Ss!==null&&ll(Ss,e),zl.forEach(t),Vl.forEach(t),n=0;n<is.length;n++)r=is[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<is.length&&(n=is[0],n.blockedOn===null);)ty(n),n.blockedOn===null&&is.shift()}var ga=Hi.ReactCurrentBatchConfig,jc=!0;function m3(e,t,n,r){var s=ft,l=ga.transition;ga.transition=null;try{ft=1,oh(e,t,n,r)}finally{ft=s,ga.transition=l}}function x3(e,t,n,r){var s=ft,l=ga.transition;ga.transition=null;try{ft=4,oh(e,t,n,r)}finally{ft=s,ga.transition=l}}function oh(e,t,n,r){if(jc){var s=M0(e,t,n,r);if(s===null)Pd(e,t,r,Uc,n),Ip(e,r);else if(g3(s,e,t,n,r))r.stopPropagation();else if(Ip(e,r),t&4&&-1<h3.indexOf(e)){for(;s!==null;){var l=du(s);if(l!==null&&Zx(l),l=M0(e,t,n,r),l===null&&Pd(e,t,r,Uc,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Pd(e,t,r,null,n)}}var Uc=null;function M0(e,t,n,r){if(Uc=null,e=nh(r),e=Js(e),e!==null)if(t=Ro(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uc=e,null}function ny(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i3()){case rh:return 1;case Xx:return 4;case Bc:case s3:return 16;case Yx:return 536870912;default:return 16}default:return 16}}var xs=null,ah=null,yc=null;function ry(){if(yc)return yc;var e,t=ah,n=t.length,r,s="value"in xs?xs.value:xs.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===s[l-r];r++);return yc=s.slice(e,1<r?1-r:void 0)}function wc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $u(){return!0}function Tp(){return!1}function xr(e){function t(n,r,s,l,d){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(l):l[g]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?$u:Tp,this.isPropagationStopped=Tp,this}return Pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),t}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lh=xr(Ua),fu=Pt({},Ua,{view:0,detail:0}),y3=xr(fu),bd,Id,ul,mf=Pt({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ul&&(ul&&e.type==="mousemove"?(bd=e.screenX-ul.screenX,Id=e.screenY-ul.screenY):Id=bd=0,ul=e),bd)},movementY:function(e){return"movementY"in e?e.movementY:Id}}),Rp=xr(mf),w3=Pt({},mf,{dataTransfer:0}),v3=xr(w3),E3=Pt({},fu,{relatedTarget:0}),Nd=xr(E3),C3=Pt({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),S3=xr(C3),A3=Pt({},Ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_3=xr(A3),b3=Pt({},Ua,{data:0}),Op=xr(b3),I3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T3[e])?!!t[e]:!1}function uh(){return R3}var O3=Pt({},fu,{key:function(e){if(e.key){var t=I3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uh,charCode:function(e){return e.type==="keypress"?wc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M3=xr(O3),D3=Pt({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mp=xr(D3),k3=Pt({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uh}),P3=xr(k3),L3=Pt({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),B3=xr(L3),F3=Pt({},mf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j3=xr(F3),U3=[9,13,27,32],ch=Fi&&"CompositionEvent"in window,Nl=null;Fi&&"documentMode"in document&&(Nl=document.documentMode);var z3=Fi&&"TextEvent"in window&&!Nl,iy=Fi&&(!ch||Nl&&8<Nl&&11>=Nl),Dp=" ",kp=!1;function sy(e,t){switch(e){case"keyup":return U3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ea=!1;function V3(e,t){switch(e){case"compositionend":return oy(t);case"keypress":return t.which!==32?null:(kp=!0,Dp);case"textInput":return e=t.data,e===Dp&&kp?null:e;default:return null}}function H3(e,t){if(ea)return e==="compositionend"||!ch&&sy(e,t)?(e=ry(),yc=ah=xs=null,ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iy&&t.locale!=="ko"?null:t.data;default:return null}}var G3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G3[e.type]:t==="textarea"}function ay(e,t,n,r){Fx(r),t=zc(t,"onChange"),0<t.length&&(n=new lh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tl=null,Gl=null;function $3(e){yy(e,0)}function xf(e){var t=ra(e);if(Ox(t))return e}function W3(e,t){if(e==="change")return t}var ly=!1;if(Fi){var Td;if(Fi){var Rd="oninput"in document;if(!Rd){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Rd=typeof Lp.oninput=="function"}Td=Rd}else Td=!1;ly=Td&&(!document.documentMode||9<document.documentMode)}function Bp(){Tl&&(Tl.detachEvent("onpropertychange",uy),Gl=Tl=null)}function uy(e){if(e.propertyName==="value"&&xf(Gl)){var t=[];ay(t,Gl,e,nh(e)),Vx($3,t)}}function X3(e,t,n){e==="focusin"?(Bp(),Tl=t,Gl=n,Tl.attachEvent("onpropertychange",uy)):e==="focusout"&&Bp()}function Y3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xf(Gl)}function Q3(e,t){if(e==="click")return xf(t)}function q3(e,t){if(e==="input"||e==="change")return xf(t)}function Z3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zr=typeof Object.is=="function"?Object.is:Z3;function $l(e,t){if(Zr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!g0.call(t,s)||!Zr(e[s],t[s]))return!1}return!0}function Fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,t){var n=Fp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fp(n)}}function cy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fy(){for(var e=window,t=kc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=kc(e.document)}return t}function fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K3(e){var t=fy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cy(n.ownerDocument.documentElement,n)){if(r!==null&&fh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=jp(n,l);var d=jp(n,r);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var J3=Fi&&"documentMode"in document&&11>=document.documentMode,ta=null,D0=null,Rl=null,k0=!1;function Up(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;k0||ta==null||ta!==kc(r)||(r=ta,"selectionStart"in r&&fh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rl&&$l(Rl,r)||(Rl=r,r=zc(D0,"onSelect"),0<r.length&&(t=new lh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ta)))}function Wu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var na={animationend:Wu("Animation","AnimationEnd"),animationiteration:Wu("Animation","AnimationIteration"),animationstart:Wu("Animation","AnimationStart"),transitionend:Wu("Transition","TransitionEnd")},Od={},dy={};Fi&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function yf(e){if(Od[e])return Od[e];if(!na[e])return e;var t=na[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dy)return Od[e]=t[n];return e}var hy=yf("animationend"),gy=yf("animationiteration"),py=yf("animationstart"),my=yf("transitionend"),xy=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(e,t){xy.set(e,t),To(t,[e])}for(var Md=0;Md<zp.length;Md++){var Dd=zp[Md],eS=Dd.toLowerCase(),tS=Dd[0].toUpperCase()+Dd.slice(1);Ls(eS,"on"+tS)}Ls(hy,"onAnimationEnd");Ls(gy,"onAnimationIteration");Ls(py,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(my,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function Vp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,e3(r,t,void 0,e),e.currentTarget=null}function yy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var d=r.length-1;0<=d;d--){var g=r[d],x=g.instance,p=g.currentTarget;if(g=g.listener,x!==l&&s.isPropagationStopped())break e;Vp(s,g,p),l=x}else for(d=0;d<r.length;d++){if(g=r[d],x=g.instance,p=g.currentTarget,g=g.listener,x!==l&&s.isPropagationStopped())break e;Vp(s,g,p),l=x}}}if(Lc)throw e=T0,Lc=!1,T0=null,e}function Ct(e,t){var n=t[j0];n===void 0&&(n=t[j0]=new Set);var r=e+"__bubble";n.has(r)||(wy(t,e,2,!1),n.add(r))}function kd(e,t,n){var r=0;t&&(r|=4),wy(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Wl(e){if(!e[Xu]){e[Xu]=!0,bx.forEach(function(n){n!=="selectionchange"&&(nS.has(n)||kd(n,!1,e),kd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xu]||(t[Xu]=!0,kd("selectionchange",!1,t))}}function wy(e,t,n,r){switch(ny(t)){case 1:var s=m3;break;case 4:s=x3;break;default:s=oh}n=s.bind(null,t,n,e),s=void 0,!N0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Pd(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var g=r.stateNode.containerInfo;if(g===s||g.nodeType===8&&g.parentNode===s)break;if(d===4)for(d=r.return;d!==null;){var x=d.tag;if((x===3||x===4)&&(x=d.stateNode.containerInfo,x===s||x.nodeType===8&&x.parentNode===s))return;d=d.return}for(;g!==null;){if(d=Js(g),d===null)return;if(x=d.tag,x===5||x===6){r=l=d;continue e}g=g.parentNode}}r=r.return}Vx(function(){var p=l,v=nh(n),E=[];e:{var b=xy.get(e);if(b!==void 0){var I=lh,N=e;switch(e){case"keypress":if(wc(n)===0)break e;case"keydown":case"keyup":I=M3;break;case"focusin":N="focus",I=Nd;break;case"focusout":N="blur",I=Nd;break;case"beforeblur":case"afterblur":I=Nd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=v3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=P3;break;case hy:case gy:case py:I=S3;break;case my:I=B3;break;case"scroll":I=y3;break;case"wheel":I=j3;break;case"copy":case"cut":case"paste":I=_3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Mp}var O=(t&4)!==0,P=!O&&e==="scroll",M=O?b!==null?b+"Capture":null:b;O=[];for(var _=p,T;_!==null;){T=_;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,M!==null&&(k=Ul(_,M),k!=null&&O.push(Xl(_,k,T)))),P)break;_=_.return}0<O.length&&(b=new I(b,N,null,n,v),E.push({event:b,listeners:O}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",b&&n!==b0&&(N=n.relatedTarget||n.fromElement)&&(Js(N)||N[ji]))break e;if((I||b)&&(b=v.window===v?v:(b=v.ownerDocument)?b.defaultView||b.parentWindow:window,I?(N=n.relatedTarget||n.toElement,I=p,N=N?Js(N):null,N!==null&&(P=Ro(N),N!==P||N.tag!==5&&N.tag!==6)&&(N=null)):(I=null,N=p),I!==N)){if(O=Rp,k="onMouseLeave",M="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(O=Mp,k="onPointerLeave",M="onPointerEnter",_="pointer"),P=I==null?b:ra(I),T=N==null?b:ra(N),b=new O(k,_+"leave",I,n,v),b.target=P,b.relatedTarget=T,k=null,Js(v)===p&&(O=new O(M,_+"enter",N,n,v),O.target=T,O.relatedTarget=P,k=O),P=k,I&&N)t:{for(O=I,M=N,_=0,T=O;T;T=Go(T))_++;for(T=0,k=M;k;k=Go(k))T++;for(;0<_-T;)O=Go(O),_--;for(;0<T-_;)M=Go(M),T--;for(;_--;){if(O===M||M!==null&&O===M.alternate)break t;O=Go(O),M=Go(M)}O=null}else O=null;I!==null&&Hp(E,b,I,O,!1),N!==null&&P!==null&&Hp(E,P,N,O,!0)}}e:{if(b=p?ra(p):window,I=b.nodeName&&b.nodeName.toLowerCase(),I==="select"||I==="input"&&b.type==="file")var H=W3;else if(Pp(b))if(ly)H=q3;else{H=Y3;var Q=X3}else(I=b.nodeName)&&I.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(H=Q3);if(H&&(H=H(e,p))){ay(E,H,n,v);break e}Q&&Q(e,b,p),e==="focusout"&&(Q=b._wrapperState)&&Q.controlled&&b.type==="number"&&E0(b,"number",b.value)}switch(Q=p?ra(p):window,e){case"focusin":(Pp(Q)||Q.contentEditable==="true")&&(ta=Q,D0=p,Rl=null);break;case"focusout":Rl=D0=ta=null;break;case"mousedown":k0=!0;break;case"contextmenu":case"mouseup":case"dragend":k0=!1,Up(E,n,v);break;case"selectionchange":if(J3)break;case"keydown":case"keyup":Up(E,n,v)}var V;if(ch)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else ea?sy(e,n)&&(te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(te="onCompositionStart");te&&(iy&&n.locale!=="ko"&&(ea||te!=="onCompositionStart"?te==="onCompositionEnd"&&ea&&(V=ry()):(xs=v,ah="value"in xs?xs.value:xs.textContent,ea=!0)),Q=zc(p,te),0<Q.length&&(te=new Op(te,e,null,n,v),E.push({event:te,listeners:Q}),V?te.data=V:(V=oy(n),V!==null&&(te.data=V)))),(V=z3?V3(e,n):H3(e,n))&&(p=zc(p,"onBeforeInput"),0<p.length&&(v=new Op("onBeforeInput","beforeinput",null,n,v),E.push({event:v,listeners:p}),v.data=V))}yy(E,t)})}function Xl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Ul(e,n),l!=null&&r.unshift(Xl(e,l,s)),l=Ul(e,t),l!=null&&r.push(Xl(e,l,s))),e=e.return}return r}function Go(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hp(e,t,n,r,s){for(var l=t._reactName,d=[];n!==null&&n!==r;){var g=n,x=g.alternate,p=g.stateNode;if(x!==null&&x===r)break;g.tag===5&&p!==null&&(g=p,s?(x=Ul(n,l),x!=null&&d.unshift(Xl(n,x,g))):s||(x=Ul(n,l),x!=null&&d.push(Xl(n,x,g)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var rS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function Gp(e){return(typeof e=="string"?e:""+e).replace(rS,`
`).replace(iS,"")}function Yu(e,t,n){if(t=Gp(t),Gp(e)!==t&&n)throw Error(le(425))}function Vc(){}var P0=null,L0=null;function B0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var F0=typeof setTimeout=="function"?setTimeout:void 0,sS=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,oS=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(e){return $p.resolve(null).then(e).catch(aS)}:F0;function aS(e){setTimeout(function(){throw e})}function Ld(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hl(t)}function As(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var za=Math.random().toString(36).slice(2),gi="__reactFiber$"+za,Yl="__reactProps$"+za,ji="__reactContainer$"+za,j0="__reactEvents$"+za,lS="__reactListeners$"+za,uS="__reactHandles$"+za;function Js(e){var t=e[gi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ji]||n[gi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wp(e);e!==null;){if(n=e[gi])return n;e=Wp(e)}return t}e=n,n=e.parentNode}return null}function du(e){return e=e[gi]||e[ji],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ra(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function wf(e){return e[Yl]||null}var U0=[],ia=-1;function Bs(e){return{current:e}}function At(e){0>ia||(e.current=U0[ia],U0[ia]=null,ia--)}function yt(e,t){ia++,U0[ia]=e.current,e.current=t}var Ds={},On=Bs(Ds),Jn=Bs(!1),Eo=Ds;function Ra(e,t){var n=e.type.contextTypes;if(!n)return Ds;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function er(e){return e=e.childContextTypes,e!=null}function Hc(){At(Jn),At(On)}function Xp(e,t,n){if(On.current!==Ds)throw Error(le(168));yt(On,t),yt(Jn,n)}function vy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(le(108,XC(e)||"Unknown",s));return Pt({},n,r)}function Gc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ds,Eo=On.current,yt(On,e),yt(Jn,Jn.current),!0}function Yp(e,t,n){var r=e.stateNode;if(!r)throw Error(le(169));n?(e=vy(e,t,Eo),r.__reactInternalMemoizedMergedChildContext=e,At(Jn),At(On),yt(On,e)):At(Jn),yt(Jn,n)}var Ii=null,vf=!1,Bd=!1;function Ey(e){Ii===null?Ii=[e]:Ii.push(e)}function cS(e){vf=!0,Ey(e)}function Fs(){if(!Bd&&Ii!==null){Bd=!0;var e=0,t=ft;try{var n=Ii;for(ft=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ii=null,vf=!1}catch(s){throw Ii!==null&&(Ii=Ii.slice(e+1)),Wx(rh,Fs),s}finally{ft=t,Bd=!1}}return null}var sa=[],oa=0,$c=null,Wc=0,Nr=[],Tr=0,Co=null,Mi=1,Di="";function Zs(e,t){sa[oa++]=Wc,sa[oa++]=$c,$c=e,Wc=t}function Cy(e,t,n){Nr[Tr++]=Mi,Nr[Tr++]=Di,Nr[Tr++]=Co,Co=e;var r=Mi;e=Di;var s=32-Yr(r)-1;r&=~(1<<s),n+=1;var l=32-Yr(t)+s;if(30<l){var d=s-s%5;l=(r&(1<<d)-1).toString(32),r>>=d,s-=d,Mi=1<<32-Yr(t)+s|n<<s|r,Di=l+e}else Mi=1<<l|n<<s|r,Di=e}function dh(e){e.return!==null&&(Zs(e,1),Cy(e,1,0))}function hh(e){for(;e===$c;)$c=sa[--oa],sa[oa]=null,Wc=sa[--oa],sa[oa]=null;for(;e===Co;)Co=Nr[--Tr],Nr[Tr]=null,Di=Nr[--Tr],Nr[Tr]=null,Mi=Nr[--Tr],Nr[Tr]=null}var hr=null,dr=null,Nt=!1,Gr=null;function Sy(e,t){var n=Or(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hr=e,dr=As(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hr=e,dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Co!==null?{id:Mi,overflow:Di}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Or(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,hr=e,dr=null,!0):!1;default:return!1}}function z0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function V0(e){if(Nt){var t=dr;if(t){var n=t;if(!Qp(e,t)){if(z0(e))throw Error(le(418));t=As(n.nextSibling);var r=hr;t&&Qp(e,t)?Sy(r,n):(e.flags=e.flags&-4097|2,Nt=!1,hr=e)}}else{if(z0(e))throw Error(le(418));e.flags=e.flags&-4097|2,Nt=!1,hr=e}}}function qp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hr=e}function Qu(e){if(e!==hr)return!1;if(!Nt)return qp(e),Nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!B0(e.type,e.memoizedProps)),t&&(t=dr)){if(z0(e))throw Ay(),Error(le(418));for(;t;)Sy(e,t),t=As(t.nextSibling)}if(qp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dr=As(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dr=null}}else dr=hr?As(e.stateNode.nextSibling):null;return!0}function Ay(){for(var e=dr;e;)e=As(e.nextSibling)}function Oa(){dr=hr=null,Nt=!1}function gh(e){Gr===null?Gr=[e]:Gr.push(e)}var fS=Hi.ReactCurrentBatchConfig;function cl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var g=s.refs;d===null?delete g[l]:g[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,e))}return e}function qu(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zp(e){var t=e._init;return t(e._payload)}function _y(e){function t(M,_){if(e){var T=M.deletions;T===null?(M.deletions=[_],M.flags|=16):T.push(_)}}function n(M,_){if(!e)return null;for(;_!==null;)t(M,_),_=_.sibling;return null}function r(M,_){for(M=new Map;_!==null;)_.key!==null?M.set(_.key,_):M.set(_.index,_),_=_.sibling;return M}function s(M,_){return M=Ns(M,_),M.index=0,M.sibling=null,M}function l(M,_,T){return M.index=T,e?(T=M.alternate,T!==null?(T=T.index,T<_?(M.flags|=2,_):T):(M.flags|=2,_)):(M.flags|=1048576,_)}function d(M){return e&&M.alternate===null&&(M.flags|=2),M}function g(M,_,T,k){return _===null||_.tag!==6?(_=Gd(T,M.mode,k),_.return=M,_):(_=s(_,T),_.return=M,_)}function x(M,_,T,k){var H=T.type;return H===Jo?v(M,_,T.props.children,k,T.key):_!==null&&(_.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ts&&Zp(H)===_.type)?(k=s(_,T.props),k.ref=cl(M,_,T),k.return=M,k):(k=bc(T.type,T.key,T.props,null,M.mode,k),k.ref=cl(M,_,T),k.return=M,k)}function p(M,_,T,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=$d(T,M.mode,k),_.return=M,_):(_=s(_,T.children||[]),_.return=M,_)}function v(M,_,T,k,H){return _===null||_.tag!==7?(_=xo(T,M.mode,k,H),_.return=M,_):(_=s(_,T),_.return=M,_)}function E(M,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Gd(""+_,M.mode,T),_.return=M,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ju:return T=bc(_.type,_.key,_.props,null,M.mode,T),T.ref=cl(M,null,_),T.return=M,T;case Ko:return _=$d(_,M.mode,T),_.return=M,_;case ts:var k=_._init;return E(M,k(_._payload),T)}if(El(_)||sl(_))return _=xo(_,M.mode,T,null),_.return=M,_;qu(M,_)}return null}function b(M,_,T,k){var H=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return H!==null?null:g(M,_,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ju:return T.key===H?x(M,_,T,k):null;case Ko:return T.key===H?p(M,_,T,k):null;case ts:return H=T._init,b(M,_,H(T._payload),k)}if(El(T)||sl(T))return H!==null?null:v(M,_,T,k,null);qu(M,T)}return null}function I(M,_,T,k,H){if(typeof k=="string"&&k!==""||typeof k=="number")return M=M.get(T)||null,g(_,M,""+k,H);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ju:return M=M.get(k.key===null?T:k.key)||null,x(_,M,k,H);case Ko:return M=M.get(k.key===null?T:k.key)||null,p(_,M,k,H);case ts:var Q=k._init;return I(M,_,T,Q(k._payload),H)}if(El(k)||sl(k))return M=M.get(T)||null,v(_,M,k,H,null);qu(_,k)}return null}function N(M,_,T,k){for(var H=null,Q=null,V=_,te=_=0,q=null;V!==null&&te<T.length;te++){V.index>te?(q=V,V=null):q=V.sibling;var ie=b(M,V,T[te],k);if(ie===null){V===null&&(V=q);break}e&&V&&ie.alternate===null&&t(M,V),_=l(ie,_,te),Q===null?H=ie:Q.sibling=ie,Q=ie,V=q}if(te===T.length)return n(M,V),Nt&&Zs(M,te),H;if(V===null){for(;te<T.length;te++)V=E(M,T[te],k),V!==null&&(_=l(V,_,te),Q===null?H=V:Q.sibling=V,Q=V);return Nt&&Zs(M,te),H}for(V=r(M,V);te<T.length;te++)q=I(V,M,te,T[te],k),q!==null&&(e&&q.alternate!==null&&V.delete(q.key===null?te:q.key),_=l(q,_,te),Q===null?H=q:Q.sibling=q,Q=q);return e&&V.forEach(function(ye){return t(M,ye)}),Nt&&Zs(M,te),H}function O(M,_,T,k){var H=sl(T);if(typeof H!="function")throw Error(le(150));if(T=H.call(T),T==null)throw Error(le(151));for(var Q=H=null,V=_,te=_=0,q=null,ie=T.next();V!==null&&!ie.done;te++,ie=T.next()){V.index>te?(q=V,V=null):q=V.sibling;var ye=b(M,V,ie.value,k);if(ye===null){V===null&&(V=q);break}e&&V&&ye.alternate===null&&t(M,V),_=l(ye,_,te),Q===null?H=ye:Q.sibling=ye,Q=ye,V=q}if(ie.done)return n(M,V),Nt&&Zs(M,te),H;if(V===null){for(;!ie.done;te++,ie=T.next())ie=E(M,ie.value,k),ie!==null&&(_=l(ie,_,te),Q===null?H=ie:Q.sibling=ie,Q=ie);return Nt&&Zs(M,te),H}for(V=r(M,V);!ie.done;te++,ie=T.next())ie=I(V,M,te,ie.value,k),ie!==null&&(e&&ie.alternate!==null&&V.delete(ie.key===null?te:ie.key),_=l(ie,_,te),Q===null?H=ie:Q.sibling=ie,Q=ie);return e&&V.forEach(function(re){return t(M,re)}),Nt&&Zs(M,te),H}function P(M,_,T,k){if(typeof T=="object"&&T!==null&&T.type===Jo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ju:e:{for(var H=T.key,Q=_;Q!==null;){if(Q.key===H){if(H=T.type,H===Jo){if(Q.tag===7){n(M,Q.sibling),_=s(Q,T.props.children),_.return=M,M=_;break e}}else if(Q.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ts&&Zp(H)===Q.type){n(M,Q.sibling),_=s(Q,T.props),_.ref=cl(M,Q,T),_.return=M,M=_;break e}n(M,Q);break}else t(M,Q);Q=Q.sibling}T.type===Jo?(_=xo(T.props.children,M.mode,k,T.key),_.return=M,M=_):(k=bc(T.type,T.key,T.props,null,M.mode,k),k.ref=cl(M,_,T),k.return=M,M=k)}return d(M);case Ko:e:{for(Q=T.key;_!==null;){if(_.key===Q)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(M,_.sibling),_=s(_,T.children||[]),_.return=M,M=_;break e}else{n(M,_);break}else t(M,_);_=_.sibling}_=$d(T,M.mode,k),_.return=M,M=_}return d(M);case ts:return Q=T._init,P(M,_,Q(T._payload),k)}if(El(T))return N(M,_,T,k);if(sl(T))return O(M,_,T,k);qu(M,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(M,_.sibling),_=s(_,T),_.return=M,M=_):(n(M,_),_=Gd(T,M.mode,k),_.return=M,M=_),d(M)):n(M,_)}return P}var Ma=_y(!0),by=_y(!1),Xc=Bs(null),Yc=null,aa=null,ph=null;function mh(){ph=aa=Yc=null}function xh(e){var t=Xc.current;At(Xc),e._currentValue=t}function H0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pa(e,t){Yc=e,ph=aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kn=!0),e.firstContext=null)}function Dr(e){var t=e._currentValue;if(ph!==e)if(e={context:e,memoizedValue:t,next:null},aa===null){if(Yc===null)throw Error(le(308));aa=e,Yc.dependencies={lanes:0,firstContext:e}}else aa=aa.next=e;return t}var eo=null;function yh(e){eo===null?eo=[e]:eo.push(e)}function Iy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,yh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ui(e,r)}function Ui(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ns=!1;function wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ny(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _s(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,nt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ui(e,n)}return s=r.interleaved,s===null?(t.next=t,yh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ui(e,n)}function vc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ih(e,n)}}function Kp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=d:l=l.next=d,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qc(e,t,n,r){var s=e.updateQueue;ns=!1;var l=s.firstBaseUpdate,d=s.lastBaseUpdate,g=s.shared.pending;if(g!==null){s.shared.pending=null;var x=g,p=x.next;x.next=null,d===null?l=p:d.next=p,d=x;var v=e.alternate;v!==null&&(v=v.updateQueue,g=v.lastBaseUpdate,g!==d&&(g===null?v.firstBaseUpdate=p:g.next=p,v.lastBaseUpdate=x))}if(l!==null){var E=s.baseState;d=0,v=p=x=null,g=l;do{var b=g.lane,I=g.eventTime;if((r&b)===b){v!==null&&(v=v.next={eventTime:I,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var N=e,O=g;switch(b=t,I=n,O.tag){case 1:if(N=O.payload,typeof N=="function"){E=N.call(I,E,b);break e}E=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=O.payload,b=typeof N=="function"?N.call(I,E,b):N,b==null)break e;E=Pt({},E,b);break e;case 2:ns=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,b=s.effects,b===null?s.effects=[g]:b.push(g))}else I={eventTime:I,lane:b,tag:g.tag,payload:g.payload,callback:g.callback,next:null},v===null?(p=v=I,x=E):v=v.next=I,d|=b;if(g=g.next,g===null){if(g=s.shared.pending,g===null)break;b=g,g=b.next,b.next=null,s.lastBaseUpdate=b,s.shared.pending=null}}while(!0);if(v===null&&(x=E),s.baseState=x,s.firstBaseUpdate=p,s.lastBaseUpdate=v,t=s.shared.interleaved,t!==null){s=t;do d|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Ao|=d,e.lanes=d,e.memoizedState=E}}function Jp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(le(191,s));s.call(r)}}}var hu={},vi=Bs(hu),Ql=Bs(hu),ql=Bs(hu);function to(e){if(e===hu)throw Error(le(174));return e}function vh(e,t){switch(yt(ql,t),yt(Ql,e),yt(vi,hu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:S0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=S0(t,e)}At(vi),yt(vi,t)}function Da(){At(vi),At(Ql),At(ql)}function Ty(e){to(ql.current);var t=to(vi.current),n=S0(t,e.type);t!==n&&(yt(Ql,e),yt(vi,n))}function Eh(e){Ql.current===e&&(At(vi),At(Ql))}var Dt=Bs(0);function qc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fd=[];function Ch(){for(var e=0;e<Fd.length;e++)Fd[e]._workInProgressVersionPrimary=null;Fd.length=0}var Ec=Hi.ReactCurrentDispatcher,jd=Hi.ReactCurrentBatchConfig,So=0,kt=null,tn=null,cn=null,Zc=!1,Ol=!1,Zl=0,dS=0;function An(){throw Error(le(321))}function Sh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zr(e[n],t[n]))return!1;return!0}function Ah(e,t,n,r,s,l){if(So=l,kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ec.current=e===null||e.memoizedState===null?mS:xS,e=n(r,s),Ol){l=0;do{if(Ol=!1,Zl=0,25<=l)throw Error(le(301));l+=1,cn=tn=null,t.updateQueue=null,Ec.current=yS,e=n(r,s)}while(Ol)}if(Ec.current=Kc,t=tn!==null&&tn.next!==null,So=0,cn=tn=kt=null,Zc=!1,t)throw Error(le(300));return e}function _h(){var e=Zl!==0;return Zl=0,e}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?kt.memoizedState=cn=e:cn=cn.next=e,cn}function kr(){if(tn===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=tn.next;var t=cn===null?kt.memoizedState:cn.next;if(t!==null)cn=t,tn=e;else{if(e===null)throw Error(le(310));tn=e,e={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},cn===null?kt.memoizedState=cn=e:cn=cn.next=e}return cn}function Kl(e,t){return typeof t=="function"?t(e):t}function Ud(e){var t=kr(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=tn,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var d=s.next;s.next=l.next,l.next=d}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var g=d=null,x=null,p=l;do{var v=p.lane;if((So&v)===v)x!==null&&(x=x.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var E={lane:v,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};x===null?(g=x=E,d=r):x=x.next=E,kt.lanes|=v,Ao|=v}p=p.next}while(p!==null&&p!==l);x===null?d=r:x.next=g,Zr(r,t.memoizedState)||(Kn=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=x,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,kt.lanes|=l,Ao|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zd(e){var t=kr(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var d=s=s.next;do l=e(l,d.action),d=d.next;while(d!==s);Zr(l,t.memoizedState)||(Kn=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Ry(){}function Oy(e,t){var n=kt,r=kr(),s=t(),l=!Zr(r.memoizedState,s);if(l&&(r.memoizedState=s,Kn=!0),r=r.queue,bh(ky.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||cn!==null&&cn.memoizedState.tag&1){if(n.flags|=2048,Jl(9,Dy.bind(null,n,r,s,t),void 0,null),fn===null)throw Error(le(349));So&30||My(n,t,s)}return s}function My(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dy(e,t,n,r){t.value=n,t.getSnapshot=r,Py(t)&&Ly(e)}function ky(e,t,n){return n(function(){Py(t)&&Ly(e)})}function Py(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zr(e,n)}catch{return!0}}function Ly(e){var t=Ui(e,1);t!==null&&Qr(t,e,1,-1)}function em(e){var t=li();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:e},t.queue=e,e=e.dispatch=pS.bind(null,kt,e),[t.memoizedState,e]}function Jl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function By(){return kr().memoizedState}function Cc(e,t,n,r){var s=li();kt.flags|=e,s.memoizedState=Jl(1|t,n,void 0,r===void 0?null:r)}function Ef(e,t,n,r){var s=kr();r=r===void 0?null:r;var l=void 0;if(tn!==null){var d=tn.memoizedState;if(l=d.destroy,r!==null&&Sh(r,d.deps)){s.memoizedState=Jl(t,n,l,r);return}}kt.flags|=e,s.memoizedState=Jl(1|t,n,l,r)}function tm(e,t){return Cc(8390656,8,e,t)}function bh(e,t){return Ef(2048,8,e,t)}function Fy(e,t){return Ef(4,2,e,t)}function jy(e,t){return Ef(4,4,e,t)}function Uy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zy(e,t,n){return n=n!=null?n.concat([e]):null,Ef(4,4,Uy.bind(null,t,e),n)}function Ih(){}function Vy(e,t){var n=kr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hy(e,t){var n=kr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gy(e,t,n){return So&21?(Zr(n,t)||(n=Qx(),kt.lanes|=n,Ao|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kn=!0),e.memoizedState=n)}function hS(e,t){var n=ft;ft=n!==0&&4>n?n:4,e(!0);var r=jd.transition;jd.transition={};try{e(!1),t()}finally{ft=n,jd.transition=r}}function $y(){return kr().memoizedState}function gS(e,t,n){var r=Is(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wy(e))Xy(t,n);else if(n=Iy(e,t,n,r),n!==null){var s=Fn();Qr(n,e,r,s),Yy(n,t,r)}}function pS(e,t,n){var r=Is(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wy(e))Xy(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,g=l(d,n);if(s.hasEagerState=!0,s.eagerState=g,Zr(g,d)){var x=t.interleaved;x===null?(s.next=s,yh(t)):(s.next=x.next,x.next=s),t.interleaved=s;return}}catch{}finally{}n=Iy(e,t,s,r),n!==null&&(s=Fn(),Qr(n,e,r,s),Yy(n,t,r))}}function Wy(e){var t=e.alternate;return e===kt||t!==null&&t===kt}function Xy(e,t){Ol=Zc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ih(e,n)}}var Kc={readContext:Dr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},mS={readContext:Dr,useCallback:function(e,t){return li().memoizedState=[e,t===void 0?null:t],e},useContext:Dr,useEffect:tm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cc(4194308,4,Uy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cc(4,2,e,t)},useMemo:function(e,t){var n=li();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=li();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gS.bind(null,kt,e),[r.memoizedState,e]},useRef:function(e){var t=li();return e={current:e},t.memoizedState=e},useState:em,useDebugValue:Ih,useDeferredValue:function(e){return li().memoizedState=e},useTransition:function(){var e=em(!1),t=e[0];return e=hS.bind(null,e[1]),li().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kt,s=li();if(Nt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=t(),fn===null)throw Error(le(349));So&30||My(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,tm(ky.bind(null,r,l,e),[e]),r.flags|=2048,Jl(9,Dy.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=li(),t=fn.identifierPrefix;if(Nt){var n=Di,r=Mi;n=(r&~(1<<32-Yr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xS={readContext:Dr,useCallback:Vy,useContext:Dr,useEffect:bh,useImperativeHandle:zy,useInsertionEffect:Fy,useLayoutEffect:jy,useMemo:Hy,useReducer:Ud,useRef:By,useState:function(){return Ud(Kl)},useDebugValue:Ih,useDeferredValue:function(e){var t=kr();return Gy(t,tn.memoizedState,e)},useTransition:function(){var e=Ud(Kl)[0],t=kr().memoizedState;return[e,t]},useMutableSource:Ry,useSyncExternalStore:Oy,useId:$y,unstable_isNewReconciler:!1},yS={readContext:Dr,useCallback:Vy,useContext:Dr,useEffect:bh,useImperativeHandle:zy,useInsertionEffect:Fy,useLayoutEffect:jy,useMemo:Hy,useReducer:zd,useRef:By,useState:function(){return zd(Kl)},useDebugValue:Ih,useDeferredValue:function(e){var t=kr();return tn===null?t.memoizedState=e:Gy(t,tn.memoizedState,e)},useTransition:function(){var e=zd(Kl)[0],t=kr().memoizedState;return[e,t]},useMutableSource:Ry,useSyncExternalStore:Oy,useId:$y,unstable_isNewReconciler:!1};function jr(e,t){if(e&&e.defaultProps){t=Pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function G0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cf={isMounted:function(e){return(e=e._reactInternals)?Ro(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fn(),s=Is(e),l=Pi(r,s);l.payload=t,n!=null&&(l.callback=n),t=_s(e,l,s),t!==null&&(Qr(t,e,s,r),vc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fn(),s=Is(e),l=Pi(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=_s(e,l,s),t!==null&&(Qr(t,e,s,r),vc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fn(),r=Is(e),s=Pi(n,r);s.tag=2,t!=null&&(s.callback=t),t=_s(e,s,r),t!==null&&(Qr(t,e,r,n),vc(t,e,r))}};function nm(e,t,n,r,s,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,d):t.prototype&&t.prototype.isPureReactComponent?!$l(n,r)||!$l(s,l):!0}function Qy(e,t,n){var r=!1,s=Ds,l=t.contextType;return typeof l=="object"&&l!==null?l=Dr(l):(s=er(t)?Eo:On.current,r=t.contextTypes,l=(r=r!=null)?Ra(e,s):Ds),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function rm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cf.enqueueReplaceState(t,t.state,null)}function $0(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},wh(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Dr(l):(l=er(t)?Eo:On.current,s.context=Ra(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(G0(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Cf.enqueueReplaceState(s,s.state,null),Qc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ka(e,t){try{var n="",r=t;do n+=WC(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Vd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function W0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wS=typeof WeakMap=="function"?WeakMap:Map;function qy(e,t,n){n=Pi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ef||(ef=!0,n1=r),W0(e,t)},n}function Zy(e,t,n){n=Pi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){W0(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){W0(e,t),typeof r!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function im(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wS;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=DS.bind(null,e,t,n),t.then(e,e))}function sm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function om(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pi(-1,1),t.tag=2,_s(n,t,1))),n.lanes|=1),e)}var vS=Hi.ReactCurrentOwner,Kn=!1;function Ln(e,t,n,r){t.child=e===null?by(t,null,n,r):Ma(t,e.child,n,r)}function am(e,t,n,r,s){n=n.render;var l=t.ref;return pa(t,s),r=Ah(e,t,n,r,l,s),n=_h(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zi(e,t,s)):(Nt&&n&&dh(t),t.flags|=1,Ln(e,t,r,s),t.child)}function lm(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Ph(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Ky(e,t,l,r,s)):(e=bc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var d=l.memoizedProps;if(n=n.compare,n=n!==null?n:$l,n(d,r)&&e.ref===t.ref)return zi(e,t,s)}return t.flags|=1,e=Ns(l,r),e.ref=t.ref,e.return=t,t.child=e}function Ky(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if($l(l,r)&&e.ref===t.ref)if(Kn=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Kn=!0);else return t.lanes=e.lanes,zi(e,t,s)}return X0(e,t,n,r,s)}function Jy(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(ua,lr),lr|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yt(ua,lr),lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,yt(ua,lr),lr|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,yt(ua,lr),lr|=r;return Ln(e,t,s,n),t.child}function ew(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function X0(e,t,n,r,s){var l=er(n)?Eo:On.current;return l=Ra(t,l),pa(t,s),n=Ah(e,t,n,r,l,s),r=_h(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zi(e,t,s)):(Nt&&r&&dh(t),t.flags|=1,Ln(e,t,n,s),t.child)}function um(e,t,n,r,s){if(er(n)){var l=!0;Gc(t)}else l=!1;if(pa(t,s),t.stateNode===null)Sc(e,t),Qy(t,n,r),$0(t,n,r,s),r=!0;else if(e===null){var d=t.stateNode,g=t.memoizedProps;d.props=g;var x=d.context,p=n.contextType;typeof p=="object"&&p!==null?p=Dr(p):(p=er(n)?Eo:On.current,p=Ra(t,p));var v=n.getDerivedStateFromProps,E=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==r||x!==p)&&rm(t,d,r,p),ns=!1;var b=t.memoizedState;d.state=b,Qc(t,r,d,s),x=t.memoizedState,g!==r||b!==x||Jn.current||ns?(typeof v=="function"&&(G0(t,n,v,r),x=t.memoizedState),(g=ns||nm(t,n,g,r,b,x,p))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),d.props=r,d.state=x,d.context=p,r=g):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Ny(e,t),g=t.memoizedProps,p=t.type===t.elementType?g:jr(t.type,g),d.props=p,E=t.pendingProps,b=d.context,x=n.contextType,typeof x=="object"&&x!==null?x=Dr(x):(x=er(n)?Eo:On.current,x=Ra(t,x));var I=n.getDerivedStateFromProps;(v=typeof I=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==E||b!==x)&&rm(t,d,r,x),ns=!1,b=t.memoizedState,d.state=b,Qc(t,r,d,s);var N=t.memoizedState;g!==E||b!==N||Jn.current||ns?(typeof I=="function"&&(G0(t,n,I,r),N=t.memoizedState),(p=ns||nm(t,n,p,r,b,N,x)||!1)?(v||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,N,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,N,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),d.props=r,d.state=N,d.context=x,r=p):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return Y0(e,t,n,r,l,s)}function Y0(e,t,n,r,s,l){ew(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return s&&Yp(t,n,!1),zi(e,t,l);r=t.stateNode,vS.current=t;var g=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=Ma(t,e.child,null,l),t.child=Ma(t,null,g,l)):Ln(e,t,g,l),t.memoizedState=r.state,s&&Yp(t,n,!0),t.child}function tw(e){var t=e.stateNode;t.pendingContext?Xp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xp(e,t.context,!1),vh(e,t.containerInfo)}function cm(e,t,n,r,s){return Oa(),gh(s),t.flags|=256,Ln(e,t,n,r),t.child}var Q0={dehydrated:null,treeContext:null,retryLane:0};function q0(e){return{baseLanes:e,cachePool:null,transitions:null}}function nw(e,t,n){var r=t.pendingProps,s=Dt.current,l=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(s&2)!==0),g?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),yt(Dt,s&1),e===null)return V0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,l?(r=t.mode,l=t.child,d={mode:"hidden",children:d},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=_f(d,r,0,null),e=xo(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=q0(n),t.memoizedState=Q0,e):Nh(t,d));if(s=e.memoizedState,s!==null&&(g=s.dehydrated,g!==null))return ES(e,t,d,r,g,s,n);if(l){l=r.fallback,d=t.mode,s=e.child,g=s.sibling;var x={mode:"hidden",children:r.children};return!(d&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=Ns(s,x),r.subtreeFlags=s.subtreeFlags&14680064),g!==null?l=Ns(g,l):(l=xo(l,d,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,d=e.child.memoizedState,d=d===null?q0(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~n,t.memoizedState=Q0,r}return l=e.child,e=l.sibling,r=Ns(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Nh(e,t){return t=_f({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zu(e,t,n,r){return r!==null&&gh(r),Ma(t,e.child,null,n),e=Nh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ES(e,t,n,r,s,l,d){if(n)return t.flags&256?(t.flags&=-257,r=Vd(Error(le(422))),Zu(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=_f({mode:"visible",children:r.children},s,0,null),l=xo(l,s,d,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Ma(t,e.child,null,d),t.child.memoizedState=q0(d),t.memoizedState=Q0,l);if(!(t.mode&1))return Zu(e,t,d,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var g=r.dgst;return r=g,l=Error(le(419)),r=Vd(l,r,void 0),Zu(e,t,d,r)}if(g=(d&e.childLanes)!==0,Kn||g){if(r=fn,r!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|d)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Ui(e,s),Qr(r,e,s,-1))}return kh(),r=Vd(Error(le(421))),Zu(e,t,d,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kS.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,dr=As(s.nextSibling),hr=t,Nt=!0,Gr=null,e!==null&&(Nr[Tr++]=Mi,Nr[Tr++]=Di,Nr[Tr++]=Co,Mi=e.id,Di=e.overflow,Co=t),t=Nh(t,r.children),t.flags|=4096,t)}function fm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),H0(e.return,t,n)}function Hd(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function rw(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(Ln(e,t,r.children,n),r=Dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fm(e,n,t);else if(e.tag===19)fm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(yt(Dt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&qc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Hd(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Hd(t,!0,n,null,l);break;case"together":Hd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ao|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,n=Ns(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ns(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function CS(e,t,n){switch(t.tag){case 3:tw(t),Oa();break;case 5:Ty(t);break;case 1:er(t.type)&&Gc(t);break;case 4:vh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;yt(Xc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(yt(Dt,Dt.current&1),t.flags|=128,null):n&t.child.childLanes?nw(e,t,n):(yt(Dt,Dt.current&1),e=zi(e,t,n),e!==null?e.sibling:null);yt(Dt,Dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yt(Dt,Dt.current),r)break;return null;case 22:case 23:return t.lanes=0,Jy(e,t,n)}return zi(e,t,n)}var iw,Z0,sw,ow;iw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Z0=function(){};sw=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,to(vi.current);var l=null;switch(n){case"input":s=w0(e,s),r=w0(e,r),l=[];break;case"select":s=Pt({},s,{value:void 0}),r=Pt({},r,{value:void 0}),l=[];break;case"textarea":s=C0(e,s),r=C0(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vc)}A0(n,r);var d;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var g=s[p];for(d in g)g.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Fl.hasOwnProperty(p)?l||(l=[]):(l=l||[]).push(p,null));for(p in r){var x=r[p];if(g=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&x!==g&&(x!=null||g!=null))if(p==="style")if(g){for(d in g)!g.hasOwnProperty(d)||x&&x.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in x)x.hasOwnProperty(d)&&g[d]!==x[d]&&(n||(n={}),n[d]=x[d])}else n||(l||(l=[]),l.push(p,n)),n=x;else p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,g=g?g.__html:void 0,x!=null&&g!==x&&(l=l||[]).push(p,x)):p==="children"?typeof x!="string"&&typeof x!="number"||(l=l||[]).push(p,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(p)?(x!=null&&p==="onScroll"&&Ct("scroll",e),l||g===x||(l=[])):(l=l||[]).push(p,x))}n&&(l=l||[]).push("style",n);var p=l;(t.updateQueue=p)&&(t.flags|=4)}};ow=function(e,t,n,r){n!==r&&(t.flags|=4)};function fl(e,t){if(!Nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _n(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SS(e,t,n){var r=t.pendingProps;switch(hh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(t),null;case 1:return er(t.type)&&Hc(),_n(t),null;case 3:return r=t.stateNode,Da(),At(Jn),At(On),Ch(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gr!==null&&(s1(Gr),Gr=null))),Z0(e,t),_n(t),null;case 5:Eh(t);var s=to(ql.current);if(n=t.type,e!==null&&t.stateNode!=null)sw(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(le(166));return _n(t),null}if(e=to(vi.current),Qu(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[gi]=t,r[Yl]=l,e=(t.mode&1)!==0,n){case"dialog":Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":case"embed":Ct("load",r);break;case"video":case"audio":for(s=0;s<Sl.length;s++)Ct(Sl[s],r);break;case"source":Ct("error",r);break;case"img":case"image":case"link":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"input":vp(r,l),Ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Ct("invalid",r);break;case"textarea":Cp(r,l),Ct("invalid",r)}A0(n,l),s=null;for(var d in l)if(l.hasOwnProperty(d)){var g=l[d];d==="children"?typeof g=="string"?r.textContent!==g&&(l.suppressHydrationWarning!==!0&&Yu(r.textContent,g,e),s=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(l.suppressHydrationWarning!==!0&&Yu(r.textContent,g,e),s=["children",""+g]):Fl.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&Ct("scroll",r)}switch(n){case"input":Uu(r),Ep(r,l,!0);break;case"textarea":Uu(r),Sp(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Vc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[gi]=t,e[Yl]=r,iw(e,t,!1,!1),t.stateNode=e;e:{switch(d=_0(n,r),n){case"dialog":Ct("cancel",e),Ct("close",e),s=r;break;case"iframe":case"object":case"embed":Ct("load",e),s=r;break;case"video":case"audio":for(s=0;s<Sl.length;s++)Ct(Sl[s],e);s=r;break;case"source":Ct("error",e),s=r;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),s=r;break;case"details":Ct("toggle",e),s=r;break;case"input":vp(e,r),s=w0(e,r),Ct("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pt({},r,{value:void 0}),Ct("invalid",e);break;case"textarea":Cp(e,r),s=C0(e,r),Ct("invalid",e);break;default:s=r}A0(n,s),g=s;for(l in g)if(g.hasOwnProperty(l)){var x=g[l];l==="style"?Bx(e,x):l==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Px(e,x)):l==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&jl(e,x):typeof x=="number"&&jl(e,""+x):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Fl.hasOwnProperty(l)?x!=null&&l==="onScroll"&&Ct("scroll",e):x!=null&&K1(e,l,x,d))}switch(n){case"input":Uu(e),Ep(e,r,!1);break;case"textarea":Uu(e),Sp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ms(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?fa(e,!!r.multiple,l,!1):r.defaultValue!=null&&fa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _n(t),null;case 6:if(e&&t.stateNode!=null)ow(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(le(166));if(n=to(ql.current),to(vi.current),Qu(t)){if(r=t.stateNode,n=t.memoizedProps,r[gi]=t,(l=r.nodeValue!==n)&&(e=hr,e!==null))switch(e.tag){case 3:Yu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yu(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gi]=t,t.stateNode=r}return _n(t),null;case 13:if(At(Dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nt&&dr!==null&&t.mode&1&&!(t.flags&128))Ay(),Oa(),t.flags|=98560,l=!1;else if(l=Qu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(le(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(le(317));l[gi]=t}else Oa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_n(t),l=!1}else Gr!==null&&(s1(Gr),Gr=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Dt.current&1?sn===0&&(sn=3):kh())),t.updateQueue!==null&&(t.flags|=4),_n(t),null);case 4:return Da(),Z0(e,t),e===null&&Wl(t.stateNode.containerInfo),_n(t),null;case 10:return xh(t.type._context),_n(t),null;case 17:return er(t.type)&&Hc(),_n(t),null;case 19:if(At(Dt),l=t.memoizedState,l===null)return _n(t),null;if(r=(t.flags&128)!==0,d=l.rendering,d===null)if(r)fl(l,!1);else{if(sn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=qc(e),d!==null){for(t.flags|=128,fl(l,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return yt(Dt,Dt.current&1|2),t.child}e=e.sibling}l.tail!==null&&Wt()>Pa&&(t.flags|=128,r=!0,fl(l,!1),t.lanes=4194304)}else{if(!r)if(e=qc(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Nt)return _n(t),null}else 2*Wt()-l.renderingStartTime>Pa&&n!==1073741824&&(t.flags|=128,r=!0,fl(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(n=l.last,n!==null?n.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,n=Dt.current,yt(Dt,r?n&1|2:n&1),t):(_n(t),null);case 22:case 23:return Dh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lr&1073741824&&(_n(t),t.subtreeFlags&6&&(t.flags|=8192)):_n(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function AS(e,t){switch(hh(t),t.tag){case 1:return er(t.type)&&Hc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(),At(Jn),At(On),Ch(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eh(t),null;case 13:if(At(Dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));Oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return At(Dt),null;case 4:return Da(),null;case 10:return xh(t.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var Ku=!1,Tn=!1,_S=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function la(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(e,t,r)}else n.current=null}function K0(e,t,n){try{n()}catch(r){Gt(e,t,r)}}var dm=!1;function bS(e,t){if(P0=jc,e=fy(),fh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var d=0,g=-1,x=-1,p=0,v=0,E=e,b=null;t:for(;;){for(var I;E!==n||s!==0&&E.nodeType!==3||(g=d+s),E!==l||r!==0&&E.nodeType!==3||(x=d+r),E.nodeType===3&&(d+=E.nodeValue.length),(I=E.firstChild)!==null;)b=E,E=I;for(;;){if(E===e)break t;if(b===n&&++p===s&&(g=d),b===l&&++v===r&&(x=d),(I=E.nextSibling)!==null)break;E=b,b=E.parentNode}E=I}n=g===-1||x===-1?null:{start:g,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(L0={focusedElem:e,selectionRange:n},jc=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var O=N.memoizedProps,P=N.memoizedState,M=t.stateNode,_=M.getSnapshotBeforeUpdate(t.elementType===t.type?O:jr(t.type,O),P);M.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(k){Gt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return N=dm,dm=!1,N}function Ml(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&K0(t,n,l)}s=s.next}while(s!==r)}}function Sf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function J0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function aw(e){var t=e.alternate;t!==null&&(e.alternate=null,aw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gi],delete t[Yl],delete t[j0],delete t[lS],delete t[uS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lw(e){return e.tag===5||e.tag===3||e.tag===4}function hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function e1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vc));else if(r!==4&&(e=e.child,e!==null))for(e1(e,t,n),e=e.sibling;e!==null;)e1(e,t,n),e=e.sibling}function t1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(t1(e,t,n),e=e.sibling;e!==null;)t1(e,t,n),e=e.sibling}var xn=null,Vr=!1;function Zi(e,t,n){for(n=n.child;n!==null;)uw(e,t,n),n=n.sibling}function uw(e,t,n){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(pf,n)}catch{}switch(n.tag){case 5:Tn||la(n,t);case 6:var r=xn,s=Vr;xn=null,Zi(e,t,n),xn=r,Vr=s,xn!==null&&(Vr?(e=xn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xn.removeChild(n.stateNode));break;case 18:xn!==null&&(Vr?(e=xn,n=n.stateNode,e.nodeType===8?Ld(e.parentNode,n):e.nodeType===1&&Ld(e,n),Hl(e)):Ld(xn,n.stateNode));break;case 4:r=xn,s=Vr,xn=n.stateNode.containerInfo,Vr=!0,Zi(e,t,n),xn=r,Vr=s;break;case 0:case 11:case 14:case 15:if(!Tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&K0(n,t,d),s=s.next}while(s!==r)}Zi(e,t,n);break;case 1:if(!Tn&&(la(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){Gt(n,t,g)}Zi(e,t,n);break;case 21:Zi(e,t,n);break;case 22:n.mode&1?(Tn=(r=Tn)||n.memoizedState!==null,Zi(e,t,n),Tn=r):Zi(e,t,n);break;default:Zi(e,t,n)}}function gm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _S),t.forEach(function(r){var s=PS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 5:xn=g.stateNode,Vr=!1;break e;case 3:xn=g.stateNode.containerInfo,Vr=!0;break e;case 4:xn=g.stateNode.containerInfo,Vr=!0;break e}g=g.return}if(xn===null)throw Error(le(160));uw(l,d,s),xn=null,Vr=!1;var x=s.alternate;x!==null&&(x.return=null),s.return=null}catch(p){Gt(s,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cw(t,e),t=t.sibling}function cw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fr(t,e),oi(e),r&4){try{Ml(3,e,e.return),Sf(3,e)}catch(O){Gt(e,e.return,O)}try{Ml(5,e,e.return)}catch(O){Gt(e,e.return,O)}}break;case 1:Fr(t,e),oi(e),r&512&&n!==null&&la(n,n.return);break;case 5:if(Fr(t,e),oi(e),r&512&&n!==null&&la(n,n.return),e.flags&32){var s=e.stateNode;try{jl(s,"")}catch(O){Gt(e,e.return,O)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,d=n!==null?n.memoizedProps:l,g=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{g==="input"&&l.type==="radio"&&l.name!=null&&Mx(s,l),_0(g,d);var p=_0(g,l);for(d=0;d<x.length;d+=2){var v=x[d],E=x[d+1];v==="style"?Bx(s,E):v==="dangerouslySetInnerHTML"?Px(s,E):v==="children"?jl(s,E):K1(s,v,E,p)}switch(g){case"input":v0(s,l);break;case"textarea":Dx(s,l);break;case"select":var b=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var I=l.value;I!=null?fa(s,!!l.multiple,I,!1):b!==!!l.multiple&&(l.defaultValue!=null?fa(s,!!l.multiple,l.defaultValue,!0):fa(s,!!l.multiple,l.multiple?[]:"",!1))}s[Yl]=l}catch(O){Gt(e,e.return,O)}}break;case 6:if(Fr(t,e),oi(e),r&4){if(e.stateNode===null)throw Error(le(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(O){Gt(e,e.return,O)}}break;case 3:if(Fr(t,e),oi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hl(t.containerInfo)}catch(O){Gt(e,e.return,O)}break;case 4:Fr(t,e),oi(e);break;case 13:Fr(t,e),oi(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Oh=Wt())),r&4&&gm(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(Tn=(p=Tn)||v,Fr(t,e),Tn=p):Fr(t,e),oi(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!v&&e.mode&1)for(Ae=e,v=e.child;v!==null;){for(E=Ae=v;Ae!==null;){switch(b=Ae,I=b.child,b.tag){case 0:case 11:case 14:case 15:Ml(4,b,b.return);break;case 1:la(b,b.return);var N=b.stateNode;if(typeof N.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(O){Gt(r,n,O)}}break;case 5:la(b,b.return);break;case 22:if(b.memoizedState!==null){mm(E);continue}}I!==null?(I.return=b,Ae=I):mm(E)}v=v.sibling}e:for(v=null,E=e;;){if(E.tag===5){if(v===null){v=E;try{s=E.stateNode,p?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(g=E.stateNode,x=E.memoizedProps.style,d=x!=null&&x.hasOwnProperty("display")?x.display:null,g.style.display=Lx("display",d))}catch(O){Gt(e,e.return,O)}}}else if(E.tag===6){if(v===null)try{E.stateNode.nodeValue=p?"":E.memoizedProps}catch(O){Gt(e,e.return,O)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;v===E&&(v=null),E=E.return}v===E&&(v=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:Fr(t,e),oi(e),r&4&&gm(e);break;case 21:break;default:Fr(t,e),oi(e)}}function oi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lw(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(jl(s,""),r.flags&=-33);var l=hm(e);t1(e,l,s);break;case 3:case 4:var d=r.stateNode.containerInfo,g=hm(e);e1(e,g,d);break;default:throw Error(le(161))}}catch(x){Gt(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IS(e,t,n){Ae=e,fw(e)}function fw(e,t,n){for(var r=(e.mode&1)!==0;Ae!==null;){var s=Ae,l=s.child;if(s.tag===22&&r){var d=s.memoizedState!==null||Ku;if(!d){var g=s.alternate,x=g!==null&&g.memoizedState!==null||Tn;g=Ku;var p=Tn;if(Ku=d,(Tn=x)&&!p)for(Ae=s;Ae!==null;)d=Ae,x=d.child,d.tag===22&&d.memoizedState!==null?xm(s):x!==null?(x.return=d,Ae=x):xm(s);for(;l!==null;)Ae=l,fw(l),l=l.sibling;Ae=s,Ku=g,Tn=p}pm(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,Ae=l):pm(e)}}function pm(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tn||Sf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Tn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:jr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Jp(t,l,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jp(t,d,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var E=v.dehydrated;E!==null&&Hl(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Tn||t.flags&512&&J0(t)}catch(b){Gt(t,t.return,b)}}if(t===e){Ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function mm(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function xm(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sf(4,t)}catch(x){Gt(t,n,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(x){Gt(t,s,x)}}var l=t.return;try{J0(t)}catch(x){Gt(t,l,x)}break;case 5:var d=t.return;try{J0(t)}catch(x){Gt(t,d,x)}}}catch(x){Gt(t,t.return,x)}if(t===e){Ae=null;break}var g=t.sibling;if(g!==null){g.return=t.return,Ae=g;break}Ae=t.return}}var NS=Math.ceil,Jc=Hi.ReactCurrentDispatcher,Th=Hi.ReactCurrentOwner,Mr=Hi.ReactCurrentBatchConfig,nt=0,fn=null,Qt=null,wn=0,lr=0,ua=Bs(0),sn=0,eu=null,Ao=0,Af=0,Rh=0,Dl=null,qn=null,Oh=0,Pa=1/0,_i=null,ef=!1,n1=null,bs=null,Ju=!1,ys=null,tf=0,kl=0,r1=null,Ac=-1,_c=0;function Fn(){return nt&6?Wt():Ac!==-1?Ac:Ac=Wt()}function Is(e){return e.mode&1?nt&2&&wn!==0?wn&-wn:fS.transition!==null?(_c===0&&(_c=Qx()),_c):(e=ft,e!==0||(e=window.event,e=e===void 0?16:ny(e.type)),e):1}function Qr(e,t,n,r){if(50<kl)throw kl=0,r1=null,Error(le(185));cu(e,n,r),(!(nt&2)||e!==fn)&&(e===fn&&(!(nt&2)&&(Af|=n),sn===4&&ss(e,wn)),tr(e,r),n===1&&nt===0&&!(t.mode&1)&&(Pa=Wt()+500,vf&&Fs()))}function tr(e,t){var n=e.callbackNode;f3(e,t);var r=Fc(e,e===fn?wn:0);if(r===0)n!==null&&bp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bp(n),t===1)e.tag===0?cS(ym.bind(null,e)):Ey(ym.bind(null,e)),oS(function(){!(nt&6)&&Fs()}),n=null;else{switch(qx(r)){case 1:n=rh;break;case 4:n=Xx;break;case 16:n=Bc;break;case 536870912:n=Yx;break;default:n=Bc}n=ww(n,dw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dw(e,t){if(Ac=-1,_c=0,nt&6)throw Error(le(327));var n=e.callbackNode;if(ma()&&e.callbackNode!==n)return null;var r=Fc(e,e===fn?wn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nf(e,r);else{t=r;var s=nt;nt|=2;var l=gw();(fn!==e||wn!==t)&&(_i=null,Pa=Wt()+500,mo(e,t));do try{OS();break}catch(g){hw(e,g)}while(!0);mh(),Jc.current=l,nt=s,Qt!==null?t=0:(fn=null,wn=0,t=sn)}if(t!==0){if(t===2&&(s=R0(e),s!==0&&(r=s,t=i1(e,s))),t===1)throw n=eu,mo(e,0),ss(e,r),tr(e,Wt()),n;if(t===6)ss(e,r);else{if(s=e.current.alternate,!(r&30)&&!TS(s)&&(t=nf(e,r),t===2&&(l=R0(e),l!==0&&(r=l,t=i1(e,l))),t===1))throw n=eu,mo(e,0),ss(e,r),tr(e,Wt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(le(345));case 2:Ks(e,qn,_i);break;case 3:if(ss(e,r),(r&130023424)===r&&(t=Oh+500-Wt(),10<t)){if(Fc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Fn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=F0(Ks.bind(null,e,qn,_i),t);break}Ks(e,qn,_i);break;case 4:if(ss(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var d=31-Yr(r);l=1<<d,d=t[d],d>s&&(s=d),r&=~l}if(r=s,r=Wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NS(r/1960))-r,10<r){e.timeoutHandle=F0(Ks.bind(null,e,qn,_i),r);break}Ks(e,qn,_i);break;case 5:Ks(e,qn,_i);break;default:throw Error(le(329))}}}return tr(e,Wt()),e.callbackNode===n?dw.bind(null,e):null}function i1(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(mo(e,t).flags|=256),e=nf(e,t),e!==2&&(t=qn,qn=n,t!==null&&s1(t)),e}function s1(e){qn===null?qn=e:qn.push.apply(qn,e)}function TS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Zr(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ss(e,t){for(t&=~Rh,t&=~Af,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yr(t),r=1<<n;e[n]=-1,t&=~r}}function ym(e){if(nt&6)throw Error(le(327));ma();var t=Fc(e,0);if(!(t&1))return tr(e,Wt()),null;var n=nf(e,t);if(e.tag!==0&&n===2){var r=R0(e);r!==0&&(t=r,n=i1(e,r))}if(n===1)throw n=eu,mo(e,0),ss(e,t),tr(e,Wt()),n;if(n===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ks(e,qn,_i),tr(e,Wt()),null}function Mh(e,t){var n=nt;nt|=1;try{return e(t)}finally{nt=n,nt===0&&(Pa=Wt()+500,vf&&Fs())}}function _o(e){ys!==null&&ys.tag===0&&!(nt&6)&&ma();var t=nt;nt|=1;var n=Mr.transition,r=ft;try{if(Mr.transition=null,ft=1,e)return e()}finally{ft=r,Mr.transition=n,nt=t,!(nt&6)&&Fs()}}function Dh(){lr=ua.current,At(ua)}function mo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sS(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(hh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hc();break;case 3:Da(),At(Jn),At(On),Ch();break;case 5:Eh(r);break;case 4:Da();break;case 13:At(Dt);break;case 19:At(Dt);break;case 10:xh(r.type._context);break;case 22:case 23:Dh()}n=n.return}if(fn=e,Qt=e=Ns(e.current,null),wn=lr=t,sn=0,eu=null,Rh=Af=Ao=0,qn=Dl=null,eo!==null){for(t=0;t<eo.length;t++)if(n=eo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var d=l.next;l.next=s,r.next=d}n.pending=r}eo=null}return e}function hw(e,t){do{var n=Qt;try{if(mh(),Ec.current=Kc,Zc){for(var r=kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zc=!1}if(So=0,cn=tn=kt=null,Ol=!1,Zl=0,Th.current=null,n===null||n.return===null){sn=1,eu=t,Qt=null;break}e:{var l=e,d=n.return,g=n,x=t;if(t=wn,g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var p=x,v=g,E=v.tag;if(!(v.mode&1)&&(E===0||E===11||E===15)){var b=v.alternate;b?(v.updateQueue=b.updateQueue,v.memoizedState=b.memoizedState,v.lanes=b.lanes):(v.updateQueue=null,v.memoizedState=null)}var I=sm(d);if(I!==null){I.flags&=-257,om(I,d,g,l,t),I.mode&1&&im(l,p,t),t=I,x=p;var N=t.updateQueue;if(N===null){var O=new Set;O.add(x),t.updateQueue=O}else N.add(x);break e}else{if(!(t&1)){im(l,p,t),kh();break e}x=Error(le(426))}}else if(Nt&&g.mode&1){var P=sm(d);if(P!==null){!(P.flags&65536)&&(P.flags|=256),om(P,d,g,l,t),gh(ka(x,g));break e}}l=x=ka(x,g),sn!==4&&(sn=2),Dl===null?Dl=[l]:Dl.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var M=qy(l,x,t);Kp(l,M);break e;case 1:g=x;var _=l.type,T=l.stateNode;if(!(l.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(bs===null||!bs.has(T)))){l.flags|=65536,t&=-t,l.lanes|=t;var k=Zy(l,g,t);Kp(l,k);break e}}l=l.return}while(l!==null)}mw(n)}catch(H){t=H,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(!0)}function gw(){var e=Jc.current;return Jc.current=Kc,e===null?Kc:e}function kh(){(sn===0||sn===3||sn===2)&&(sn=4),fn===null||!(Ao&268435455)&&!(Af&268435455)||ss(fn,wn)}function nf(e,t){var n=nt;nt|=2;var r=gw();(fn!==e||wn!==t)&&(_i=null,mo(e,t));do try{RS();break}catch(s){hw(e,s)}while(!0);if(mh(),nt=n,Jc.current=r,Qt!==null)throw Error(le(261));return fn=null,wn=0,sn}function RS(){for(;Qt!==null;)pw(Qt)}function OS(){for(;Qt!==null&&!n3();)pw(Qt)}function pw(e){var t=yw(e.alternate,e,lr);e.memoizedProps=e.pendingProps,t===null?mw(e):Qt=t,Th.current=null}function mw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AS(n,t),n!==null){n.flags&=32767,Qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sn=6,Qt=null;return}}else if(n=SS(n,t,lr),n!==null){Qt=n;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);sn===0&&(sn=5)}function Ks(e,t,n){var r=ft,s=Mr.transition;try{Mr.transition=null,ft=1,MS(e,t,n,r)}finally{Mr.transition=s,ft=r}return null}function MS(e,t,n,r){do ma();while(ys!==null);if(nt&6)throw Error(le(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(d3(e,l),e===fn&&(Qt=fn=null,wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ju||(Ju=!0,ww(Bc,function(){return ma(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Mr.transition,Mr.transition=null;var d=ft;ft=1;var g=nt;nt|=4,Th.current=null,bS(e,n),cw(n,e),K3(L0),jc=!!P0,L0=P0=null,e.current=n,IS(n),r3(),nt=g,ft=d,Mr.transition=l}else e.current=n;if(Ju&&(Ju=!1,ys=e,tf=s),l=e.pendingLanes,l===0&&(bs=null),o3(n.stateNode),tr(e,Wt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ef)throw ef=!1,e=n1,n1=null,e;return tf&1&&e.tag!==0&&ma(),l=e.pendingLanes,l&1?e===r1?kl++:(kl=0,r1=e):kl=0,Fs(),null}function ma(){if(ys!==null){var e=qx(tf),t=Mr.transition,n=ft;try{if(Mr.transition=null,ft=16>e?16:e,ys===null)var r=!1;else{if(e=ys,ys=null,tf=0,nt&6)throw Error(le(331));var s=nt;for(nt|=4,Ae=e.current;Ae!==null;){var l=Ae,d=l.child;if(Ae.flags&16){var g=l.deletions;if(g!==null){for(var x=0;x<g.length;x++){var p=g[x];for(Ae=p;Ae!==null;){var v=Ae;switch(v.tag){case 0:case 11:case 15:Ml(8,v,l)}var E=v.child;if(E!==null)E.return=v,Ae=E;else for(;Ae!==null;){v=Ae;var b=v.sibling,I=v.return;if(aw(v),v===p){Ae=null;break}if(b!==null){b.return=I,Ae=b;break}Ae=I}}}var N=l.alternate;if(N!==null){var O=N.child;if(O!==null){N.child=null;do{var P=O.sibling;O.sibling=null,O=P}while(O!==null)}}Ae=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,Ae=d;else e:for(;Ae!==null;){if(l=Ae,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ml(9,l,l.return)}var M=l.sibling;if(M!==null){M.return=l.return,Ae=M;break e}Ae=l.return}}var _=e.current;for(Ae=_;Ae!==null;){d=Ae;var T=d.child;if(d.subtreeFlags&2064&&T!==null)T.return=d,Ae=T;else e:for(d=_;Ae!==null;){if(g=Ae,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Sf(9,g)}}catch(H){Gt(g,g.return,H)}if(g===d){Ae=null;break e}var k=g.sibling;if(k!==null){k.return=g.return,Ae=k;break e}Ae=g.return}}if(nt=s,Fs(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(pf,e)}catch{}r=!0}return r}finally{ft=n,Mr.transition=t}}return!1}function wm(e,t,n){t=ka(n,t),t=qy(e,t,1),e=_s(e,t,1),t=Fn(),e!==null&&(cu(e,1,t),tr(e,t))}function Gt(e,t,n){if(e.tag===3)wm(e,e,n);else for(;t!==null;){if(t.tag===3){wm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bs===null||!bs.has(r))){e=ka(n,e),e=Zy(t,e,1),t=_s(t,e,1),e=Fn(),t!==null&&(cu(t,1,e),tr(t,e));break}}t=t.return}}function DS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fn(),e.pingedLanes|=e.suspendedLanes&n,fn===e&&(wn&n)===n&&(sn===4||sn===3&&(wn&130023424)===wn&&500>Wt()-Oh?mo(e,0):Rh|=n),tr(e,t)}function xw(e,t){t===0&&(e.mode&1?(t=Hu,Hu<<=1,!(Hu&130023424)&&(Hu=4194304)):t=1);var n=Fn();e=Ui(e,t),e!==null&&(cu(e,t,n),tr(e,n))}function kS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xw(e,n)}function PS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(t),xw(e,n)}var yw;yw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jn.current)Kn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kn=!1,CS(e,t,n);Kn=!!(e.flags&131072)}else Kn=!1,Nt&&t.flags&1048576&&Cy(t,Wc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Sc(e,t),e=t.pendingProps;var s=Ra(t,On.current);pa(t,n),s=Ah(null,t,r,e,s,n);var l=_h();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,er(r)?(l=!0,Gc(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wh(t),s.updater=Cf,t.stateNode=s,s._reactInternals=t,$0(t,r,e,n),t=Y0(null,t,r,!0,l,n)):(t.tag=0,Nt&&l&&dh(t),Ln(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Sc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=BS(r),e=jr(r,e),s){case 0:t=X0(null,t,r,e,n);break e;case 1:t=um(null,t,r,e,n);break e;case 11:t=am(null,t,r,e,n);break e;case 14:t=lm(null,t,r,jr(r.type,e),n);break e}throw Error(le(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jr(r,s),X0(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jr(r,s),um(e,t,r,s,n);case 3:e:{if(tw(t),e===null)throw Error(le(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Ny(e,t),Qc(t,r,null,n);var d=t.memoizedState;if(r=d.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=ka(Error(le(423)),t),t=cm(e,t,r,n,s);break e}else if(r!==s){s=ka(Error(le(424)),t),t=cm(e,t,r,n,s);break e}else for(dr=As(t.stateNode.containerInfo.firstChild),hr=t,Nt=!0,Gr=null,n=by(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oa(),r===s){t=zi(e,t,n);break e}Ln(e,t,r,n)}t=t.child}return t;case 5:return Ty(t),e===null&&V0(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,d=s.children,B0(r,s)?d=null:l!==null&&B0(r,l)&&(t.flags|=32),ew(e,t),Ln(e,t,d,n),t.child;case 6:return e===null&&V0(t),null;case 13:return nw(e,t,n);case 4:return vh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ma(t,null,r,n):Ln(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jr(r,s),am(e,t,r,s,n);case 7:return Ln(e,t,t.pendingProps,n),t.child;case 8:return Ln(e,t,t.pendingProps.children,n),t.child;case 12:return Ln(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,d=s.value,yt(Xc,r._currentValue),r._currentValue=d,l!==null)if(Zr(l.value,d)){if(l.children===s.children&&!Jn.current){t=zi(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var g=l.dependencies;if(g!==null){d=l.child;for(var x=g.firstContext;x!==null;){if(x.context===r){if(l.tag===1){x=Pi(-1,n&-n),x.tag=2;var p=l.updateQueue;if(p!==null){p=p.shared;var v=p.pending;v===null?x.next=x:(x.next=v.next,v.next=x),p.pending=x}}l.lanes|=n,x=l.alternate,x!==null&&(x.lanes|=n),H0(l.return,n,t),g.lanes|=n;break}x=x.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(le(341));d.lanes|=n,g=d.alternate,g!==null&&(g.lanes|=n),H0(d,n,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}Ln(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,pa(t,n),s=Dr(s),r=r(s),t.flags|=1,Ln(e,t,r,n),t.child;case 14:return r=t.type,s=jr(r,t.pendingProps),s=jr(r.type,s),lm(e,t,r,s,n);case 15:return Ky(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jr(r,s),Sc(e,t),t.tag=1,er(r)?(e=!0,Gc(t)):e=!1,pa(t,n),Qy(t,r,s),$0(t,r,s,n),Y0(null,t,r,!0,e,n);case 19:return rw(e,t,n);case 22:return Jy(e,t,n)}throw Error(le(156,t.tag))};function ww(e,t){return Wx(e,t)}function LS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new LS(e,t,n,r)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BS(e){if(typeof e=="function")return Ph(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eh)return 11;if(e===th)return 14}return 2}function Ns(e,t){var n=e.alternate;return n===null?(n=Or(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bc(e,t,n,r,s,l){var d=2;if(r=e,typeof e=="function")Ph(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Jo:return xo(n.children,s,l,t);case J1:d=8,s|=8;break;case p0:return e=Or(12,n,t,s|2),e.elementType=p0,e.lanes=l,e;case m0:return e=Or(13,n,t,s),e.elementType=m0,e.lanes=l,e;case x0:return e=Or(19,n,t,s),e.elementType=x0,e.lanes=l,e;case Tx:return _f(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ix:d=10;break e;case Nx:d=9;break e;case eh:d=11;break e;case th:d=14;break e;case ts:d=16,r=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=Or(d,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function xo(e,t,n,r){return e=Or(7,e,r,t),e.lanes=n,e}function _f(e,t,n,r){return e=Or(22,e,r,t),e.elementType=Tx,e.lanes=n,e.stateNode={isHidden:!1},e}function Gd(e,t,n){return e=Or(6,e,null,t),e.lanes=n,e}function $d(e,t,n){return t=Or(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_d(0),this.expirationTimes=_d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_d(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Lh(e,t,n,r,s,l,d,g,x){return e=new FS(e,t,n,g,x),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Or(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wh(l),e}function jS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vw(e){if(!e)return Ds;e=e._reactInternals;e:{if(Ro(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var n=e.type;if(er(n))return vy(e,n,t)}return t}function Ew(e,t,n,r,s,l,d,g,x){return e=Lh(n,r,!0,e,s,l,d,g,x),e.context=vw(null),n=e.current,r=Fn(),s=Is(n),l=Pi(r,s),l.callback=t??null,_s(n,l,s),e.current.lanes=s,cu(e,s,r),tr(e,r),e}function bf(e,t,n,r){var s=t.current,l=Fn(),d=Is(s);return n=vw(n),t.context===null?t.context=n:t.pendingContext=n,t=Pi(l,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_s(s,t,d),e!==null&&(Qr(e,s,d,l),vc(e,s,d)),d}function rf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bh(e,t){vm(e,t),(e=e.alternate)&&vm(e,t)}function US(){return null}var Cw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fh(e){this._internalRoot=e}If.prototype.render=Fh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));bf(e,t,null,null)};If.prototype.unmount=Fh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_o(function(){bf(null,e,null,null)}),t[ji]=null}};function If(e){this._internalRoot=e}If.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<is.length&&t!==0&&t<is[n].priority;n++);is.splice(n,0,e),n===0&&ty(e)}};function jh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Em(){}function zS(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var p=rf(d);l.call(p)}}var d=Ew(t,r,e,0,null,!1,!1,"",Em);return e._reactRootContainer=d,e[ji]=d.current,Wl(e.nodeType===8?e.parentNode:e),_o(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var g=r;r=function(){var p=rf(x);g.call(p)}}var x=Lh(e,0,!1,null,null,!1,!1,"",Em);return e._reactRootContainer=x,e[ji]=x.current,Wl(e.nodeType===8?e.parentNode:e),_o(function(){bf(t,x,n,r)}),x}function Tf(e,t,n,r,s){var l=n._reactRootContainer;if(l){var d=l;if(typeof s=="function"){var g=s;s=function(){var x=rf(d);g.call(x)}}bf(t,d,e,s)}else d=zS(n,t,e,s,r);return rf(d)}Zx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cl(t.pendingLanes);n!==0&&(ih(t,n|1),tr(t,Wt()),!(nt&6)&&(Pa=Wt()+500,Fs()))}break;case 13:_o(function(){var r=Ui(e,1);if(r!==null){var s=Fn();Qr(r,e,1,s)}}),Bh(e,1)}};sh=function(e){if(e.tag===13){var t=Ui(e,134217728);if(t!==null){var n=Fn();Qr(t,e,134217728,n)}Bh(e,134217728)}};Kx=function(e){if(e.tag===13){var t=Is(e),n=Ui(e,t);if(n!==null){var r=Fn();Qr(n,e,t,r)}Bh(e,t)}};Jx=function(){return ft};ey=function(e,t){var n=ft;try{return ft=e,t()}finally{ft=n}};I0=function(e,t,n){switch(t){case"input":if(v0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=wf(r);if(!s)throw Error(le(90));Ox(r),v0(r,s)}}}break;case"textarea":Dx(e,n);break;case"select":t=n.value,t!=null&&fa(e,!!n.multiple,t,!1)}};Ux=Mh;zx=_o;var VS={usingClientEntryPoint:!1,Events:[du,ra,wf,Fx,jx,Mh]},dl={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HS={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gx(e),e===null?null:e.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||US,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{pf=ec.inject(HS),wi=ec}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VS;mr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jh(t))throw Error(le(200));return jS(e,t,null,n)};mr.createRoot=function(e,t){if(!jh(e))throw Error(le(299));var n=!1,r="",s=Cw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Lh(e,1,!1,null,null,n,!1,r,s),e[ji]=t.current,Wl(e.nodeType===8?e.parentNode:e),new Fh(t)};mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=Gx(t),e=e===null?null:e.stateNode,e};mr.flushSync=function(e){return _o(e)};mr.hydrate=function(e,t,n){if(!Nf(t))throw Error(le(200));return Tf(null,e,t,!0,n)};mr.hydrateRoot=function(e,t,n){if(!jh(e))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",d=Cw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=Ew(t,null,e,1,n??null,s,!1,l,d),e[ji]=t.current,Wl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new If(t)};mr.render=function(e,t,n){if(!Nf(t))throw Error(le(200));return Tf(null,e,t,!1,n)};mr.unmountComponentAtNode=function(e){if(!Nf(e))throw Error(le(40));return e._reactRootContainer?(_o(function(){Tf(null,null,e,!1,function(){e._reactRootContainer=null,e[ji]=null})}),!0):!1};mr.unstable_batchedUpdates=Mh;mr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Nf(n))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return Tf(e,t,n,!1,r)};mr.version="18.3.1-next-f1338f8080-20240426";function Sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sw)}catch(e){console.error(e)}}Sw(),Sx.exports=mr;var GS=Sx.exports,Cm=GS;h0.createRoot=Cm.createRoot,h0.hydrateRoot=Cm.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(this,arguments)}var ws;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ws||(ws={}));const Sm="popstate";function $S(e){e===void 0&&(e={});function t(r,s){let{pathname:l,search:d,hash:g}=r.location;return o1("",{pathname:l,search:d,hash:g},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sf(s)}return XS(t,n,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WS(){return Math.random().toString(36).substr(2,8)}function Am(e,t){return{usr:e.state,key:e.key,idx:t}}function o1(e,t,n,r){return n===void 0&&(n=null),tu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Va(t):t,{state:n,key:t&&t.key||r||WS()})}function sf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Va(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function XS(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,d=s.history,g=ws.Pop,x=null,p=v();p==null&&(p=0,d.replaceState(tu({},d.state,{idx:p}),""));function v(){return(d.state||{idx:null}).idx}function E(){g=ws.Pop;let P=v(),M=P==null?null:P-p;p=P,x&&x({action:g,location:O.location,delta:M})}function b(P,M){g=ws.Push;let _=o1(O.location,P,M);p=v()+1;let T=Am(_,p),k=O.createHref(_);try{d.pushState(T,"",k)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(k)}l&&x&&x({action:g,location:O.location,delta:1})}function I(P,M){g=ws.Replace;let _=o1(O.location,P,M);p=v();let T=Am(_,p),k=O.createHref(_);d.replaceState(T,"",k),l&&x&&x({action:g,location:O.location,delta:0})}function N(P){let M=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof P=="string"?P:sf(P);return _=_.replace(/ $/,"%20"),Xt(M,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,M)}let O={get action(){return g},get location(){return e(s,d)},listen(P){if(x)throw new Error("A history only accepts one active listener");return s.addEventListener(Sm,E),x=P,()=>{s.removeEventListener(Sm,E),x=null}},createHref(P){return t(s,P)},createURL:N,encodeLocation(P){let M=N(P);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:I,go(P){return d.go(P)}};return O}var _m;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_m||(_m={}));function YS(e,t,n){return n===void 0&&(n="/"),QS(e,t,n)}function QS(e,t,n,r){let s=typeof t=="string"?Va(t):t,l=zh(s.pathname||"/",n);if(l==null)return null;let d=Aw(e);qS(d);let g=null;for(let x=0;g==null&&x<d.length;++x){let p=l4(l);g=s4(d[x],p)}return g}function Aw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,d,g)=>{let x={relativePath:g===void 0?l.path||"":g,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};x.relativePath.startsWith("/")&&(Xt(x.relativePath.startsWith(r),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(r.length));let p=Ts([r,x.relativePath]),v=n.concat(x);l.children&&l.children.length>0&&(Xt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Aw(l.children,t,v,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:r4(p,l.index),routesMeta:v})};return e.forEach((l,d)=>{var g;if(l.path===""||!((g=l.path)!=null&&g.includes("?")))s(l,d);else for(let x of _w(l.path))s(l,d,x)}),t}function _w(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let d=_w(r.join("/")),g=[];return g.push(...d.map(x=>x===""?l:[l,x].join("/"))),s&&g.push(...d),g.map(x=>e.startsWith("/")&&x===""?"/":x)}function qS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:i4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZS=/^:[\w-]+$/,KS=3,JS=2,e4=1,t4=10,n4=-2,bm=e=>e==="*";function r4(e,t){let n=e.split("/"),r=n.length;return n.some(bm)&&(r+=n4),t&&(r+=JS),n.filter(s=>!bm(s)).reduce((s,l)=>s+(ZS.test(l)?KS:l===""?e4:t4),r)}function i4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function s4(e,t,n){let{routesMeta:r}=e,s={},l="/",d=[];for(let g=0;g<r.length;++g){let x=r[g],p=g===r.length-1,v=l==="/"?t:t.slice(l.length)||"/",E=o4({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),b=x.route;if(!E)return null;Object.assign(s,E.params),d.push({params:s,pathname:Ts([l,E.pathname]),pathnameBase:h4(Ts([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=Ts([l,E.pathnameBase]))}return d}function o4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=a4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],d=l.replace(/(.)\/+$/,"$1"),g=s.slice(1);return{params:r.reduce((p,v,E)=>{let{paramName:b,isOptional:I}=v;if(b==="*"){let O=g[E]||"";d=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const N=g[E];return I&&!N?p[b]=void 0:p[b]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:d,pattern:e}}function a4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Uh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,x)=>(r.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function l4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const u4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c4=e=>u4.test(e);function f4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Va(e):e,l;if(n)if(c4(n))l=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Uh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+n))}n.startsWith("/")?l=Im(n.substring(1),"/"):l=Im(n,t)}else l=t;return{pathname:l,search:g4(r),hash:p4(s)}}function Im(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Wd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vh(e,t){let n=d4(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Va(e):(s=tu({},e),Xt(!s.pathname||!s.pathname.includes("?"),Wd("?","pathname","search",s)),Xt(!s.pathname||!s.pathname.includes("#"),Wd("#","pathname","hash",s)),Xt(!s.search||!s.search.includes("#"),Wd("#","search","hash",s)));let l=e===""||s.pathname==="",d=l?"/":s.pathname,g;if(d==null)g=n;else{let E=t.length-1;if(!r&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),E-=1;s.pathname=b.join("/")}g=E>=0?t[E]:"/"}let x=f4(s,g),p=d&&d!=="/"&&d.endsWith("/"),v=(l||d===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}const Ts=e=>e.join("/").replace(/\/\/+/g,"/"),h4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),g4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function m4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bw=["post","put","patch","delete"];new Set(bw);const x4=["get",...bw];new Set(x4);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nu.apply(this,arguments)}const Gh=z.createContext(null),y4=z.createContext(null),js=z.createContext(null),Rf=z.createContext(null),Gi=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Iw=z.createContext(null);function w4(e,t){let{relative:n}=t===void 0?{}:t;Ha()||Xt(!1);let{basename:r,navigator:s}=z.useContext(js),{hash:l,pathname:d,search:g}=Tw(e,{relative:n}),x=d;return r!=="/"&&(x=d==="/"?r:Ts([r,d])),s.createHref({pathname:x,search:g,hash:l})}function Ha(){return z.useContext(Rf)!=null}function gu(){return Ha()||Xt(!1),z.useContext(Rf).location}function Nw(e){z.useContext(js).static||z.useLayoutEffect(e)}function pu(){let{isDataRoute:e}=z.useContext(Gi);return e?k4():v4()}function v4(){Ha()||Xt(!1);let e=z.useContext(Gh),{basename:t,future:n,navigator:r}=z.useContext(js),{matches:s}=z.useContext(Gi),{pathname:l}=gu(),d=JSON.stringify(Vh(s,n.v7_relativeSplatPath)),g=z.useRef(!1);return Nw(()=>{g.current=!0}),z.useCallback(function(p,v){if(v===void 0&&(v={}),!g.current)return;if(typeof p=="number"){r.go(p);return}let E=Hh(p,JSON.parse(d),l,v.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ts([t,E.pathname])),(v.replace?r.replace:r.push)(E,v.state,v)},[t,r,d,l,e])}const E4=z.createContext(null);function C4(e){let t=z.useContext(Gi).outlet;return t&&z.createElement(E4.Provider,{value:e},t)}function Tw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=z.useContext(js),{matches:s}=z.useContext(Gi),{pathname:l}=gu(),d=JSON.stringify(Vh(s,r.v7_relativeSplatPath));return z.useMemo(()=>Hh(e,JSON.parse(d),l,n==="path"),[e,d,l,n])}function S4(e,t){return A4(e,t)}function A4(e,t,n,r){Ha()||Xt(!1);let{navigator:s}=z.useContext(js),{matches:l}=z.useContext(Gi),d=l[l.length-1],g=d?d.params:{};d&&d.pathname;let x=d?d.pathnameBase:"/";d&&d.route;let p=gu(),v;if(t){var E;let P=typeof t=="string"?Va(t):t;x==="/"||(E=P.pathname)!=null&&E.startsWith(x)||Xt(!1),v=P}else v=p;let b=v.pathname||"/",I=b;if(x!=="/"){let P=x.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let N=YS(e,{pathname:I}),O=T4(N&&N.map(P=>Object.assign({},P,{params:Object.assign({},g,P.params),pathname:Ts([x,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?x:Ts([x,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,n,r);return t&&O?z.createElement(Rf.Provider,{value:{location:nu({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:ws.Pop}},O):O}function _4(){let e=D4(),t=m4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:s},n):null,null)}const b4=z.createElement(_4,null);class I4 extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?z.createElement(Gi.Provider,{value:this.props.routeContext},z.createElement(Iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N4(e){let{routeContext:t,match:n,children:r}=e,s=z.useContext(Gh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Gi.Provider,{value:t},r)}function T4(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,g=(s=n)==null?void 0:s.errors;if(g!=null){let v=d.findIndex(E=>E.route.id&&(g==null?void 0:g[E.route.id])!==void 0);v>=0||Xt(!1),d=d.slice(0,Math.min(d.length,v+1))}let x=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let v=0;v<d.length;v++){let E=d[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=v),E.route.id){let{loaderData:b,errors:I}=n,N=E.route.loader&&b[E.route.id]===void 0&&(!I||I[E.route.id]===void 0);if(E.route.lazy||N){x=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}return d.reduceRight((v,E,b)=>{let I,N=!1,O=null,P=null;n&&(I=g&&E.route.id?g[E.route.id]:void 0,O=E.route.errorElement||b4,x&&(p<0&&b===0?(P4("route-fallback"),N=!0,P=null):p===b&&(N=!0,P=E.route.hydrateFallbackElement||null)));let M=t.concat(d.slice(0,b+1)),_=()=>{let T;return I?T=O:N?T=P:E.route.Component?T=z.createElement(E.route.Component,null):E.route.element?T=E.route.element:T=v,z.createElement(N4,{match:E,routeContext:{outlet:v,matches:M,isDataRoute:n!=null},children:T})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?z.createElement(I4,{location:n.location,revalidation:n.revalidation,component:O,error:I,children:_(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):_()},null)}var Rw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rw||{}),Ow=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ow||{});function R4(e){let t=z.useContext(Gh);return t||Xt(!1),t}function O4(e){let t=z.useContext(y4);return t||Xt(!1),t}function M4(e){let t=z.useContext(Gi);return t||Xt(!1),t}function Mw(e){let t=M4(),n=t.matches[t.matches.length-1];return n.route.id||Xt(!1),n.route.id}function D4(){var e;let t=z.useContext(Iw),n=O4(),r=Mw();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function k4(){let{router:e}=R4(Rw.UseNavigateStable),t=Mw(Ow.UseNavigateStable),n=z.useRef(!1);return Nw(()=>{n.current=!0}),z.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,nu({fromRouteId:t},l)))},[e,t])}const Nm={};function P4(e,t,n){Nm[e]||(Nm[e]=!0)}function L4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Dw(e){let{to:t,replace:n,state:r,relative:s}=e;Ha()||Xt(!1);let{future:l,static:d}=z.useContext(js),{matches:g}=z.useContext(Gi),{pathname:x}=gu(),p=pu(),v=Hh(t,Vh(g,l.v7_relativeSplatPath),x,s==="path"),E=JSON.stringify(v);return z.useEffect(()=>p(JSON.parse(E),{replace:n,state:r,relative:s}),[p,E,s,n,r]),null}function kw(e){return C4(e.context)}function In(e){Xt(!1)}function B4(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ws.Pop,navigator:l,static:d=!1,future:g}=e;Ha()&&Xt(!1);let x=t.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:x,navigator:l,static:d,future:nu({v7_relativeSplatPath:!1},g)}),[x,g,l,d]);typeof r=="string"&&(r=Va(r));let{pathname:v="/",search:E="",hash:b="",state:I=null,key:N="default"}=r,O=z.useMemo(()=>{let P=zh(v,x);return P==null?null:{location:{pathname:P,search:E,hash:b,state:I,key:N},navigationType:s}},[x,v,E,b,I,N,s]);return O==null?null:z.createElement(js.Provider,{value:p},z.createElement(Rf.Provider,{children:n,value:O}))}function F4(e){let{children:t,location:n}=e;return S4(a1(t),n)}new Promise(()=>{});function a1(e,t){t===void 0&&(t=[]);let n=[];return z.Children.forEach(e,(r,s)=>{if(!z.isValidElement(r))return;let l=[...t,s];if(r.type===z.Fragment){n.push.apply(n,a1(r.props.children,l));return}r.type!==In&&Xt(!1),!r.props.index||!r.props.children||Xt(!1);let d={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=a1(r.props.children,l)),n.push(d)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l1.apply(this,arguments)}function j4(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,l;for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function U4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function z4(e,t){return e.button===0&&(!t||t==="_self")&&!U4(e)}const V4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H4="6";try{window.__reactRouterVersion=H4}catch{}const G4="startTransition",Tm=DC[G4];function $4(e){let{basename:t,children:n,future:r,window:s}=e,l=z.useRef();l.current==null&&(l.current=$S({window:s,v5Compat:!0}));let d=l.current,[g,x]=z.useState({action:d.action,location:d.location}),{v7_startTransition:p}=r||{},v=z.useCallback(E=>{p&&Tm?Tm(()=>x(E)):x(E)},[x,p]);return z.useLayoutEffect(()=>d.listen(v),[d,v]),z.useEffect(()=>L4(r),[r]),z.createElement(B4,{basename:t,children:n,location:g.location,navigationType:g.action,navigator:d,future:r})}const W4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yo=z.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:l,replace:d,state:g,target:x,to:p,preventScrollReset:v,viewTransition:E}=t,b=j4(t,V4),{basename:I}=z.useContext(js),N,O=!1;if(typeof p=="string"&&X4.test(p)&&(N=p,W4))try{let T=new URL(window.location.href),k=p.startsWith("//")?new URL(T.protocol+p):new URL(p),H=zh(k.pathname,I);k.origin===T.origin&&H!=null?p=H+k.search+k.hash:O=!0}catch{}let P=w4(p,{relative:s}),M=Y4(p,{replace:d,state:g,target:x,preventScrollReset:v,relative:s,viewTransition:E});function _(T){r&&r(T),T.defaultPrevented||M(T)}return z.createElement("a",l1({},b,{href:N||P,onClick:O||l?r:_,ref:n,target:x}))});var Rm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rm||(Rm={}));var Om;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Om||(Om={}));function Y4(e,t){let{target:n,replace:r,state:s,preventScrollReset:l,relative:d,viewTransition:g}=t===void 0?{}:t,x=pu(),p=gu(),v=Tw(e,{relative:d});return z.useCallback(E=>{if(z4(E,n)){E.preventDefault();let b=r!==void 0?r:sf(p)===sf(v);x(e,{replace:b,state:s,preventScrollReset:l,relative:d,viewTransition:g})}},[p,x,v,r,s,n,e,l,d,g])}var Ga=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Q4={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ls,G1,ex,q4=(ex=class{constructor(){Re(this,ls,Q4);Re(this,G1,!1)}setTimeoutProvider(e){ve(this,ls,e)}setTimeout(e,t){return F(this,ls).setTimeout(e,t)}clearTimeout(e){F(this,ls).clearTimeout(e)}setInterval(e,t){return F(this,ls).setInterval(e,t)}clearInterval(e){F(this,ls).clearInterval(e)}},ls=new WeakMap,G1=new WeakMap,ex),no=new q4;function Z4(e){setTimeout(e,0)}var bo=typeof window>"u"||"Deno"in globalThis;function Bn(){}function K4(e,t){return typeof e=="function"?e(t):e}function u1(e){return typeof e=="number"&&e>=0&&e!==1/0}function Pw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rs(e,t){return typeof e=="function"?e(t):e}function Ir(e,t){return typeof e=="function"?e(t):e}function Mm(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:l,queryKey:d,stale:g}=e;if(d){if(r){if(t.queryHash!==$h(d,t.options))return!1}else if(!ru(t.queryKey,d))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof g=="boolean"&&t.isStale()!==g||s&&s!==t.state.fetchStatus||l&&!l(t))}function Dm(e,t){const{exact:n,status:r,predicate:s,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Io(t.options.mutationKey)!==Io(l))return!1}else if(!ru(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function $h(e,t){return((t==null?void 0:t.queryKeyHashFn)||Io)(e)}function Io(e){return JSON.stringify(e,(t,n)=>c1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ru(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ru(e[n],t[n])):!1}var J4=Object.prototype.hasOwnProperty;function Lw(e,t){if(e===t)return e;const n=km(e)&&km(t);if(!n&&!(c1(e)&&c1(t)))return t;const s=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),d=l.length,g=n?new Array(d):{};let x=0;for(let p=0;p<d;p++){const v=n?p:l[p],E=e[v],b=t[v];if(E===b){g[v]=E,(n?p<s:J4.call(e,v))&&x++;continue}if(E===null||b===null||typeof E!="object"||typeof b!="object"){g[v]=b;continue}const I=Lw(E,b);g[v]=I,I===E&&x++}return s===d&&x===s?e:g}function of(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function km(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function c1(e){if(!Pm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Pm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Pm(e){return Object.prototype.toString.call(e)==="[object Object]"}function eA(e){return new Promise(t=>{no.setTimeout(t,e)})}function f1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Lw(e,t):t}function tA(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function nA(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Wh=Symbol();function Bw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Xh(e,t){return typeof e=="function"?e(...t):!!e}function rA(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var oo,us,xa,tx,iA=(tx=class extends Ga{constructor(){super();Re(this,oo);Re(this,us);Re(this,xa);ve(this,xa,t=>{if(!bo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,us)||this.setEventListener(F(this,xa))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,us))==null||t.call(this),ve(this,us,void 0))}setEventListener(t){var n;ve(this,xa,t),(n=F(this,us))==null||n.call(this),ve(this,us,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){F(this,oo)!==t&&(ve(this,oo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof F(this,oo)=="boolean"?F(this,oo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},oo=new WeakMap,us=new WeakMap,xa=new WeakMap,tx),Yh=new iA;function d1(){let e,t;const n=new Promise((s,l)=>{e=s,t=l});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var sA=Z4;function oA(){let e=[],t=0,n=g=>{g()},r=g=>{g()},s=sA;const l=g=>{t?e.push(g):s(()=>{n(g)})},d=()=>{const g=e;e=[],g.length&&s(()=>{r(()=>{g.forEach(x=>{n(x)})})})};return{batch:g=>{let x;t++;try{x=g()}finally{t--,t||d()}return x},batchCalls:g=>(...x)=>{l(()=>{g(...x)})},schedule:l,setNotifyFunction:g=>{n=g},setBatchNotifyFunction:g=>{r=g},setScheduler:g=>{s=g}}}var nn=oA(),ya,cs,wa,nx,aA=(nx=class extends Ga{constructor(){super();Re(this,ya,!0);Re(this,cs);Re(this,wa);ve(this,wa,t=>{if(!bo&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,cs)||this.setEventListener(F(this,wa))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,cs))==null||t.call(this),ve(this,cs,void 0))}setEventListener(t){var n;ve(this,wa,t),(n=F(this,cs))==null||n.call(this),ve(this,cs,t(this.setOnline.bind(this)))}setOnline(t){F(this,ya)!==t&&(ve(this,ya,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return F(this,ya)}},ya=new WeakMap,cs=new WeakMap,wa=new WeakMap,nx),af=new aA;function lA(e){return Math.min(1e3*2**e,3e4)}function Fw(e){return(e??"online")==="online"?af.isOnline():!0}var h1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function jw(e){let t=!1,n=0,r;const s=d1(),l=()=>s.status!=="pending",d=O=>{var P;if(!l()){const M=new h1(O);b(M),(P=e.onCancel)==null||P.call(e,M)}},g=()=>{t=!0},x=()=>{t=!1},p=()=>Yh.isFocused()&&(e.networkMode==="always"||af.isOnline())&&e.canRun(),v=()=>Fw(e.networkMode)&&e.canRun(),E=O=>{l()||(r==null||r(),s.resolve(O))},b=O=>{l()||(r==null||r(),s.reject(O))},I=()=>new Promise(O=>{var P;r=M=>{(l()||p())&&O(M)},(P=e.onPause)==null||P.call(e)}).then(()=>{var O;r=void 0,l()||(O=e.onContinue)==null||O.call(e)}),N=()=>{if(l())return;let O;const P=n===0?e.initialPromise:void 0;try{O=P??e.fn()}catch(M){O=Promise.reject(M)}Promise.resolve(O).then(E).catch(M=>{var Q;if(l())return;const _=e.retry??(bo?0:3),T=e.retryDelay??lA,k=typeof T=="function"?T(n,M):T,H=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,M);if(t||!H){b(M);return}n++,(Q=e.onFail)==null||Q.call(e,n,M),eA(k).then(()=>p()?void 0:I()).then(()=>{t?b(M):N()})})};return{promise:s,status:()=>s.status,cancel:d,continue:()=>(r==null||r(),s),cancelRetry:g,continueRetry:x,canStart:v,start:()=>(v()?N():I().then(N),s)}}var ao,rx,Uw=(rx=class{constructor(){Re(this,ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),u1(this.gcTime)&&ve(this,ao,no.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bo?1/0:5*60*1e3))}clearGcTimeout(){F(this,ao)&&(no.clearTimeout(F(this,ao)),ve(this,ao,void 0))}},ao=new WeakMap,rx),lo,va,br,uo,un,iu,co,Ur,Ai,ix,uA=(ix=class extends Uw{constructor(t){super();Re(this,Ur);Re(this,lo);Re(this,va);Re(this,br);Re(this,uo);Re(this,un);Re(this,iu);Re(this,co);ve(this,co,!1),ve(this,iu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ve(this,uo,t.client),ve(this,br,F(this,uo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ve(this,lo,Bm(this.options)),this.state=t.state??F(this,lo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,un))==null?void 0:t.promise}setOptions(t){if(this.options={...F(this,iu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Bm(this.options);n.data!==void 0&&(this.setState(Lm(n.data,n.dataUpdatedAt)),ve(this,lo,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,br).remove(this)}setData(t,n){const r=f1(this.state.data,t,this.options);return Ge(this,Ur,Ai).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ge(this,Ur,Ai).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=F(this,un))==null?void 0:r.promise;return(s=F(this,un))==null||s.cancel(t),n?n.then(Bn).catch(Bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,lo))}isActive(){return this.observers.some(t=>Ir(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Rs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Pw(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=F(this,un))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=F(this,un))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,br).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(F(this,un)&&(F(this,co)?F(this,un).cancel({revert:!0}):F(this,un).cancelRetry()),this.scheduleGc()),F(this,br).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ge(this,Ur,Ai).call(this,{type:"invalidate"})}async fetch(t,n){var x,p,v,E,b,I,N,O,P,M,_,T;if(this.state.fetchStatus!=="idle"&&((x=F(this,un))==null?void 0:x.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,un))return F(this,un).continueRetry(),F(this,un).promise}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(H=>H.options.queryFn);k&&this.setOptions(k.options)}const r=new AbortController,s=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(ve(this,co,!0),r.signal)})},l=()=>{const k=Bw(this.options,n),Q=(()=>{const V={client:F(this,uo),queryKey:this.queryKey,meta:this.meta};return s(V),V})();return ve(this,co,!1),this.options.persister?this.options.persister(k,Q,this):k(Q)},g=(()=>{const k={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:F(this,uo),state:this.state,fetchFn:l};return s(k),k})();(p=this.options.behavior)==null||p.onFetch(g,this),ve(this,va,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=g.fetchOptions)==null?void 0:v.meta))&&Ge(this,Ur,Ai).call(this,{type:"fetch",meta:(E=g.fetchOptions)==null?void 0:E.meta}),ve(this,un,jw({initialPromise:n==null?void 0:n.initialPromise,fn:g.fetchFn,onCancel:k=>{k instanceof h1&&k.revert&&this.setState({...F(this,va),fetchStatus:"idle"}),r.abort()},onFail:(k,H)=>{Ge(this,Ur,Ai).call(this,{type:"failed",failureCount:k,error:H})},onPause:()=>{Ge(this,Ur,Ai).call(this,{type:"pause"})},onContinue:()=>{Ge(this,Ur,Ai).call(this,{type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0}));try{const k=await F(this,un).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(I=(b=F(this,br).config).onSuccess)==null||I.call(b,k,this),(O=(N=F(this,br).config).onSettled)==null||O.call(N,k,this.state.error,this),k}catch(k){if(k instanceof h1){if(k.silent)return F(this,un).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw Ge(this,Ur,Ai).call(this,{type:"error",error:k}),(M=(P=F(this,br).config).onError)==null||M.call(P,k,this),(T=(_=F(this,br).config).onSettled)==null||T.call(_,this.state.data,k,this),k}finally{this.scheduleGc()}}},lo=new WeakMap,va=new WeakMap,br=new WeakMap,uo=new WeakMap,un=new WeakMap,iu=new WeakMap,co=new WeakMap,Ur=new WeakSet,Ai=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...zw(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Lm(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ve(this,va,t.manual?s:void 0),s;case"error":const l=t.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),nn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),F(this,br).notify({query:this,type:"updated",action:t})})},ix);function zw(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Lm(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Bm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xn,et,su,Dn,fo,Ea,Ni,fs,ou,Ca,Sa,ho,go,ds,Aa,at,Al,g1,p1,m1,x1,y1,w1,v1,Vw,sx,cA=(sx=class extends Ga{constructor(t,n){super();Re(this,at);Re(this,Xn);Re(this,et);Re(this,su);Re(this,Dn);Re(this,fo);Re(this,Ea);Re(this,Ni);Re(this,fs);Re(this,ou);Re(this,Ca);Re(this,Sa);Re(this,ho);Re(this,go);Re(this,ds);Re(this,Aa,new Set);this.options=n,ve(this,Xn,t),ve(this,fs,null),ve(this,Ni,d1()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,et).addObserver(this),Fm(F(this,et),this.options)?Ge(this,at,Al).call(this):this.updateResult(),Ge(this,at,x1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return E1(F(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return E1(F(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ge(this,at,y1).call(this),Ge(this,at,w1).call(this),F(this,et).removeObserver(this)}setOptions(t){const n=this.options,r=F(this,et);if(this.options=F(this,Xn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ir(this.options.enabled,F(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ge(this,at,v1).call(this),F(this,et).setOptions(this.options),n._defaulted&&!of(this.options,n)&&F(this,Xn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,et),observer:this});const s=this.hasListeners();s&&jm(F(this,et),r,this.options,n)&&Ge(this,at,Al).call(this),this.updateResult(),s&&(F(this,et)!==r||Ir(this.options.enabled,F(this,et))!==Ir(n.enabled,F(this,et))||Rs(this.options.staleTime,F(this,et))!==Rs(n.staleTime,F(this,et)))&&Ge(this,at,g1).call(this);const l=Ge(this,at,p1).call(this);s&&(F(this,et)!==r||Ir(this.options.enabled,F(this,et))!==Ir(n.enabled,F(this,et))||l!==F(this,ds))&&Ge(this,at,m1).call(this,l)}getOptimisticResult(t){const n=F(this,Xn).getQueryCache().build(F(this,Xn),t),r=this.createResult(n,t);return dA(this,r)&&(ve(this,Dn,r),ve(this,Ea,this.options),ve(this,fo,F(this,et).state)),r}getCurrentResult(){return F(this,Dn)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&F(this,Ni).status==="pending"&&F(this,Ni).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){F(this,Aa).add(t)}getCurrentQuery(){return F(this,et)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=F(this,Xn).defaultQueryOptions(t),r=F(this,Xn).getQueryCache().build(F(this,Xn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ge(this,at,Al).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,Dn)))}createResult(t,n){var q;const r=F(this,et),s=this.options,l=F(this,Dn),d=F(this,fo),g=F(this,Ea),p=t!==r?t.state:F(this,su),{state:v}=t;let E={...v},b=!1,I;if(n._optimisticResults){const ie=this.hasListeners(),ye=!ie&&Fm(t,n),re=ie&&jm(t,r,n,s);(ye||re)&&(E={...E,...zw(v.data,t.options)}),n._optimisticResults==="isRestoring"&&(E.fetchStatus="idle")}let{error:N,errorUpdatedAt:O,status:P}=E;I=E.data;let M=!1;if(n.placeholderData!==void 0&&I===void 0&&P==="pending"){let ie;l!=null&&l.isPlaceholderData&&n.placeholderData===(g==null?void 0:g.placeholderData)?(ie=l.data,M=!0):ie=typeof n.placeholderData=="function"?n.placeholderData((q=F(this,Sa))==null?void 0:q.state.data,F(this,Sa)):n.placeholderData,ie!==void 0&&(P="success",I=f1(l==null?void 0:l.data,ie,n),b=!0)}if(n.select&&I!==void 0&&!M)if(l&&I===(d==null?void 0:d.data)&&n.select===F(this,ou))I=F(this,Ca);else try{ve(this,ou,n.select),I=n.select(I),I=f1(l==null?void 0:l.data,I,n),ve(this,Ca,I),ve(this,fs,null)}catch(ie){ve(this,fs,ie)}F(this,fs)&&(N=F(this,fs),I=F(this,Ca),O=Date.now(),P="error");const _=E.fetchStatus==="fetching",T=P==="pending",k=P==="error",H=T&&_,Q=I!==void 0,te={status:P,fetchStatus:E.fetchStatus,isPending:T,isSuccess:P==="success",isError:k,isInitialLoading:H,isLoading:H,data:I,dataUpdatedAt:E.dataUpdatedAt,error:N,errorUpdatedAt:O,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>p.dataUpdateCount||E.errorUpdateCount>p.errorUpdateCount,isFetching:_,isRefetching:_&&!T,isLoadingError:k&&!Q,isPaused:E.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:k&&Q,isStale:Qh(t,n),refetch:this.refetch,promise:F(this,Ni),isEnabled:Ir(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const ie=ce=>{te.status==="error"?ce.reject(te.error):te.data!==void 0&&ce.resolve(te.data)},ye=()=>{const ce=ve(this,Ni,te.promise=d1());ie(ce)},re=F(this,Ni);switch(re.status){case"pending":t.queryHash===r.queryHash&&ie(re);break;case"fulfilled":(te.status==="error"||te.data!==re.value)&&ye();break;case"rejected":(te.status!=="error"||te.error!==re.reason)&&ye();break}}return te}updateResult(){const t=F(this,Dn),n=this.createResult(F(this,et),this.options);if(ve(this,fo,F(this,et).state),ve(this,Ea,this.options),F(this,fo).data!==void 0&&ve(this,Sa,F(this,et)),of(n,t))return;ve(this,Dn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,l=typeof s=="function"?s():s;if(l==="all"||!l&&!F(this,Aa).size)return!0;const d=new Set(l??F(this,Aa));return this.options.throwOnError&&d.add("error"),Object.keys(F(this,Dn)).some(g=>{const x=g;return F(this,Dn)[x]!==t[x]&&d.has(x)})};Ge(this,at,Vw).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ge(this,at,x1).call(this)}},Xn=new WeakMap,et=new WeakMap,su=new WeakMap,Dn=new WeakMap,fo=new WeakMap,Ea=new WeakMap,Ni=new WeakMap,fs=new WeakMap,ou=new WeakMap,Ca=new WeakMap,Sa=new WeakMap,ho=new WeakMap,go=new WeakMap,ds=new WeakMap,Aa=new WeakMap,at=new WeakSet,Al=function(t){Ge(this,at,v1).call(this);let n=F(this,et).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Bn)),n},g1=function(){Ge(this,at,y1).call(this);const t=Rs(this.options.staleTime,F(this,et));if(bo||F(this,Dn).isStale||!u1(t))return;const r=Pw(F(this,Dn).dataUpdatedAt,t)+1;ve(this,ho,no.setTimeout(()=>{F(this,Dn).isStale||this.updateResult()},r))},p1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,et)):this.options.refetchInterval)??!1},m1=function(t){Ge(this,at,w1).call(this),ve(this,ds,t),!(bo||Ir(this.options.enabled,F(this,et))===!1||!u1(F(this,ds))||F(this,ds)===0)&&ve(this,go,no.setInterval(()=>{(this.options.refetchIntervalInBackground||Yh.isFocused())&&Ge(this,at,Al).call(this)},F(this,ds)))},x1=function(){Ge(this,at,g1).call(this),Ge(this,at,m1).call(this,Ge(this,at,p1).call(this))},y1=function(){F(this,ho)&&(no.clearTimeout(F(this,ho)),ve(this,ho,void 0))},w1=function(){F(this,go)&&(no.clearInterval(F(this,go)),ve(this,go,void 0))},v1=function(){const t=F(this,Xn).getQueryCache().build(F(this,Xn),this.options);if(t===F(this,et))return;const n=F(this,et);ve(this,et,t),ve(this,su,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Vw=function(t){nn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(F(this,Dn))}),F(this,Xn).getQueryCache().notify({query:F(this,et),type:"observerResultsUpdated"})})},sx);function fA(e,t){return Ir(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Fm(e,t){return fA(e,t)||e.state.data!==void 0&&E1(e,t,t.refetchOnMount)}function E1(e,t,n){if(Ir(t.enabled,e)!==!1&&Rs(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Qh(e,t)}return!1}function jm(e,t,n,r){return(e!==t||Ir(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Qh(e,n)}function Qh(e,t){return Ir(t.enabled,e)!==!1&&e.isStaleByTime(Rs(t.staleTime,e))}function dA(e,t){return!of(e.getCurrentResult(),t)}function Um(e){return{onFetch:(t,n)=>{var v,E,b,I,N;const r=t.options,s=(b=(E=(v=t.fetchOptions)==null?void 0:v.meta)==null?void 0:E.fetchMore)==null?void 0:b.direction,l=((I=t.state.data)==null?void 0:I.pages)||[],d=((N=t.state.data)==null?void 0:N.pageParams)||[];let g={pages:[],pageParams:[]},x=0;const p=async()=>{let O=!1;const P=T=>{rA(T,()=>t.signal,()=>O=!0)},M=Bw(t.options,t.fetchOptions),_=async(T,k,H)=>{if(O)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const V=(()=>{const ye={client:t.client,queryKey:t.queryKey,pageParam:k,direction:H?"backward":"forward",meta:t.options.meta};return P(ye),ye})(),te=await M(V),{maxPages:q}=t.options,ie=H?nA:tA;return{pages:ie(T.pages,te,q),pageParams:ie(T.pageParams,k,q)}};if(s&&l.length){const T=s==="backward",k=T?hA:zm,H={pages:l,pageParams:d},Q=k(r,H);g=await _(H,Q,T)}else{const T=e??l.length;do{const k=x===0?d[0]??r.initialPageParam:zm(r,g);if(x>0&&k==null)break;g=await _(g,k),x++}while(x<T)}return g};t.options.persister?t.fetchFn=()=>{var O,P;return(P=(O=t.options).persister)==null?void 0:P.call(O,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function zm(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function hA(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var au,fi,kn,po,di,es,ox,gA=(ox=class extends Uw{constructor(t){super();Re(this,di);Re(this,au);Re(this,fi);Re(this,kn);Re(this,po);ve(this,au,t.client),this.mutationId=t.mutationId,ve(this,kn,t.mutationCache),ve(this,fi,[]),this.state=t.state||Hw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,fi).includes(t)||(F(this,fi).push(t),this.clearGcTimeout(),F(this,kn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ve(this,fi,F(this,fi).filter(n=>n!==t)),this.scheduleGc(),F(this,kn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,fi).length||(this.state.status==="pending"?this.scheduleGc():F(this,kn).remove(this))}continue(){var t;return((t=F(this,po))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var d,g,x,p,v,E,b,I,N,O,P,M,_,T,k,H,Q,V,te,q;const n=()=>{Ge(this,di,es).call(this,{type:"continue"})},r={client:F(this,au),meta:this.options.meta,mutationKey:this.options.mutationKey};ve(this,po,jw({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(ie,ye)=>{Ge(this,di,es).call(this,{type:"failed",failureCount:ie,error:ye})},onPause:()=>{Ge(this,di,es).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,kn).canRun(this)}));const s=this.state.status==="pending",l=!F(this,po).canStart();try{if(s)n();else{Ge(this,di,es).call(this,{type:"pending",variables:t,isPaused:l}),await((g=(d=F(this,kn).config).onMutate)==null?void 0:g.call(d,t,this,r));const ye=await((p=(x=this.options).onMutate)==null?void 0:p.call(x,t,r));ye!==this.state.context&&Ge(this,di,es).call(this,{type:"pending",context:ye,variables:t,isPaused:l})}const ie=await F(this,po).start();return await((E=(v=F(this,kn).config).onSuccess)==null?void 0:E.call(v,ie,t,this.state.context,this,r)),await((I=(b=this.options).onSuccess)==null?void 0:I.call(b,ie,t,this.state.context,r)),await((O=(N=F(this,kn).config).onSettled)==null?void 0:O.call(N,ie,null,this.state.variables,this.state.context,this,r)),await((M=(P=this.options).onSettled)==null?void 0:M.call(P,ie,null,t,this.state.context,r)),Ge(this,di,es).call(this,{type:"success",data:ie}),ie}catch(ie){try{await((T=(_=F(this,kn).config).onError)==null?void 0:T.call(_,ie,t,this.state.context,this,r))}catch(ye){Promise.reject(ye)}try{await((H=(k=this.options).onError)==null?void 0:H.call(k,ie,t,this.state.context,r))}catch(ye){Promise.reject(ye)}try{await((V=(Q=F(this,kn).config).onSettled)==null?void 0:V.call(Q,void 0,ie,this.state.variables,this.state.context,this,r))}catch(ye){Promise.reject(ye)}try{await((q=(te=this.options).onSettled)==null?void 0:q.call(te,void 0,ie,t,this.state.context,r))}catch(ye){Promise.reject(ye)}throw Ge(this,di,es).call(this,{type:"error",error:ie}),ie}finally{F(this,kn).runNext(this)}}},au=new WeakMap,fi=new WeakMap,kn=new WeakMap,po=new WeakMap,di=new WeakSet,es=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nn.batch(()=>{F(this,fi).forEach(r=>{r.onMutationUpdate(t)}),F(this,kn).notify({mutation:this,type:"updated",action:t})})},ox);function Hw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ti,zr,lu,ax,pA=(ax=class extends Ga{constructor(t={}){super();Re(this,Ti);Re(this,zr);Re(this,lu);this.config=t,ve(this,Ti,new Set),ve(this,zr,new Map),ve(this,lu,0)}build(t,n,r){const s=new gA({client:t,mutationCache:this,mutationId:++Bu(this,lu)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){F(this,Ti).add(t);const n=tc(t);if(typeof n=="string"){const r=F(this,zr).get(n);r?r.push(t):F(this,zr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,Ti).delete(t)){const n=tc(t);if(typeof n=="string"){const r=F(this,zr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&F(this,zr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=tc(t);if(typeof n=="string"){const r=F(this,zr).get(n),s=r==null?void 0:r.find(l=>l.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=tc(t);if(typeof n=="string"){const s=(r=F(this,zr).get(n))==null?void 0:r.find(l=>l!==t&&l.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nn.batch(()=>{F(this,Ti).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,Ti).clear(),F(this,zr).clear()})}getAll(){return Array.from(F(this,Ti))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Dm(n,r))}findAll(t={}){return this.getAll().filter(n=>Dm(t,n))}notify(t){nn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return nn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Bn))))}},Ti=new WeakMap,zr=new WeakMap,lu=new WeakMap,ax);function tc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ri,hs,Yn,Oi,Bi,Ic,C1,lx,mA=(lx=class extends Ga{constructor(n,r){super();Re(this,Bi);Re(this,Ri);Re(this,hs);Re(this,Yn);Re(this,Oi);ve(this,Ri,n),this.setOptions(r),this.bindMethods(),Ge(this,Bi,Ic).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=F(this,Ri).defaultMutationOptions(n),of(this.options,r)||F(this,Ri).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Yn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Io(r.mutationKey)!==Io(this.options.mutationKey)?this.reset():((s=F(this,Yn))==null?void 0:s.state.status)==="pending"&&F(this,Yn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,Yn))==null||n.removeObserver(this)}onMutationUpdate(n){Ge(this,Bi,Ic).call(this),Ge(this,Bi,C1).call(this,n)}getCurrentResult(){return F(this,hs)}reset(){var n;(n=F(this,Yn))==null||n.removeObserver(this),ve(this,Yn,void 0),Ge(this,Bi,Ic).call(this),Ge(this,Bi,C1).call(this)}mutate(n,r){var s;return ve(this,Oi,r),(s=F(this,Yn))==null||s.removeObserver(this),ve(this,Yn,F(this,Ri).getMutationCache().build(F(this,Ri),this.options)),F(this,Yn).addObserver(this),F(this,Yn).execute(n)}},Ri=new WeakMap,hs=new WeakMap,Yn=new WeakMap,Oi=new WeakMap,Bi=new WeakSet,Ic=function(){var r;const n=((r=F(this,Yn))==null?void 0:r.state)??Hw();ve(this,hs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},C1=function(n){nn.batch(()=>{var r,s,l,d,g,x,p,v;if(F(this,Oi)&&this.hasListeners()){const E=F(this,hs).variables,b=F(this,hs).context,I={client:F(this,Ri),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=F(this,Oi)).onSuccess)==null||s.call(r,n.data,E,b,I)}catch(N){Promise.reject(N)}try{(d=(l=F(this,Oi)).onSettled)==null||d.call(l,n.data,null,E,b,I)}catch(N){Promise.reject(N)}}else if((n==null?void 0:n.type)==="error"){try{(x=(g=F(this,Oi)).onError)==null||x.call(g,n.error,E,b,I)}catch(N){Promise.reject(N)}try{(v=(p=F(this,Oi)).onSettled)==null||v.call(p,void 0,n.error,E,b,I)}catch(N){Promise.reject(N)}}}this.listeners.forEach(E=>{E(F(this,hs))})})},lx),hi,ux,xA=(ux=class extends Ga{constructor(t={}){super();Re(this,hi);this.config=t,ve(this,hi,new Map)}build(t,n,r){const s=n.queryKey,l=n.queryHash??$h(s,n);let d=this.get(l);return d||(d=new uA({client:t,queryKey:s,queryHash:l,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(d)),d}add(t){F(this,hi).has(t.queryHash)||(F(this,hi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=F(this,hi).get(t.queryHash);n&&(t.destroy(),n===t&&F(this,hi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,hi).get(t)}getAll(){return[...F(this,hi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Mm(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Mm(t,r)):n}notify(t){nn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},hi=new WeakMap,ux),Vt,gs,ps,_a,ba,ms,Ia,Na,cx,yA=(cx=class{constructor(e={}){Re(this,Vt);Re(this,gs);Re(this,ps);Re(this,_a);Re(this,ba);Re(this,ms);Re(this,Ia);Re(this,Na);ve(this,Vt,e.queryCache||new xA),ve(this,gs,e.mutationCache||new pA),ve(this,ps,e.defaultOptions||{}),ve(this,_a,new Map),ve(this,ba,new Map),ve(this,ms,0)}mount(){Bu(this,ms)._++,F(this,ms)===1&&(ve(this,Ia,Yh.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Vt).onFocus())})),ve(this,Na,af.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Vt).onOnline())})))}unmount(){var e,t;Bu(this,ms)._--,F(this,ms)===0&&((e=F(this,Ia))==null||e.call(this),ve(this,Ia,void 0),(t=F(this,Na))==null||t.call(this),ve(this,Na,void 0))}isFetching(e){return F(this,Vt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,gs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,Vt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=F(this,Vt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Rs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return F(this,Vt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=F(this,Vt).get(r.queryHash),l=s==null?void 0:s.state.data,d=K4(t,l);if(d!==void 0)return F(this,Vt).build(this,r).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return nn.batch(()=>F(this,Vt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,Vt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=F(this,Vt);nn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=F(this,Vt);return nn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=nn.batch(()=>F(this,Vt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Bn).catch(Bn)}invalidateQueries(e,t={}){return nn.batch(()=>(F(this,Vt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=nn.batch(()=>F(this,Vt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let l=s.fetch(void 0,n);return n.throwOnError||(l=l.catch(Bn)),s.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Bn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=F(this,Vt).build(this,t);return n.isStaleByTime(Rs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Bn).catch(Bn)}fetchInfiniteQuery(e){return e.behavior=Um(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Bn).catch(Bn)}ensureInfiniteQueryData(e){return e.behavior=Um(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return af.isOnline()?F(this,gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Vt)}getMutationCache(){return F(this,gs)}getDefaultOptions(){return F(this,ps)}setDefaultOptions(e){ve(this,ps,e)}setQueryDefaults(e,t){F(this,_a).set(Io(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,_a).values()],n={};return t.forEach(r=>{ru(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){F(this,ba).set(Io(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,ba).values()],n={};return t.forEach(r=>{ru(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,ps).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$h(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,ps).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,Vt).clear(),F(this,gs).clear()}},Vt=new WeakMap,gs=new WeakMap,ps=new WeakMap,_a=new WeakMap,ba=new WeakMap,ms=new WeakMap,Ia=new WeakMap,Na=new WeakMap,cx),Gw=z.createContext(void 0),qh=e=>{const t=z.useContext(Gw);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wA=({client:e,children:t})=>(z.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),w.jsx(Gw.Provider,{value:e,children:t})),$w=z.createContext(!1),vA=()=>z.useContext($w);$w.Provider;function EA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var CA=z.createContext(EA()),SA=()=>z.useContext(CA),AA=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?Xh(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},_A=e=>{z.useEffect(()=>{e.clearReset()},[e])},bA=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Xh(n,[e.error,r])),IA=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},NA=(e,t)=>e.isLoading&&e.isFetching&&!t,TA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Vm=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function RA(e,t,n){var b,I,N,O;const r=vA(),s=SA(),l=qh(),d=l.defaultQueryOptions(e);(I=(b=l.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||I.call(b,d);const g=l.getQueryCache().get(d.queryHash);d._optimisticResults=r?"isRestoring":"optimistic",IA(d),AA(d,s,g),_A(s);const x=!l.getQueryCache().get(d.queryHash),[p]=z.useState(()=>new t(l,d)),v=p.getOptimisticResult(d),E=!r&&e.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(P=>{const M=E?p.subscribe(nn.batchCalls(P)):Bn;return p.updateResult(),M},[p,E]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),z.useEffect(()=>{p.setOptions(d)},[d,p]),TA(d,v))throw Vm(d,p,s);if(bA({result:v,errorResetBoundary:s,throwOnError:d.throwOnError,query:g,suspense:d.suspense}))throw v.error;if((O=(N=l.getDefaultOptions().queries)==null?void 0:N._experimental_afterQuery)==null||O.call(N,d,v),d.experimental_prefetchInRender&&!bo&&NA(v,r)){const P=x?Vm(d,p,s):g==null?void 0:g.promise;P==null||P.catch(Bn).finally(()=>{p.updateResult()})}return d.notifyOnChangeProps?v:p.trackResult(v)}function OA(e,t){return RA(e,cA)}function Xd(e,t){const n=qh(),[r]=z.useState(()=>new mA(n,e));z.useEffect(()=>{r.setOptions(e)},[r,e]);const s=z.useSyncExternalStore(z.useCallback(d=>r.subscribe(nn.batchCalls(d)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=z.useCallback((d,g)=>{r.mutate(d,g).catch(Bn)},[r]);if(s.error&&Xh(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}function Ww(e,t){return function(){return e.apply(t,arguments)}}const{toString:MA}=Object.prototype,{getPrototypeOf:Zh}=Object,{iterator:Of,toStringTag:Xw}=Symbol,Mf=(e=>t=>{const n=MA.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Kr=e=>(e=e.toLowerCase(),t=>Mf(t)===e),Df=e=>t=>typeof t===e,{isArray:$a}=Array,La=Df("undefined");function mu(e){return e!==null&&!La(e)&&e.constructor!==null&&!La(e.constructor)&&nr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Yw=Kr("ArrayBuffer");function DA(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Yw(e.buffer),t}const kA=Df("string"),nr=Df("function"),Qw=Df("number"),xu=e=>e!==null&&typeof e=="object",PA=e=>e===!0||e===!1,Nc=e=>{if(Mf(e)!=="object")return!1;const t=Zh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Xw in e)&&!(Of in e)},LA=e=>{if(!xu(e)||mu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},BA=Kr("Date"),FA=Kr("File"),jA=Kr("Blob"),UA=Kr("FileList"),zA=e=>xu(e)&&nr(e.pipe),VA=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||nr(e.append)&&((t=Mf(e))==="formdata"||t==="object"&&nr(e.toString)&&e.toString()==="[object FormData]"))},HA=Kr("URLSearchParams"),[GA,$A,WA,XA]=["ReadableStream","Request","Response","Headers"].map(Kr),YA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),$a(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(mu(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),d=l.length;let g;for(r=0;r<d;r++)g=l[r],t.call(null,e[g],g,e)}}function qw(e,t){if(mu(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ro=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zw=e=>!La(e)&&e!==ro;function S1(){const{caseless:e,skipUndefined:t}=Zw(this)&&this||{},n={},r=(s,l)=>{const d=e&&qw(n,l)||l;Nc(n[d])&&Nc(s)?n[d]=S1(n[d],s):Nc(s)?n[d]=S1({},s):$a(s)?n[d]=s.slice():(!t||!La(s))&&(n[d]=s)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&yu(arguments[s],r);return n}const QA=(e,t,n,{allOwnKeys:r}={})=>(yu(t,(s,l)=>{n&&nr(s)?e[l]=Ww(s,n):e[l]=s},{allOwnKeys:r}),e),qA=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ZA=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},KA=(e,t,n,r)=>{let s,l,d;const g={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)d=s[l],(!r||r(d,e,t))&&!g[d]&&(t[d]=e[d],g[d]=!0);e=n!==!1&&Zh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},JA=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},e_=e=>{if(!e)return null;if($a(e))return e;let t=e.length;if(!Qw(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},t_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Zh(Uint8Array)),n_=(e,t)=>{const r=(e&&e[Of]).call(e);let s;for(;(s=r.next())&&!s.done;){const l=s.value;t.call(e,l[0],l[1])}},r_=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},i_=Kr("HTMLFormElement"),s_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Hm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),o_=Kr("RegExp"),Kw=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};yu(n,(s,l)=>{let d;(d=t(s,l,e))!==!1&&(r[l]=d||s)}),Object.defineProperties(e,r)},a_=e=>{Kw(e,(t,n)=>{if(nr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(nr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},l_=(e,t)=>{const n={},r=s=>{s.forEach(l=>{n[l]=!0})};return $a(e)?r(e):r(String(e).split(t)),n},u_=()=>{},c_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function f_(e){return!!(e&&nr(e.append)&&e[Xw]==="FormData"&&e[Of])}const d_=e=>{const t=new Array(10),n=(r,s)=>{if(xu(r)){if(t.indexOf(r)>=0)return;if(mu(r))return r;if(!("toJSON"in r)){t[s]=r;const l=$a(r)?[]:{};return yu(r,(d,g)=>{const x=n(d,s+1);!La(x)&&(l[g]=x)}),t[s]=void 0,l}}return r};return n(e,0)},h_=Kr("AsyncFunction"),g_=e=>e&&(xu(e)||nr(e))&&nr(e.then)&&nr(e.catch),Jw=((e,t)=>e?setImmediate:t?((n,r)=>(ro.addEventListener("message",({source:s,data:l})=>{s===ro&&l===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ro.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",nr(ro.postMessage)),p_=typeof queueMicrotask<"u"?queueMicrotask.bind(ro):typeof process<"u"&&process.nextTick||Jw,m_=e=>e!=null&&nr(e[Of]),K={isArray:$a,isArrayBuffer:Yw,isBuffer:mu,isFormData:VA,isArrayBufferView:DA,isString:kA,isNumber:Qw,isBoolean:PA,isObject:xu,isPlainObject:Nc,isEmptyObject:LA,isReadableStream:GA,isRequest:$A,isResponse:WA,isHeaders:XA,isUndefined:La,isDate:BA,isFile:FA,isBlob:jA,isRegExp:o_,isFunction:nr,isStream:zA,isURLSearchParams:HA,isTypedArray:t_,isFileList:UA,forEach:yu,merge:S1,extend:QA,trim:YA,stripBOM:qA,inherits:ZA,toFlatObject:KA,kindOf:Mf,kindOfTest:Kr,endsWith:JA,toArray:e_,forEachEntry:n_,matchAll:r_,isHTMLForm:i_,hasOwnProperty:Hm,hasOwnProp:Hm,reduceDescriptors:Kw,freezeMethods:a_,toObjectSet:l_,toCamelCase:s_,noop:u_,toFiniteNumber:c_,findKey:qw,global:ro,isContextDefined:Zw,isSpecCompliantForm:f_,toJSONObject:d_,isAsyncFn:h_,isThenable:g_,setImmediate:Jw,asap:p_,isIterable:m_};function ze(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}K.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const ev=ze.prototype,tv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tv[e]={value:e}});Object.defineProperties(ze,tv);Object.defineProperty(ev,"isAxiosError",{value:!0});ze.from=(e,t,n,r,s,l)=>{const d=Object.create(ev);K.toFlatObject(e,d,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const g=e&&e.message?e.message:"Error",x=t==null&&e?e.code:t;return ze.call(d,g,x,n,r,s),e&&d.cause==null&&Object.defineProperty(d,"cause",{value:e,configurable:!0}),d.name=e&&e.name||"Error",l&&Object.assign(d,l),d};const x_=null;function A1(e){return K.isPlainObject(e)||K.isArray(e)}function nv(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function Gm(e,t,n){return e?e.concat(t).map(function(s,l){return s=nv(s),!n&&l?"["+s+"]":s}).join(n?".":""):t}function y_(e){return K.isArray(e)&&!e.some(A1)}const w_=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function kf(e,t,n){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,P){return!K.isUndefined(P[O])});const r=n.metaTokens,s=n.visitor||v,l=n.dots,d=n.indexes,x=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(s))throw new TypeError("visitor must be a function");function p(N){if(N===null)return"";if(K.isDate(N))return N.toISOString();if(K.isBoolean(N))return N.toString();if(!x&&K.isBlob(N))throw new ze("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(N)||K.isTypedArray(N)?x&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function v(N,O,P){let M=N;if(N&&!P&&typeof N=="object"){if(K.endsWith(O,"{}"))O=r?O:O.slice(0,-2),N=JSON.stringify(N);else if(K.isArray(N)&&y_(N)||(K.isFileList(N)||K.endsWith(O,"[]"))&&(M=K.toArray(N)))return O=nv(O),M.forEach(function(T,k){!(K.isUndefined(T)||T===null)&&t.append(d===!0?Gm([O],k,l):d===null?O:O+"[]",p(T))}),!1}return A1(N)?!0:(t.append(Gm(P,O,l),p(N)),!1)}const E=[],b=Object.assign(w_,{defaultVisitor:v,convertValue:p,isVisitable:A1});function I(N,O){if(!K.isUndefined(N)){if(E.indexOf(N)!==-1)throw Error("Circular reference detected in "+O.join("."));E.push(N),K.forEach(N,function(M,_){(!(K.isUndefined(M)||M===null)&&s.call(t,M,K.isString(_)?_.trim():_,O,b))===!0&&I(M,O?O.concat(_):[_])}),E.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return I(e),t}function $m(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Kh(e,t){this._pairs=[],e&&kf(e,this,t)}const rv=Kh.prototype;rv.append=function(t,n){this._pairs.push([t,n])};rv.toString=function(t){const n=t?function(r){return t.call(this,r,$m)}:$m;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function v_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function iv(e,t,n){if(!t)return e;const r=n&&n.encode||v_;K.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(s?l=s(t,n):l=K.isURLSearchParams(t)?t.toString():new Kh(t,n).toString(r),l){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Wm{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(r){r!==null&&t(r)})}}const sv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E_=typeof URLSearchParams<"u"?URLSearchParams:Kh,C_=typeof FormData<"u"?FormData:null,S_=typeof Blob<"u"?Blob:null,A_={isBrowser:!0,classes:{URLSearchParams:E_,FormData:C_,Blob:S_},protocols:["http","https","file","blob","url","data"]},Jh=typeof window<"u"&&typeof document<"u",_1=typeof navigator=="object"&&navigator||void 0,__=Jh&&(!_1||["ReactNative","NativeScript","NS"].indexOf(_1.product)<0),b_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",I_=Jh&&window.location.href||"http://localhost",N_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jh,hasStandardBrowserEnv:__,hasStandardBrowserWebWorkerEnv:b_,navigator:_1,origin:I_},Symbol.toStringTag,{value:"Module"})),Rn={...N_,...A_};function T_(e,t){return kf(e,new Rn.classes.URLSearchParams,{visitor:function(n,r,s,l){return Rn.isNode&&K.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function R_(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function O_(e){const t={},n=Object.keys(e);let r;const s=n.length;let l;for(r=0;r<s;r++)l=n[r],t[l]=e[l];return t}function ov(e){function t(n,r,s,l){let d=n[l++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),x=l>=n.length;return d=!d&&K.isArray(s)?s.length:d,x?(K.hasOwnProp(s,d)?s[d]=[s[d],r]:s[d]=r,!g):((!s[d]||!K.isObject(s[d]))&&(s[d]=[]),t(n,r,s[d],l)&&K.isArray(s[d])&&(s[d]=O_(s[d])),!g)}if(K.isFormData(e)&&K.isFunction(e.entries)){const n={};return K.forEachEntry(e,(r,s)=>{t(R_(r),s,n,0)}),n}return null}function M_(e,t,n){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const wu={transitional:sv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,l=K.isObject(t);if(l&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return s?JSON.stringify(ov(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return T_(t,this.formSerializer).toString();if((g=K.isFileList(t))||r.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return kf(g?{"files[]":t}:t,x&&new x,this.formSerializer)}}return l||s?(n.setContentType("application/json",!1),M_(t)):t}],transformResponse:[function(t){const n=this.transitional||wu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(r&&!this.responseType||s)){const d=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(g){if(d)throw g.name==="SyntaxError"?ze.from(g,ze.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rn.classes.FormData,Blob:Rn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{wu.headers[e]={}});const D_=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),k_=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(d){s=d.indexOf(":"),n=d.substring(0,s).trim().toLowerCase(),r=d.substring(s+1).trim(),!(!n||t[n]&&D_[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Xm=Symbol("internals");function hl(e){return e&&String(e).trim().toLowerCase()}function Tc(e){return e===!1||e==null?e:K.isArray(e)?e.map(Tc):String(e)}function P_(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const L_=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Yd(e,t,n,r,s){if(K.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!K.isString(t)){if(K.isString(r))return t.indexOf(r)!==-1;if(K.isRegExp(r))return r.test(t)}}function B_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function F_(e,t){const n=K.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,l,d){return this[r].call(this,t,s,l,d)},configurable:!0})})}let rr=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function l(g,x,p){const v=hl(x);if(!v)throw new Error("header name must be a non-empty string");const E=K.findKey(s,v);(!E||s[E]===void 0||p===!0||p===void 0&&s[E]!==!1)&&(s[E||x]=Tc(g))}const d=(g,x)=>K.forEach(g,(p,v)=>l(p,v,x));if(K.isPlainObject(t)||t instanceof this.constructor)d(t,n);else if(K.isString(t)&&(t=t.trim())&&!L_(t))d(k_(t),n);else if(K.isObject(t)&&K.isIterable(t)){let g={},x,p;for(const v of t){if(!K.isArray(v))throw TypeError("Object iterator must return a key-value pair");g[p=v[0]]=(x=g[p])?K.isArray(x)?[...x,v[1]]:[x,v[1]]:v[1]}d(g,n)}else t!=null&&l(n,t,r);return this}get(t,n){if(t=hl(t),t){const r=K.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return P_(s);if(K.isFunction(n))return n.call(this,s,r);if(K.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=hl(t),t){const r=K.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Yd(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function l(d){if(d=hl(d),d){const g=K.findKey(r,d);g&&(!n||Yd(r,r[g],g,n))&&(delete r[g],s=!0)}}return K.isArray(t)?t.forEach(l):l(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const l=n[r];(!t||Yd(this,this[l],l,t,!0))&&(delete this[l],s=!0)}return s}normalize(t){const n=this,r={};return K.forEach(this,(s,l)=>{const d=K.findKey(r,l);if(d){n[d]=Tc(s),delete n[l];return}const g=t?B_(l):String(l).trim();g!==l&&delete n[l],n[g]=Tc(s),r[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return K.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&K.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Xm]=this[Xm]={accessors:{}}).accessors,s=this.prototype;function l(d){const g=hl(d);r[g]||(F_(s,d),r[g]=!0)}return K.isArray(t)?t.forEach(l):l(t),this}};rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(rr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});K.freezeMethods(rr);function Qd(e,t){const n=this||wu,r=t||n,s=rr.from(r.headers);let l=r.data;return K.forEach(e,function(g){l=g.call(n,l,s.normalize(),t?t.status:void 0)}),s.normalize(),l}function av(e){return!!(e&&e.__CANCEL__)}function Wa(e,t,n){ze.call(this,e??"canceled",ze.ERR_CANCELED,t,n),this.name="CanceledError"}K.inherits(Wa,ze,{__CANCEL__:!0});function lv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ze("Request failed with status code "+n.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function j_(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function U_(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,l=0,d;return t=t!==void 0?t:1e3,function(x){const p=Date.now(),v=r[l];d||(d=p),n[s]=x,r[s]=p;let E=l,b=0;for(;E!==s;)b+=n[E++],E=E%e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),p-d<t)return;const I=v&&p-v;return I?Math.round(b*1e3/I):void 0}}function z_(e,t){let n=0,r=1e3/t,s,l;const d=(p,v=Date.now())=>{n=v,s=null,l&&(clearTimeout(l),l=null),e(...p)};return[(...p)=>{const v=Date.now(),E=v-n;E>=r?d(p,v):(s=p,l||(l=setTimeout(()=>{l=null,d(s)},r-E)))},()=>s&&d(s)]}const lf=(e,t,n=3)=>{let r=0;const s=U_(50,250);return z_(l=>{const d=l.loaded,g=l.lengthComputable?l.total:void 0,x=d-r,p=s(x),v=d<=g;r=d;const E={loaded:d,total:g,progress:g?d/g:void 0,bytes:x,rate:p||void 0,estimated:p&&g&&v?(g-d)/p:void 0,event:l,lengthComputable:g!=null,[t?"download":"upload"]:!0};e(E)},n)},Ym=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Qm=e=>(...t)=>K.asap(()=>e(...t)),V_=Rn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Rn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Rn.origin),Rn.navigator&&/(msie|trident)/i.test(Rn.navigator.userAgent)):()=>!0,H_=Rn.hasStandardBrowserEnv?{write(e,t,n,r,s,l,d){if(typeof document>"u")return;const g=[`${e}=${encodeURIComponent(t)}`];K.isNumber(n)&&g.push(`expires=${new Date(n).toUTCString()}`),K.isString(r)&&g.push(`path=${r}`),K.isString(s)&&g.push(`domain=${s}`),l===!0&&g.push("secure"),K.isString(d)&&g.push(`SameSite=${d}`),document.cookie=g.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function G_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $_(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function uv(e,t,n){let r=!G_(t);return e&&(r||n==!1)?$_(e,t):t}const qm=e=>e instanceof rr?{...e}:e;function No(e,t){t=t||{};const n={};function r(p,v,E,b){return K.isPlainObject(p)&&K.isPlainObject(v)?K.merge.call({caseless:b},p,v):K.isPlainObject(v)?K.merge({},v):K.isArray(v)?v.slice():v}function s(p,v,E,b){if(K.isUndefined(v)){if(!K.isUndefined(p))return r(void 0,p,E,b)}else return r(p,v,E,b)}function l(p,v){if(!K.isUndefined(v))return r(void 0,v)}function d(p,v){if(K.isUndefined(v)){if(!K.isUndefined(p))return r(void 0,p)}else return r(void 0,v)}function g(p,v,E){if(E in t)return r(p,v);if(E in e)return r(void 0,p)}const x={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(p,v,E)=>s(qm(p),qm(v),E,!0)};return K.forEach(Object.keys({...e,...t}),function(v){const E=x[v]||s,b=E(e[v],t[v],v);K.isUndefined(b)&&E!==g||(n[v]=b)}),n}const cv=e=>{const t=No({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:l,headers:d,auth:g}=t;if(t.headers=d=rr.from(d),t.url=iv(uv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&d.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),K.isFormData(n)){if(Rn.hasStandardBrowserEnv||Rn.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(K.isFunction(n.getHeaders)){const x=n.getHeaders(),p=["content-type","content-length"];Object.entries(x).forEach(([v,E])=>{p.includes(v.toLowerCase())&&d.set(v,E)})}}if(Rn.hasStandardBrowserEnv&&(r&&K.isFunction(r)&&(r=r(t)),r||r!==!1&&V_(t.url))){const x=s&&l&&H_.read(l);x&&d.set(s,x)}return t},W_=typeof XMLHttpRequest<"u",X_=W_&&function(e){return new Promise(function(n,r){const s=cv(e);let l=s.data;const d=rr.from(s.headers).normalize();let{responseType:g,onUploadProgress:x,onDownloadProgress:p}=s,v,E,b,I,N;function O(){I&&I(),N&&N(),s.cancelToken&&s.cancelToken.unsubscribe(v),s.signal&&s.signal.removeEventListener("abort",v)}let P=new XMLHttpRequest;P.open(s.method.toUpperCase(),s.url,!0),P.timeout=s.timeout;function M(){if(!P)return;const T=rr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),H={data:!g||g==="text"||g==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:T,config:e,request:P};lv(function(V){n(V),O()},function(V){r(V),O()},H),P=null}"onloadend"in P?P.onloadend=M:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(M)},P.onabort=function(){P&&(r(new ze("Request aborted",ze.ECONNABORTED,e,P)),P=null)},P.onerror=function(k){const H=k&&k.message?k.message:"Network Error",Q=new ze(H,ze.ERR_NETWORK,e,P);Q.event=k||null,r(Q),P=null},P.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const H=s.transitional||sv;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),r(new ze(k,H.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,e,P)),P=null},l===void 0&&d.setContentType(null),"setRequestHeader"in P&&K.forEach(d.toJSON(),function(k,H){P.setRequestHeader(H,k)}),K.isUndefined(s.withCredentials)||(P.withCredentials=!!s.withCredentials),g&&g!=="json"&&(P.responseType=s.responseType),p&&([b,N]=lf(p,!0),P.addEventListener("progress",b)),x&&P.upload&&([E,I]=lf(x),P.upload.addEventListener("progress",E),P.upload.addEventListener("loadend",I)),(s.cancelToken||s.signal)&&(v=T=>{P&&(r(!T||T.type?new Wa(null,e,P):T),P.abort(),P=null)},s.cancelToken&&s.cancelToken.subscribe(v),s.signal&&(s.signal.aborted?v():s.signal.addEventListener("abort",v)));const _=j_(s.url);if(_&&Rn.protocols.indexOf(_)===-1){r(new ze("Unsupported protocol "+_+":",ze.ERR_BAD_REQUEST,e));return}P.send(l||null)})},Y_=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const l=function(p){if(!s){s=!0,g();const v=p instanceof Error?p:this.reason;r.abort(v instanceof ze?v:new Wa(v instanceof Error?v.message:v))}};let d=t&&setTimeout(()=>{d=null,l(new ze(`timeout ${t} of ms exceeded`,ze.ETIMEDOUT))},t);const g=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),e=null)};e.forEach(p=>p.addEventListener("abort",l));const{signal:x}=r;return x.unsubscribe=()=>K.asap(g),x}},Q_=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},q_=async function*(e,t){for await(const n of Z_(e))yield*Q_(n,t)},Z_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Zm=(e,t,n,r)=>{const s=q_(e,t);let l=0,d,g=x=>{d||(d=!0,r&&r(x))};return new ReadableStream({async pull(x){try{const{done:p,value:v}=await s.next();if(p){g(),x.close();return}let E=v.byteLength;if(n){let b=l+=E;n(b)}x.enqueue(new Uint8Array(v))}catch(p){throw g(p),p}},cancel(x){return g(x),s.return()}},{highWaterMark:2})},Km=64*1024,{isFunction:nc}=K,K_=(({Request:e,Response:t})=>({Request:e,Response:t}))(K.global),{ReadableStream:Jm,TextEncoder:e2}=K.global,t2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},J_=e=>{e=K.merge.call({skipUndefined:!0},K_,e);const{fetch:t,Request:n,Response:r}=e,s=t?nc(t):typeof fetch=="function",l=nc(n),d=nc(r);if(!s)return!1;const g=s&&nc(Jm),x=s&&(typeof e2=="function"?(N=>O=>N.encode(O))(new e2):async N=>new Uint8Array(await new n(N).arrayBuffer())),p=l&&g&&t2(()=>{let N=!1;const O=new n(Rn.origin,{body:new Jm,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!O}),v=d&&g&&t2(()=>K.isReadableStream(new r("").body)),E={stream:v&&(N=>N.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!E[N]&&(E[N]=(O,P)=>{let M=O&&O[N];if(M)return M.call(O);throw new ze(`Response type '${N}' is not supported`,ze.ERR_NOT_SUPPORT,P)})});const b=async N=>{if(N==null)return 0;if(K.isBlob(N))return N.size;if(K.isSpecCompliantForm(N))return(await new n(Rn.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(K.isArrayBufferView(N)||K.isArrayBuffer(N))return N.byteLength;if(K.isURLSearchParams(N)&&(N=N+""),K.isString(N))return(await x(N)).byteLength},I=async(N,O)=>{const P=K.toFiniteNumber(N.getContentLength());return P??b(O)};return async N=>{let{url:O,method:P,data:M,signal:_,cancelToken:T,timeout:k,onDownloadProgress:H,onUploadProgress:Q,responseType:V,headers:te,withCredentials:q="same-origin",fetchOptions:ie}=cv(N),ye=t||fetch;V=V?(V+"").toLowerCase():"text";let re=Y_([_,T&&T.toAbortSignal()],k),ce=null;const _e=re&&re.unsubscribe&&(()=>{re.unsubscribe()});let W;try{if(Q&&p&&P!=="get"&&P!=="head"&&(W=await I(te,M))!==0){let Me=new n(O,{method:"POST",body:M,duplex:"half"}),be;if(K.isFormData(M)&&(be=Me.headers.get("content-type"))&&te.setContentType(be),Me.body){const[dt,Ee]=Ym(W,lf(Qm(Q)));M=Zm(Me.body,Km,dt,Ee)}}K.isString(q)||(q=q?"include":"omit");const Oe=l&&"credentials"in n.prototype,Y={...ie,signal:re,method:P.toUpperCase(),headers:te.normalize().toJSON(),body:M,duplex:"half",credentials:Oe?q:void 0};ce=l&&new n(O,Y);let ee=await(l?ye(ce,ie):ye(O,Y));const de=v&&(V==="stream"||V==="response");if(v&&(H||de&&_e)){const Me={};["status","statusText","headers"].forEach(Ke=>{Me[Ke]=ee[Ke]});const be=K.toFiniteNumber(ee.headers.get("content-length")),[dt,Ee]=H&&Ym(be,lf(Qm(H),!0))||[];ee=new r(Zm(ee.body,Km,dt,()=>{Ee&&Ee(),_e&&_e()}),Me)}V=V||"text";let pe=await E[K.findKey(E,V)||"text"](ee,N);return!de&&_e&&_e(),await new Promise((Me,be)=>{lv(Me,be,{data:pe,headers:rr.from(ee.headers),status:ee.status,statusText:ee.statusText,config:N,request:ce})})}catch(Oe){throw _e&&_e(),Oe&&Oe.name==="TypeError"&&/Load failed|fetch/i.test(Oe.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,N,ce),{cause:Oe.cause||Oe}):ze.from(Oe,Oe&&Oe.code,N,ce)}}},eb=new Map,fv=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,l=[r,s,n];let d=l.length,g=d,x,p,v=eb;for(;g--;)x=l[g],p=v.get(x),p===void 0&&v.set(x,p=g?new Map:J_(t)),v=p;return p};fv();const eg={http:x_,xhr:X_,fetch:{get:fv}};K.forEach(eg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const n2=e=>`- ${e}`,tb=e=>K.isFunction(e)||e===null||e===!1;function nb(e,t){e=K.isArray(e)?e:[e];const{length:n}=e;let r,s;const l={};for(let d=0;d<n;d++){r=e[d];let g;if(s=r,!tb(r)&&(s=eg[(g=String(r)).toLowerCase()],s===void 0))throw new ze(`Unknown adapter '${g}'`);if(s&&(K.isFunction(s)||(s=s.get(t))))break;l[g||"#"+d]=s}if(!s){const d=Object.entries(l).map(([x,p])=>`adapter ${x} `+(p===!1?"is not supported by the environment":"is not available in the build"));let g=n?d.length>1?`since :
`+d.map(n2).join(`
`):" "+n2(d[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return s}const dv={getAdapter:nb,adapters:eg};function qd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wa(null,e)}function r2(e){return qd(e),e.headers=rr.from(e.headers),e.data=Qd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dv.getAdapter(e.adapter||wu.adapter,e)(e).then(function(r){return qd(e),r.data=Qd.call(e,e.transformResponse,r),r.headers=rr.from(r.headers),r},function(r){return av(r)||(qd(e),r&&r.response&&(r.response.data=Qd.call(e,e.transformResponse,r.response),r.response.headers=rr.from(r.response.headers))),Promise.reject(r)})}const hv="1.13.2",Pf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Pf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const i2={};Pf.transitional=function(t,n,r){function s(l,d){return"[Axios v"+hv+"] Transitional option '"+l+"'"+d+(r?". "+r:"")}return(l,d,g)=>{if(t===!1)throw new ze(s(d," has been removed"+(n?" in "+n:"")),ze.ERR_DEPRECATED);return n&&!i2[d]&&(i2[d]=!0,console.warn(s(d," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,d,g):!0}};Pf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function rb(e,t,n){if(typeof e!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const l=r[s],d=t[l];if(d){const g=e[l],x=g===void 0||d(g,l,e);if(x!==!0)throw new ze("option "+l+" must be "+x,ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ze("Unknown option "+l,ze.ERR_BAD_OPTION)}}const Rc={assertOptions:rb,validators:Pf},ai=Rc.validators;let wo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Wm,response:new Wm}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=No(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:l}=n;r!==void 0&&Rc.assertOptions(r,{silentJSONParsing:ai.transitional(ai.boolean),forcedJSONParsing:ai.transitional(ai.boolean),clarifyTimeoutError:ai.transitional(ai.boolean)},!1),s!=null&&(K.isFunction(s)?n.paramsSerializer={serialize:s}:Rc.assertOptions(s,{encode:ai.function,serialize:ai.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rc.assertOptions(n,{baseUrl:ai.spelling("baseURL"),withXsrfToken:ai.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=l&&K.merge(l.common,l[n.method]);l&&K.forEach(["delete","get","head","post","put","patch","common"],N=>{delete l[N]}),n.headers=rr.concat(d,l);const g=[];let x=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(x=x&&O.synchronous,g.unshift(O.fulfilled,O.rejected))});const p=[];this.interceptors.response.forEach(function(O){p.push(O.fulfilled,O.rejected)});let v,E=0,b;if(!x){const N=[r2.bind(this),void 0];for(N.unshift(...g),N.push(...p),b=N.length,v=Promise.resolve(n);E<b;)v=v.then(N[E++],N[E++]);return v}b=g.length;let I=n;for(;E<b;){const N=g[E++],O=g[E++];try{I=N(I)}catch(P){O.call(this,P);break}}try{v=r2.call(this,I)}catch(N){return Promise.reject(N)}for(E=0,b=p.length;E<b;)v=v.then(p[E++],p[E++]);return v}getUri(t){t=No(this.defaults,t);const n=uv(t.baseURL,t.url,t.allowAbsoluteUrls);return iv(n,t.params,t.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(t){wo.prototype[t]=function(n,r){return this.request(No(r||{},{method:t,url:n,data:(r||{}).data}))}});K.forEach(["post","put","patch"],function(t){function n(r){return function(l,d,g){return this.request(No(g||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}wo.prototype[t]=n(),wo.prototype[t+"Form"]=n(!0)});let ib=class gv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(s=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](s);r._listeners=null}),this.promise.then=s=>{let l;const d=new Promise(g=>{r.subscribe(g),l=g}).then(s);return d.cancel=function(){r.unsubscribe(l)},d},t(function(l,d,g){r.reason||(r.reason=new Wa(l,d,g),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new gv(function(s){t=s}),cancel:t}}};function sb(e){return function(n){return e.apply(null,n)}}function ob(e){return K.isObject(e)&&e.isAxiosError===!0}const b1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(b1).forEach(([e,t])=>{b1[t]=e});function pv(e){const t=new wo(e),n=Ww(wo.prototype.request,t);return K.extend(n,wo.prototype,t,{allOwnKeys:!0}),K.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return pv(No(e,s))},n}const Lt=pv(wu);Lt.Axios=wo;Lt.CanceledError=Wa;Lt.CancelToken=ib;Lt.isCancel=av;Lt.VERSION=hv;Lt.toFormData=kf;Lt.AxiosError=ze;Lt.Cancel=Lt.CanceledError;Lt.all=function(t){return Promise.all(t)};Lt.spread=sb;Lt.isAxiosError=ob;Lt.mergeConfig=No;Lt.AxiosHeaders=rr;Lt.formToJSON=e=>ov(K.isHTMLForm(e)?new FormData(e):e);Lt.getAdapter=dv.getAdapter;Lt.HttpStatusCode=b1;Lt.default=Lt;const{Axios:YD,AxiosError:QD,CanceledError:qD,isCancel:ZD,CancelToken:KD,VERSION:JD,all:e7,Cancel:t7,isAxiosError:n7,spread:r7,toFormData:i7,AxiosHeaders:s7,HttpStatusCode:o7,formToJSON:a7,getAdapter:l7,mergeConfig:u7}=Lt,io=Lt.create({baseURL:import.meta.mode==="development"?"http://localhost:5001/api":"/api",withCredentials:!0}),mv=z.createContext(null),ab=({children:e})=>{const[t,n]=z.useState(null),[r,s]=z.useState(!0);z.useEffect(()=>{(async()=>{try{const x=await io.get("/auth/check");n(x.data)}catch{n(null)}finally{s(!1)}})()},[]);const l=async(g,x)=>{var p,v;try{const E=await io.post("/auth/login",{email:g,password:x});return n(E.data),{success:!0}}catch(E){return{success:!1,message:((v=(p=E.response)==null?void 0:p.data)==null?void 0:v.message)||"Login failed"}}},d=async()=>{try{await io.post("/auth/logout"),n(null)}catch(g){console.error("Logout failed",g)}};return w.jsx(mv.Provider,{value:{user:t,login:l,logout:d,loading:r},children:e})},Lf=()=>z.useContext(mv),gl=({requiredModule:e})=>{const{user:t,loading:n}=Lf();return n?w.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:[w.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),w.jsx("p",{className:"text-gray-500 font-medium",children:"Authenticating..."})]}):t?e&&t.role!=="admin"&&!t.allowedModules.includes(e)?w.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[w.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:w.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),w.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Access Denied"}),w.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["You do not have permission to view the ",w.jsx("span",{className:"font-semibold text-gray-900",children:e})," module."]}),w.jsx("div",{className:"mt-6 text-center",children:w.jsx(yo,{to:"/",className:"text-base font-medium text-blue-600 hover:text-blue-500",children:" Return to Dashboard"})})]})}):w.jsx(kw,{}):w.jsx(Dw,{to:"/login",replace:!0})};let lb={data:""},ub=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||lb},cb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fb=/\/\*[^]*?\*\/|  +/g,s2=/\n+/g,os=(e,t)=>{let n="",r="",s="";for(let l in e){let d=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+d+";":r+=l[1]=="f"?os(d,l):l+"{"+os(d,l[1]=="k"?"":t)+"}":typeof d=="object"?r+=os(d,t?t.replace(/([^,])+/g,g=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,x=>/&/.test(x)?x.replace(/&/g,g):g?g+" "+x:x)):l):d!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=os.p?os.p(l,d):l+":"+d+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Ei={},xv=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+xv(e[n]);return t}return e},db=(e,t,n,r,s)=>{let l=xv(e),d=Ei[l]||(Ei[l]=(x=>{let p=0,v=11;for(;p<x.length;)v=101*v+x.charCodeAt(p++)>>>0;return"go"+v})(l));if(!Ei[d]){let x=l!==e?e:(p=>{let v,E,b=[{}];for(;v=cb.exec(p.replace(fb,""));)v[4]?b.shift():v[3]?(E=v[3].replace(s2," ").trim(),b.unshift(b[0][E]=b[0][E]||{})):b[0][v[1]]=v[2].replace(s2," ").trim();return b[0]})(e);Ei[d]=os(s?{["@keyframes "+d]:x}:x,n?"":"."+d)}let g=n&&Ei.g?Ei.g:null;return n&&(Ei.g=Ei[d]),((x,p,v,E)=>{E?p.data=p.data.replace(E,x):p.data.indexOf(x)===-1&&(p.data=v?x+p.data:p.data+x)})(Ei[d],t,r,g),d},hb=(e,t,n)=>e.reduce((r,s,l)=>{let d=t[l];if(d&&d.call){let g=d(n),x=g&&g.props&&g.props.className||/^go/.test(g)&&g;d=x?"."+x:g&&typeof g=="object"?g.props?"":os(g,""):g===!1?"":g}return r+s+(d??"")},"");function Bf(e){let t=this||{},n=e.call?e(t.p):e;return db(n.unshift?n.raw?hb(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,ub(t.target),t.g,t.o,t.k)}let yv,I1,N1;Bf.bind({g:1});let Vi=Bf.bind({k:1});function gb(e,t,n,r){os.p=t,yv=e,I1=n,N1=r}function Us(e,t){let n=this||{};return function(){let r=arguments;function s(l,d){let g=Object.assign({},l),x=g.className||s.className;n.p=Object.assign({theme:I1&&I1()},g),n.o=/ *go\d+/.test(x),g.className=Bf.apply(n,r)+(x?" "+x:"");let p=e;return e[0]&&(p=g.as||e,delete g.as),N1&&p[0]&&N1(g),yv(p,g)}return s}}var pb=e=>typeof e=="function",uf=(e,t)=>pb(e)?e(t):e,mb=(()=>{let e=0;return()=>(++e).toString()})(),wv=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),xb=20,tg="default",vv=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(d=>d.id===t.toast.id?{...d,...t.toast}:d)};case 2:let{toast:r}=t;return vv(e,{type:e.toasts.find(d=>d.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(d=>d.id===s||s===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(d=>d.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+l}))}}},Oc=[],Ev={toasts:[],pausedAt:void 0,settings:{toastLimit:xb}},mi={},Cv=(e,t=tg)=>{mi[t]=vv(mi[t]||Ev,e),Oc.forEach(([n,r])=>{n===t&&r(mi[t])})},Sv=e=>Object.keys(mi).forEach(t=>Cv(e,t)),yb=e=>Object.keys(mi).find(t=>mi[t].toasts.some(n=>n.id===e)),Ff=(e=tg)=>t=>{Cv(t,e)},wb={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},vb=(e={},t=tg)=>{let[n,r]=z.useState(mi[t]||Ev),s=z.useRef(mi[t]);z.useEffect(()=>(s.current!==mi[t]&&r(mi[t]),Oc.push([t,r]),()=>{let d=Oc.findIndex(([g])=>g===t);d>-1&&Oc.splice(d,1)}),[t]);let l=n.toasts.map(d=>{var g,x,p;return{...e,...e[d.type],...d,removeDelay:d.removeDelay||((g=e[d.type])==null?void 0:g.removeDelay)||(e==null?void 0:e.removeDelay),duration:d.duration||((x=e[d.type])==null?void 0:x.duration)||(e==null?void 0:e.duration)||wb[d.type],style:{...e.style,...(p=e[d.type])==null?void 0:p.style,...d.style}}});return{...n,toasts:l}},Eb=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||mb()}),vu=e=>(t,n)=>{let r=Eb(t,e,n);return Ff(r.toasterId||yb(r.id))({type:2,toast:r}),r.id},rn=(e,t)=>vu("blank")(e,t);rn.error=vu("error");rn.success=vu("success");rn.loading=vu("loading");rn.custom=vu("custom");rn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Ff(t)(n):Sv(n)};rn.dismissAll=e=>rn.dismiss(void 0,e);rn.remove=(e,t)=>{let n={type:4,toastId:e};t?Ff(t)(n):Sv(n)};rn.removeAll=e=>rn.remove(void 0,e);rn.promise=(e,t,n)=>{let r=rn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let l=t.success?uf(t.success,s):void 0;return l?rn.success(l,{id:r,...n,...n==null?void 0:n.success}):rn.dismiss(r),s}).catch(s=>{let l=t.error?uf(t.error,s):void 0;l?rn.error(l,{id:r,...n,...n==null?void 0:n.error}):rn.dismiss(r)}),e};var Cb=1e3,Sb=(e,t="default")=>{let{toasts:n,pausedAt:r}=vb(e,t),s=z.useRef(new Map).current,l=z.useCallback((E,b=Cb)=>{if(s.has(E))return;let I=setTimeout(()=>{s.delete(E),d({type:4,toastId:E})},b);s.set(E,I)},[]);z.useEffect(()=>{if(r)return;let E=Date.now(),b=n.map(I=>{if(I.duration===1/0)return;let N=(I.duration||0)+I.pauseDuration-(E-I.createdAt);if(N<0){I.visible&&rn.dismiss(I.id);return}return setTimeout(()=>rn.dismiss(I.id,t),N)});return()=>{b.forEach(I=>I&&clearTimeout(I))}},[n,r,t]);let d=z.useCallback(Ff(t),[t]),g=z.useCallback(()=>{d({type:5,time:Date.now()})},[d]),x=z.useCallback((E,b)=>{d({type:1,toast:{id:E,height:b}})},[d]),p=z.useCallback(()=>{r&&d({type:6,time:Date.now()})},[r,d]),v=z.useCallback((E,b)=>{let{reverseOrder:I=!1,gutter:N=8,defaultPosition:O}=b||{},P=n.filter(T=>(T.position||O)===(E.position||O)&&T.height),M=P.findIndex(T=>T.id===E.id),_=P.filter((T,k)=>k<M&&T.visible).length;return P.filter(T=>T.visible).slice(...I?[_+1]:[0,_]).reduce((T,k)=>T+(k.height||0)+N,0)},[n]);return z.useEffect(()=>{n.forEach(E=>{if(E.dismissed)l(E.id,E.removeDelay);else{let b=s.get(E.id);b&&(clearTimeout(b),s.delete(E.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:x,startPause:g,endPause:p,calculateOffset:v}}},Ab=Vi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_b=Vi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bb=Vi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ib=Us("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ab} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_b} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${bb} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Nb=Vi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Tb=Us("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Nb} 1s linear infinite;
`,Rb=Vi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ob=Vi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Mb=Us("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ob} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Db=Us("div")`
  position: absolute;
`,kb=Us("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Pb=Vi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Lb=Us("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Pb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Bb=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?z.createElement(Lb,null,t):t:n==="blank"?null:z.createElement(kb,null,z.createElement(Tb,{...r}),n!=="loading"&&z.createElement(Db,null,n==="error"?z.createElement(Ib,{...r}):z.createElement(Mb,{...r})))},Fb=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jb=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Ub="0%{opacity:0;} 100%{opacity:1;}",zb="0%{opacity:1;} 100%{opacity:0;}",Vb=Us("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Hb=Us("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Gb=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=wv()?[Ub,zb]:[Fb(n),jb(n)];return{animation:t?`${Vi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Vi(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$b=z.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?Gb(e.position||t||"top-center",e.visible):{opacity:0},l=z.createElement(Bb,{toast:e}),d=z.createElement(Hb,{...e.ariaProps},uf(e.message,e));return z.createElement(Vb,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:l,message:d}):z.createElement(z.Fragment,null,l,d))});gb(z.createElement);var Wb=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let l=z.useCallback(d=>{if(d){let g=()=>{let x=d.getBoundingClientRect().height;r(e,x)};g(),new MutationObserver(g).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return z.createElement("div",{ref:l,className:t,style:n},s)},Xb=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:wv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},Yb=Bf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,rc=16,Qb=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:l,containerStyle:d,containerClassName:g})=>{let{toasts:x,handlers:p}=Sb(n,l);return z.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:rc,left:rc,right:rc,bottom:rc,pointerEvents:"none",...d},className:g,onMouseEnter:p.startPause,onMouseLeave:p.endPause},x.map(v=>{let E=v.position||t,b=p.calculateOffset(v,{reverseOrder:e,gutter:r,defaultPosition:t}),I=Xb(E,b);return z.createElement(Wb,{id:v.id,key:v.id,onHeightUpdate:p.updateHeight,className:v.visible?Yb:"",style:I},v.type==="custom"?uf(v.message,v):s?s(v):z.createElement($b,{toast:v,position:E}))}))},ic=rn;const qb=()=>{const[e,t]=z.useState(""),[n,r]=z.useState(""),[s,l]=z.useState(""),[d,g]=z.useState(!1),{login:x}=Lf(),p=pu(),v=async E=>{E.preventDefault(),l(""),g(!0);try{const b=await x(e,n);b.success?p("/"):l(b.message)}catch{l("An unexpected error occurred.")}finally{g(!1)}};return w.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[w.jsx("div",{className:"mx-auto h-12 w-12 bg-blue-600 rounded-lg flex items-center justify-center shadow-lg",children:w.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),w.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-slate-900 tracking-tight",children:"Pharma ERP"}),w.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Sign in to access your dashboard"})]}),w.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:w.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl shadow-slate-200 border border-slate-100 sm:rounded-xl sm:px-10",children:[w.jsxs("form",{className:"space-y-6",onSubmit:v,children:[s&&w.jsx("div",{className:"rounded-md bg-red-50 p-4 border-l-4 border-red-500 animate-pulse",children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),w.jsxs("div",{className:"ml-3",children:[w.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Login failed"}),w.jsx("div",{className:"mt-1 text-sm text-red-700",children:s})]})]})}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email address"}),w.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),w.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:E=>t(E.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out",placeholder:"admin@pharma.com"})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),w.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),w.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:E=>r(E.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out",placeholder:""})]})]}),w.jsx("div",{children:w.jsx("button",{type:"submit",disabled:d,className:`w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-semibold text-white
                  ${d?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}
                  transition duration-150 ease-in-out`,children:d?w.jsxs("span",{className:"flex items-center",children:[w.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),w.jsx("div",{className:"mt-6",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-slate-200"})}),w.jsx("div",{className:"relative flex justify-center text-sm",children:w.jsx("span",{className:"px-2 bg-white text-slate-500",children:"Forgot your password? Contact IT Support"})})]})})]})})]})},Zb=()=>{const{user:e}=Lf(),t=s=>e.role==="admin"?!0:e.allowedModules&&e.allowedModules.includes(s),n=[{name:"Inventory",id:"INVENTORY",path:"/inventory",theme:"cyan",description:"Stock levels, batches & suppliers",icon:w.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})},{name:"POS",id:"POS",path:"/pos",theme:"emerald",description:"Billing & customer checkout",icon:w.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})},{name:"Finance",id:"FINANCE",path:"/finance",theme:"amber",description:"Ledgers, expenses & profits",icon:w.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{name:"Reporting",id:"REPORTING",path:"/reporting",theme:"indigo",description:"Analytics & performance insights",icon:w.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}],r=(s,l)=>{if(l)return"bg-gray-100 border-gray-200 text-gray-400";const d={cyan:"bg-white border-cyan-100 hover:border-cyan-300 hover:shadow-cyan-100 text-cyan-600",emerald:"bg-white border-emerald-100 hover:border-emerald-300 hover:shadow-emerald-100 text-emerald-600",amber:"bg-white border-amber-100 hover:border-amber-300 hover:shadow-amber-100 text-amber-600",indigo:"bg-white border-indigo-100 hover:border-indigo-300 hover:shadow-indigo-100 text-indigo-600"};return d[s]||d.cyan};return w.jsx("div",{className:"min-h-screen bg-gray-50 p-6 md:p-10",children:w.jsxs("div",{className:"max-w-7xl mx-auto",children:[w.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-center md:justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),w.jsxs("p",{className:"mt-1 text-gray-500",children:["Welcome back, ",w.jsx("span",{className:"font-semibold text-gray-800",children:e.name})]})]}),w.jsx("div",{className:"mt-4 md:mt-0",children:w.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:e.role==="admin"?"Administrator":"Staff Account"})})]}),e.role==="admin"&&w.jsxs("div",{className:"mb-8 bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Admin Controls"}),w.jsxs("div",{className:"flex flex-wrap gap-4",children:[w.jsxs(yo,{to:"/register-user",className:"px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors flex items-center",children:[w.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New User"]}),w.jsxs(yo,{to:"/admin/users",className:"px-5 py-2.5 bg-slate-800 hover:bg-slate-900 text-white font-medium rounded-lg transition-colors flex items-center",children:[w.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Manage Employees"]})]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(s=>{const l=t(s.id),d=r(s.theme,!l);return w.jsxs("div",{className:`
                  relative flex flex-col p-6 rounded-2xl border transition-all duration-300 ease-in-out
                  ${d}
                  ${l?"shadow-sm hover:shadow-lg hover:-translate-y-1 cursor-pointer":"cursor-not-allowed opacity-75"}
                `,children:[w.jsx("div",{className:`p-3 rounded-xl w-fit mb-4 ${l?`bg-${s.theme}-50`:"bg-gray-200"}`,children:s.icon}),w.jsx("h3",{className:`text-xl font-bold mb-2 ${l?"text-gray-900":"text-gray-500"}`,children:s.name}),w.jsx("p",{className:"text-sm text-gray-500 mb-6 flex-grow",children:s.description}),w.jsx("div",{className:"mt-auto",children:l?w.jsx(yo,{to:s.path,className:`
                        inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors
                        bg-${s.theme}-600 hover:bg-${s.theme}-700
                        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-${s.theme}-500
                      `,children:"Access Module "}):w.jsxs("div",{className:"flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-gray-500 bg-gray-100 rounded-lg border border-gray-200",children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Access Locked"]})})]},s.id)})})]})})},Zd=({name:e,endpoint:t})=>{const[n,r]=z.useState(""),[s,l]=z.useState(""),[d,g]=z.useState(!0);return z.useEffect(()=>{(async()=>{var p,v;g(!0),l(""),r("");try{const E=await Lt.get(t);r(E.data.message)}catch(E){l(((v=(p=E.response)==null?void 0:p.data)==null?void 0:v.message)||"Access Denied")}finally{g(!1)}})()},[t]),w.jsx("div",{className:"min-h-screen bg-gray-50 p-6 md:p-10",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"mb-8 border-b border-gray-200 pb-4",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e}),w.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Manage your ",e.toLowerCase()," data and configurations here."]})]}),w.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:w.jsxs("div",{className:"p-6",children:[d&&w.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[w.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),w.jsxs("p",{className:"text-gray-500 text-sm font-medium",children:["Loading ",e," data..."]})]}),!d&&n&&w.jsx("div",{className:"rounded-md bg-green-50 p-4 border-l-4 border-green-500",children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),w.jsxs("div",{className:"ml-3",children:[w.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Request Successful"}),w.jsx("div",{className:"mt-1 text-sm text-green-700",children:n})]})]})}),!d&&s&&w.jsx("div",{className:"rounded-md bg-red-50 p-4 border-l-4 border-red-500",children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),w.jsxs("div",{className:"ml-3",children:[w.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Module"}),w.jsx("div",{className:"mt-1 text-sm text-red-700",children:s})]})]})}),!d&&!n&&!s&&w.jsx("div",{className:"text-center py-12 text-gray-400",children:"No data available for this module yet."})]})})]})})},Kb=()=>{const e=pu(),[t,n]=z.useState({name:"",email:"",phoneNumber:"",password:"",role:"employee",allowedModules:[]}),[r,s]=z.useState(""),[l,d]=z.useState(""),[g,x]=z.useState(!1),p=["INVENTORY","POS","FINANCE","REPORTING"],v=I=>{n({...t,[I.target.name]:I.target.value})},E=I=>{const{value:N,checked:O}=I.target,{allowedModules:P}=t;n(O?{...t,allowedModules:[...P,N]}:{...t,allowedModules:P.filter(M=>M!==N)})},b=async I=>{var N,O;I.preventDefault(),s(""),d(""),x(!0);try{await Lt.post("/api/auth/register",t),s("User registered successfully!"),setTimeout(()=>e("/"),2e3)}catch(P){d(((O=(N=P.response)==null?void 0:N.data)==null?void 0:O.message)||"Registration failed")}finally{x(!1)}};return w.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[w.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Create New User"}),w.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Add a new employee or administrator to the system"})]}),w.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:w.jsx("div",{className:"bg-white py-8 px-4 shadow-xl border border-gray-200 sm:rounded-lg sm:px-10",children:w.jsxs("form",{className:"space-y-6",onSubmit:b,children:[r&&w.jsx("div",{className:"rounded-md bg-green-50 p-4 border-l-4 border-green-500",children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),w.jsx("div",{className:"ml-3",children:w.jsx("p",{className:"text-sm font-medium text-green-800",children:r})})]})}),l&&w.jsx("div",{className:"rounded-md bg-red-50 p-4 border-l-4 border-red-500",children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),w.jsx("div",{className:"ml-3",children:w.jsx("p",{className:"text-sm font-medium text-red-800",children:l})})]})}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),w.jsx("div",{className:"mt-1",children:w.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:t.name,onChange:v,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),w.jsx("div",{className:"mt-1",children:w.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"text",placeholder:"+94771234567",value:t.phoneNumber,onChange:v,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),w.jsx("div",{className:"mt-1",children:w.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:v,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),w.jsx("div",{className:"mt-1",children:w.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:v,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role"}),w.jsx("div",{className:"mt-1",children:w.jsxs("select",{id:"role",name:"role",value:t.role,onChange:v,className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[w.jsx("option",{value:"employee",children:"Employee"}),w.jsx("option",{value:"admin",children:"Administrator"})]})})]}),t.role==="employee"&&w.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Access Permissions"}),w.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.map(I=>w.jsxs("div",{className:"flex items-center",children:[w.jsx("input",{id:`module-${I}`,name:"allowedModules",value:I,type:"checkbox",checked:t.allowedModules.includes(I),onChange:E,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),w.jsx("label",{htmlFor:`module-${I}`,className:"ml-2 block text-sm text-gray-700 cursor-pointer select-none capitalize",children:I.toLowerCase()})]},I))})]}),w.jsx("div",{children:w.jsx("button",{type:"submit",disabled:g,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white
                  ${g?"bg-green-400 cursor-wait":"bg-green-600 hover:bg-green-700"}
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-150`,children:g?"Registering...":"Register User"})})]})})})]})};var Eu=e=>e.type==="checkbox",so=e=>e instanceof Date,Qn=e=>e==null;const Av=e=>typeof e=="object";var qt=e=>!Qn(e)&&!Array.isArray(e)&&Av(e)&&!so(e),Jb=e=>qt(e)&&e.target?Eu(e.target)?e.target.checked:e.target.value:e,e8=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,t8=(e,t)=>e.has(e8(t)),n8=e=>{const t=e.constructor&&e.constructor.prototype;return qt(t)&&t.hasOwnProperty("isPrototypeOf")},ng=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function en(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(ng&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(qt(e)&&n8(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=en(e[s]));return r}var jf=e=>/^\w*$/.test(e),Mt=e=>e===void 0,rg=e=>Array.isArray(e)?e.filter(Boolean):[],ig=e=>rg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ie=(e,t,n)=>{if(!t||!qt(e))return n;const r=(jf(t)?[t]:ig(t)).reduce((s,l)=>Qn(s)?s:s[l],e);return Mt(r)||r===e?Mt(e[t])?n:e[t]:r},ci=e=>typeof e=="boolean",$r=e=>typeof e=="function",It=(e,t,n)=>{let r=-1;const s=jf(t)?[t]:ig(t),l=s.length,d=l-1;for(;++r<l;){const g=s[r];let x=n;if(r!==d){const p=e[g];x=qt(p)||Array.isArray(p)?p:isNaN(+s[r+1])?{}:[]}if(g==="__proto__"||g==="constructor"||g==="prototype")return;e[g]=x,e=e[g]}};const o2={BLUR:"blur",FOCUS_OUT:"focusout"},Wr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ci={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},r8=Nn.createContext(null);r8.displayName="HookFormContext";var i8=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(s,l,{get:()=>{const d=l;return t._proxyFormState[d]!==Wr.all&&(t._proxyFormState[d]=!r||Wr.all),e[d]}});return s};const s8=typeof window<"u"?Nn.useLayoutEffect:Nn.useEffect;var ur=e=>typeof e=="string",o8=(e,t,n,r,s)=>ur(e)?(r&&t.watch.add(e),Ie(n,e,s)):Array.isArray(e)?e.map(l=>(r&&t.watch.add(l),Ie(n,l))):(r&&(t.watchAll=!0),n),T1=e=>Qn(e)||!Av(e);function as(e,t,n=new WeakSet){if(T1(e)||T1(t))return Object.is(e,t);if(so(e)&&so(t))return Object.is(e.getTime(),t.getTime());const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const l of r){const d=e[l];if(!s.includes(l))return!1;if(l!=="ref"){const g=t[l];if(so(d)&&so(g)||qt(d)&&qt(g)||Array.isArray(d)&&Array.isArray(g)?!as(d,g,n):!Object.is(d,g))return!1}}return!0}var a8=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Pl=e=>Array.isArray(e)?e:[e],a2=()=>{let e=[];return{get observers(){return e},next:s=>{for(const l of e)l.next&&l.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(l=>l!==s)}}),unsubscribe:()=>{e=[]}}};function _v(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],l=t[r];if(s&&qt(s)&&l){const d=_v(s,l);qt(d)&&(n[r]=d)}else e[r]&&(n[r]=l)}return n}var Pn=e=>qt(e)&&!Object.keys(e).length,sg=e=>e.type==="file",cf=e=>{if(!ng)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},bv=e=>e.type==="select-multiple",og=e=>e.type==="radio",l8=e=>og(e)||Eu(e),Kd=e=>cf(e)&&e.isConnected;function u8(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Mt(e)?r++:e[t[r++]];return e}function c8(e){for(const t in e)if(e.hasOwnProperty(t)&&!Mt(e[t]))return!1;return!0}function Yt(e,t){const n=Array.isArray(t)?t:jf(t)?[t]:ig(t),r=n.length===1?e:u8(e,n),s=n.length-1,l=n[s];return r&&delete r[l],s!==0&&(qt(r)&&Pn(r)||Array.isArray(r)&&c8(r))&&Yt(e,n.slice(0,-1)),e}var f8=e=>{for(const t in e)if($r(e[t]))return!0;return!1};function Iv(e){return Array.isArray(e)||qt(e)&&!f8(e)}function R1(e,t={}){for(const n in e){const r=e[n];Iv(r)?(t[n]=Array.isArray(r)?[]:{},R1(r,t[n])):Mt(r)||(t[n]=!0)}return t}function qo(e,t,n){n||(n=R1(t));for(const r in e){const s=e[r];if(Iv(s))Mt(t)||T1(n[r])?n[r]=R1(s,Array.isArray(s)?[]:{}):qo(s,Qn(t)?{}:t[r],n[r]);else{const l=t[r];n[r]=!as(s,l)}}return n}const l2={value:!1,isValid:!1},u2={value:!0,isValid:!0};var Nv=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Mt(e[0].attributes.value)?Mt(e[0].value)||e[0].value===""?u2:{value:e[0].value,isValid:!0}:u2:l2}return l2},Tv=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Mt(e)?e:t?e===""?NaN:e&&+e:n&&ur(e)?new Date(e):r?r(e):e;const c2={isValid:!1,value:null};var Rv=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,c2):c2;function f2(e){const t=e.ref;return sg(t)?t.files:og(t)?Rv(e.refs).value:bv(t)?[...t.selectedOptions].map(({value:n})=>n):Eu(t)?Nv(e.refs).value:Tv(Mt(t.value)?e.ref.value:t.value,e)}var d8=(e,t,n,r)=>{const s={};for(const l of e){const d=Ie(t,l);d&&It(s,l,d._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},ff=e=>e instanceof RegExp,pl=e=>Mt(e)?e:ff(e)?e.source:qt(e)?ff(e.value)?e.value.source:e.value:e,d2=e=>({isOnSubmit:!e||e===Wr.onSubmit,isOnBlur:e===Wr.onBlur,isOnChange:e===Wr.onChange,isOnAll:e===Wr.all,isOnTouch:e===Wr.onTouched});const h2="AsyncFunction";var h8=e=>!!e&&!!e.validate&&!!($r(e.validate)&&e.validate.constructor.name===h2||qt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===h2)),g8=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),g2=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ll=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const l=Ie(e,s);if(l){const{_f:d,...g}=l;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],s)&&!r)return!0;if(d.ref&&t(d.ref,d.name)&&!r)return!0;if(Ll(g,t))break}else if(qt(g)&&Ll(g,t))break}}};function p2(e,t,n){const r=Ie(e,n);if(r||jf(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const l=s.join("."),d=Ie(t,l),g=Ie(e,l);if(d&&!Array.isArray(d)&&n!==l)return{name:n};if(g&&g.type)return{name:l,error:g};if(g&&g.root&&g.root.type)return{name:`${l}.root`,error:g.root};s.pop()}return{name:n}}var p8=(e,t,n,r)=>{n(e);const{name:s,...l}=e;return Pn(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(d=>t[d]===(!r||Wr.all))},m8=(e,t,n)=>!e||!t||e===t||Pl(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),x8=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,y8=(e,t)=>!rg(Ie(e,t)).length&&Yt(e,t),w8=(e,t,n)=>{const r=Pl(Ie(e,n));return It(r,"root",t[n]),It(e,n,r),e};function m2(e,t,n="validate"){if(ur(e)||Array.isArray(e)&&e.every(ur)||ci(e)&&!e)return{type:n,message:ur(e)?e:"",ref:t}}var $o=e=>qt(e)&&!ff(e)?e:{value:e,message:""},x2=async(e,t,n,r,s,l)=>{const{ref:d,refs:g,required:x,maxLength:p,minLength:v,min:E,max:b,pattern:I,validate:N,name:O,valueAsNumber:P,mount:M}=e._f,_=Ie(n,O);if(!M||t.has(O))return{};const T=g?g[0]:d,k=re=>{s&&T.reportValidity&&(T.setCustomValidity(ci(re)?"":re||""),T.reportValidity())},H={},Q=og(d),V=Eu(d),te=Q||V,q=(P||sg(d))&&Mt(d.value)&&Mt(_)||cf(d)&&d.value===""||_===""||Array.isArray(_)&&!_.length,ie=a8.bind(null,O,r,H),ye=(re,ce,_e,W=Ci.maxLength,Oe=Ci.minLength)=>{const Y=re?ce:_e;H[O]={type:re?W:Oe,message:Y,ref:d,...ie(re?W:Oe,Y)}};if(l?!Array.isArray(_)||!_.length:x&&(!te&&(q||Qn(_))||ci(_)&&!_||V&&!Nv(g).isValid||Q&&!Rv(g).isValid)){const{value:re,message:ce}=ur(x)?{value:!!x,message:x}:$o(x);if(re&&(H[O]={type:Ci.required,message:ce,ref:T,...ie(Ci.required,ce)},!r))return k(ce),H}if(!q&&(!Qn(E)||!Qn(b))){let re,ce;const _e=$o(b),W=$o(E);if(!Qn(_)&&!isNaN(_)){const Oe=d.valueAsNumber||_&&+_;Qn(_e.value)||(re=Oe>_e.value),Qn(W.value)||(ce=Oe<W.value)}else{const Oe=d.valueAsDate||new Date(_),Y=pe=>new Date(new Date().toDateString()+" "+pe),ee=d.type=="time",de=d.type=="week";ur(_e.value)&&_&&(re=ee?Y(_)>Y(_e.value):de?_>_e.value:Oe>new Date(_e.value)),ur(W.value)&&_&&(ce=ee?Y(_)<Y(W.value):de?_<W.value:Oe<new Date(W.value))}if((re||ce)&&(ye(!!re,_e.message,W.message,Ci.max,Ci.min),!r))return k(H[O].message),H}if((p||v)&&!q&&(ur(_)||l&&Array.isArray(_))){const re=$o(p),ce=$o(v),_e=!Qn(re.value)&&_.length>+re.value,W=!Qn(ce.value)&&_.length<+ce.value;if((_e||W)&&(ye(_e,re.message,ce.message),!r))return k(H[O].message),H}if(I&&!q&&ur(_)){const{value:re,message:ce}=$o(I);if(ff(re)&&!_.match(re)&&(H[O]={type:Ci.pattern,message:ce,ref:d,...ie(Ci.pattern,ce)},!r))return k(ce),H}if(N){if($r(N)){const re=await N(_,n),ce=m2(re,T);if(ce&&(H[O]={...ce,...ie(Ci.validate,ce.message)},!r))return k(ce.message),H}else if(qt(N)){let re={};for(const ce in N){if(!Pn(re)&&!r)break;const _e=m2(await N[ce](_,n),T,ce);_e&&(re={..._e,...ie(ce,_e.message)},k(_e.message),r&&(H[O]=re))}if(!Pn(re)&&(H[O]={ref:T,...re},!r))return H}}return k(!0),H};const v8={mode:Wr.onSubmit,reValidateMode:Wr.onChange,shouldFocusError:!0};function E8(e={}){let t={...v8,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:$r(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=qt(t.defaultValues)||qt(t.values)?en(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:en(s),d={action:!1,mount:!1,watch:!1,keepIsValid:!1},g={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={...v};let b={...E};const I={array:a2(),state:a2()},N=t.criteriaMode===Wr.all,O=B=>X=>{clearTimeout(p),p=setTimeout(B,X)},P=async B=>{if(!d.keepIsValid&&!t.disabled&&(E.isValid||b.isValid||B)){let X;t.resolver?(X=Pn((await te()).errors),M()):X=await ie(r,!0),X!==n.isValid&&I.state.next({isValid:X})}},M=(B,X)=>{!t.disabled&&(E.isValidating||E.validatingFields||b.isValidating||b.validatingFields)&&((B||Array.from(g.mount)).forEach(ne=>{ne&&(X?It(n.validatingFields,ne,X):Yt(n.validatingFields,ne))}),I.state.next({validatingFields:n.validatingFields,isValidating:!Pn(n.validatingFields)}))},_=(B,X=[],ne,me,ge=!0,ae=!0)=>{if(me&&ne&&!t.disabled){if(d.action=!0,ae&&Array.isArray(Ie(r,B))){const Ne=ne(Ie(r,B),me.argA,me.argB);ge&&It(r,B,Ne)}if(ae&&Array.isArray(Ie(n.errors,B))){const Ne=ne(Ie(n.errors,B),me.argA,me.argB);ge&&It(n.errors,B,Ne),y8(n.errors,B)}if((E.touchedFields||b.touchedFields)&&ae&&Array.isArray(Ie(n.touchedFields,B))){const Ne=ne(Ie(n.touchedFields,B),me.argA,me.argB);ge&&It(n.touchedFields,B,Ne)}(E.dirtyFields||b.dirtyFields)&&(n.dirtyFields=qo(s,l)),I.state.next({name:B,isDirty:re(B,X),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else It(l,B,X)},T=(B,X)=>{It(n.errors,B,X),I.state.next({errors:n.errors})},k=B=>{n.errors=B,I.state.next({errors:n.errors,isValid:!1})},H=(B,X,ne,me)=>{const ge=Ie(r,B);if(ge){const ae=Ie(l,B,Mt(ne)?Ie(s,B):ne);Mt(ae)||me&&me.defaultChecked||X?It(l,B,X?ae:f2(ge._f)):W(B,ae),d.mount&&!d.action&&P()}},Q=(B,X,ne,me,ge)=>{let ae=!1,Ne=!1;const Xe={name:B};if(!t.disabled){if(!ne||me){(E.isDirty||b.isDirty)&&(Ne=n.isDirty,n.isDirty=Xe.isDirty=re(),ae=Ne!==Xe.isDirty);const je=as(Ie(s,B),X);Ne=!!Ie(n.dirtyFields,B),je?Yt(n.dirtyFields,B):It(n.dirtyFields,B,!0),Xe.dirtyFields=n.dirtyFields,ae=ae||(E.dirtyFields||b.dirtyFields)&&Ne!==!je}if(ne){const je=Ie(n.touchedFields,B);je||(It(n.touchedFields,B,ne),Xe.touchedFields=n.touchedFields,ae=ae||(E.touchedFields||b.touchedFields)&&je!==ne)}ae&&ge&&I.state.next(Xe)}return ae?Xe:{}},V=(B,X,ne,me)=>{const ge=Ie(n.errors,B),ae=(E.isValid||b.isValid)&&ci(X)&&n.isValid!==X;if(t.delayError&&ne?(x=O(()=>T(B,ne)),x(t.delayError)):(clearTimeout(p),x=null,ne?It(n.errors,B,ne):Yt(n.errors,B)),(ne?!as(ge,ne):ge)||!Pn(me)||ae){const Ne={...me,...ae&&ci(X)?{isValid:X}:{},errors:n.errors,name:B};n={...n,...Ne},I.state.next(Ne)}},te=async B=>(M(B,!0),await t.resolver(l,t.context,d8(B||g.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),q=async B=>{const{errors:X}=await te(B);if(M(B),B)for(const ne of B){const me=Ie(X,ne);me?It(n.errors,ne,me):Yt(n.errors,ne)}else n.errors=X;return X},ie=async(B,X,ne={valid:!0})=>{for(const me in B){const ge=B[me];if(ge){const{_f:ae,...Ne}=ge;if(ae){const Xe=g.array.has(ae.name),je=ge._f&&h8(ge._f);je&&E.validatingFields&&M([ae.name],!0);const on=await x2(ge,g.disabled,l,N,t.shouldUseNativeValidation&&!X,Xe);if(je&&E.validatingFields&&M([ae.name]),on[ae.name]&&(ne.valid=!1,X||e.shouldUseNativeValidation))break;!X&&(Ie(on,ae.name)?Xe?w8(n.errors,on,ae.name):It(n.errors,ae.name,on[ae.name]):Yt(n.errors,ae.name))}!Pn(Ne)&&await ie(Ne,X,ne)}}return ne.valid},ye=()=>{for(const B of g.unMount){const X=Ie(r,B);X&&(X._f.refs?X._f.refs.every(ne=>!Kd(ne)):!Kd(X._f.ref))&&st(B)}g.unMount=new Set},re=(B,X)=>!t.disabled&&(B&&X&&It(l,B,X),!as(Me(),s)),ce=(B,X,ne)=>o8(B,g,{...d.mount?l:Mt(X)?s:ur(B)?{[B]:X}:X},ne,X),_e=B=>rg(Ie(d.mount?l:s,B,t.shouldUnregister?Ie(s,B,[]):[])),W=(B,X,ne={})=>{const me=Ie(r,B);let ge=X;if(me){const ae=me._f;ae&&(!ae.disabled&&It(l,B,Tv(X,ae)),ge=cf(ae.ref)&&Qn(X)?"":X,bv(ae.ref)?[...ae.ref.options].forEach(Ne=>Ne.selected=ge.includes(Ne.value)):ae.refs?Eu(ae.ref)?ae.refs.forEach(Ne=>{(!Ne.defaultChecked||!Ne.disabled)&&(Array.isArray(ge)?Ne.checked=!!ge.find(Xe=>Xe===Ne.value):Ne.checked=ge===Ne.value||!!ge)}):ae.refs.forEach(Ne=>Ne.checked=Ne.value===ge):sg(ae.ref)?ae.ref.value="":(ae.ref.value=ge,ae.ref.type||I.state.next({name:B,values:en(l)})))}(ne.shouldDirty||ne.shouldTouch)&&Q(B,ge,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&pe(B)},Oe=(B,X,ne)=>{for(const me in X){if(!X.hasOwnProperty(me))return;const ge=X[me],ae=B+"."+me,Ne=Ie(r,ae);(g.array.has(B)||qt(ge)||Ne&&!Ne._f)&&!so(ge)?Oe(ae,ge,ne):W(ae,ge,ne)}},Y=(B,X,ne={})=>{const me=Ie(r,B),ge=g.array.has(B),ae=en(X);It(l,B,ae),ge?(I.array.next({name:B,values:en(l)}),(E.isDirty||E.dirtyFields||b.isDirty||b.dirtyFields)&&ne.shouldDirty&&I.state.next({name:B,dirtyFields:qo(s,l),isDirty:re(B,ae)})):me&&!me._f&&!Qn(ae)?Oe(B,ae,ne):W(B,ae,ne),g2(B,g)?I.state.next({...n,name:B,values:en(l)}):I.state.next({name:d.mount?B:void 0,values:en(l)})},ee=async B=>{d.mount=!0;const X=B.target;let ne=X.name,me=!0;const ge=Ie(r,ne),ae=je=>{me=Number.isNaN(je)||so(je)&&isNaN(je.getTime())||as(je,Ie(l,ne,je))},Ne=d2(t.mode),Xe=d2(t.reValidateMode);if(ge){let je,on;const wr=X.type?f2(ge._f):Jb(B),Jr=B.type===o2.BLUR||B.type===o2.FOCUS_OUT,jt=!g8(ge._f)&&!t.resolver&&!Ie(n.errors,ne)&&!ge._f.deps||x8(Jr,Ie(n.touchedFields,ne),n.isSubmitted,Xe,Ne),he=g2(ne,g,Jr);It(l,ne,wr),Jr?(!X||!X.readOnly)&&(ge._f.onBlur&&ge._f.onBlur(B),x&&x(0)):ge._f.onChange&&ge._f.onChange(B);const Tt=Q(ne,wr,Jr),ut=!Pn(Tt)||he;if(!Jr&&I.state.next({name:ne,type:B.type,values:en(l)}),jt)return(E.isValid||b.isValid)&&(t.mode==="onBlur"?Jr&&P():Jr||P()),ut&&I.state.next({name:ne,...he?{}:Tt});if(!Jr&&he&&I.state.next({...n}),t.resolver){const{errors:vt}=await te([ne]);if(M([ne]),ae(wr),me){const Hs=p2(n.errors,r,ne),ko=p2(vt,r,Hs.name||ne);je=ko.error,ne=ko.name,on=Pn(vt)}}else M([ne],!0),je=(await x2(ge,g.disabled,l,N,t.shouldUseNativeValidation))[ne],M([ne]),ae(wr),me&&(je?on=!1:(E.isValid||b.isValid)&&(on=await ie(r,!0)));me&&(ge._f.deps&&(!Array.isArray(ge._f.deps)||ge._f.deps.length>0)&&pe(ge._f.deps),V(ne,on,je,Tt))}},de=(B,X)=>{if(Ie(n.errors,X)&&B.focus)return B.focus(),1},pe=async(B,X={})=>{let ne,me;const ge=Pl(B);if(t.resolver){const ae=await q(Mt(B)?B:ge);ne=Pn(ae),me=B?!ge.some(Ne=>Ie(ae,Ne)):ne}else B?(me=(await Promise.all(ge.map(async ae=>{const Ne=Ie(r,ae);return await ie(Ne&&Ne._f?{[ae]:Ne}:Ne)}))).every(Boolean),!(!me&&!n.isValid)&&P()):me=ne=await ie(r);return I.state.next({...!ur(B)||(E.isValid||b.isValid)&&ne!==n.isValid?{}:{name:B},...t.resolver||!B?{isValid:ne}:{},errors:n.errors}),X.shouldFocus&&!me&&Ll(r,de,B?ge:g.mount),me},Me=(B,X)=>{let ne={...d.mount?l:s};return X&&(ne=_v(X.dirtyFields?n.dirtyFields:n.touchedFields,ne)),Mt(B)?ne:ur(B)?Ie(ne,B):B.map(me=>Ie(ne,me))},be=(B,X)=>({invalid:!!Ie((X||n).errors,B),isDirty:!!Ie((X||n).dirtyFields,B),error:Ie((X||n).errors,B),isValidating:!!Ie(n.validatingFields,B),isTouched:!!Ie((X||n).touchedFields,B)}),dt=B=>{B&&Pl(B).forEach(X=>Yt(n.errors,X)),I.state.next({errors:B?n.errors:{}})},Ee=(B,X,ne)=>{const me=(Ie(r,B,{_f:{}})._f||{}).ref,ge=Ie(n.errors,B)||{},{ref:ae,message:Ne,type:Xe,...je}=ge;It(n.errors,B,{...je,...X,ref:me}),I.state.next({name:B,errors:n.errors,isValid:!1}),ne&&ne.shouldFocus&&me&&me.focus&&me.focus()},Ke=(B,X)=>$r(B)?I.state.subscribe({next:ne=>"values"in ne&&B(ce(void 0,X),ne)}):ce(B,X,!0),we=B=>I.state.subscribe({next:X=>{m8(B.name,X.name,B.exact)&&p8(X,B.formState||E,$e,B.reRenderRoot)&&B.callback({values:{...l},...n,...X,defaultValues:s})}}).unsubscribe,Bt=B=>(d.mount=!0,b={...b,...B.formState},we({...B,formState:{...v,...B.formState}})),st=(B,X={})=>{for(const ne of B?Pl(B):g.mount)g.mount.delete(ne),g.array.delete(ne),X.keepValue||(Yt(r,ne),Yt(l,ne)),!X.keepError&&Yt(n.errors,ne),!X.keepDirty&&Yt(n.dirtyFields,ne),!X.keepTouched&&Yt(n.touchedFields,ne),!X.keepIsValidating&&Yt(n.validatingFields,ne),!t.shouldUnregister&&!X.keepDefaultValue&&Yt(s,ne);I.state.next({values:en(l)}),I.state.next({...n,...X.keepDirty?{isDirty:re()}:{}}),!X.keepIsValid&&P()},En=({disabled:B,name:X})=>{(ci(B)&&d.mount||B||g.disabled.has(X))&&(B?g.disabled.add(X):g.disabled.delete(X))},Ft=(B,X={})=>{let ne=Ie(r,B);const me=ci(X.disabled)||ci(t.disabled);return It(r,B,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:B}},name:B,mount:!0,...X}}),g.mount.add(B),ne?En({disabled:ci(X.disabled)?X.disabled:t.disabled,name:B}):H(B,!0,X.value),{...me?{disabled:X.disabled||t.disabled}:{},...t.progressive?{required:!!X.required,min:pl(X.min),max:pl(X.max),minLength:pl(X.minLength),maxLength:pl(X.maxLength),pattern:pl(X.pattern)}:{},name:B,onChange:ee,onBlur:ee,ref:ge=>{if(ge){Ft(B,X),ne=Ie(r,B);const ae=Mt(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,Ne=l8(ae),Xe=ne._f.refs||[];if(Ne?Xe.find(je=>je===ae):ae===ne._f.ref)return;It(r,B,{_f:{...ne._f,...Ne?{refs:[...Xe.filter(Kd),ae,...Array.isArray(Ie(s,B))?[{}]:[]],ref:{type:ae.type,name:B}}:{ref:ae}}}),H(B,!1,void 0,ae)}else ne=Ie(r,B,{}),ne._f&&(ne._f.mount=!1),(t.shouldUnregister||X.shouldUnregister)&&!(t8(g.array,B)&&d.action)&&g.unMount.add(B)}}},gt=()=>t.shouldFocusError&&Ll(r,de,g.mount),Qe=B=>{ci(B)&&(I.state.next({disabled:B}),Ll(r,(X,ne)=>{const me=Ie(r,ne);me&&(X.disabled=me._f.disabled||B,Array.isArray(me._f.refs)&&me._f.refs.forEach(ge=>{ge.disabled=me._f.disabled||B}))},0,!1))},xe=(B,X)=>async ne=>{let me;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let ge=en(l);if(I.state.next({isSubmitting:!0}),t.resolver){const{errors:ae,values:Ne}=await te();M(),n.errors=ae,ge=en(Ne)}else await ie(r);if(g.disabled.size)for(const ae of g.disabled)Yt(ge,ae);if(Yt(n.errors,"root"),Pn(n.errors)){I.state.next({errors:{}});try{await B(ge,ne)}catch(ae){me=ae}}else X&&await X({...n.errors},ne),gt(),setTimeout(gt);if(I.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(n.errors)&&!me,submitCount:n.submitCount+1,errors:n.errors}),me)throw me},wt=(B,X={})=>{Ie(r,B)&&(Mt(X.defaultValue)?Y(B,en(Ie(s,B))):(Y(B,X.defaultValue),It(s,B,en(X.defaultValue))),X.keepTouched||Yt(n.touchedFields,B),X.keepDirty||(Yt(n.dirtyFields,B),n.isDirty=X.defaultValue?re(B,en(Ie(s,B))):re()),X.keepError||(Yt(n.errors,B),E.isValid&&P()),I.state.next({...n}))},Ve=(B,X={})=>{const ne=B?en(B):s,me=en(ne),ge=Pn(B),ae=ge?s:me;if(X.keepDefaultValues||(s=ne),!X.keepValues){if(X.keepDirtyValues){const Ne=new Set([...g.mount,...Object.keys(qo(s,l))]);for(const Xe of Array.from(Ne)){const je=Ie(n.dirtyFields,Xe),on=Ie(l,Xe),wr=Ie(ae,Xe);je&&!Mt(on)?It(ae,Xe,on):!je&&!Mt(wr)&&Y(Xe,wr)}}else{if(ng&&Mt(B))for(const Ne of g.mount){const Xe=Ie(r,Ne);if(Xe&&Xe._f){const je=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(cf(je)){const on=je.closest("form");if(on){on.reset();break}}}}if(X.keepFieldsRef)for(const Ne of g.mount)Y(Ne,Ie(ae,Ne));else r={}}l=t.shouldUnregister?X.keepDefaultValues?en(s):{}:en(ae),I.array.next({values:{...ae}}),I.state.next({values:{...ae}})}g={mount:X.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!E.isValid||!!X.keepIsValid||!!X.keepDirtyValues||!t.shouldUnregister&&!Pn(ae),d.watch=!!t.shouldUnregister,d.keepIsValid=!!X.keepIsValid,d.action=!1,X.keepErrors||(n.errors={}),I.state.next({submitCount:X.keepSubmitCount?n.submitCount:0,isDirty:ge?!1:X.keepDirty?n.isDirty:!!(X.keepDefaultValues&&!as(B,s)),isSubmitted:X.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ge?{}:X.keepDirtyValues?X.keepDefaultValues&&l?qo(s,l):n.dirtyFields:X.keepDefaultValues&&B?qo(s,B):X.keepDirty?n.dirtyFields:{},touchedFields:X.keepTouched?n.touchedFields:{},errors:X.keepErrors?n.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},lt=(B,X)=>Ve($r(B)?B(l):B,{...t.resetOptions,...X}),qe=(B,X={})=>{const ne=Ie(r,B),me=ne&&ne._f;if(me){const ge=me.refs?me.refs[0]:me.ref;ge.focus&&setTimeout(()=>{ge.focus(),X.shouldSelect&&$r(ge.select)&&ge.select()})}},$e=B=>{n={...n,...B}},dn={control:{register:Ft,unregister:st,getFieldState:be,handleSubmit:xe,setError:Ee,_subscribe:we,_runSchema:te,_updateIsValidating:M,_focusError:gt,_getWatch:ce,_getDirty:re,_setValid:P,_setFieldArray:_,_setDisabledField:En,_setErrors:k,_getFieldArray:_e,_reset:Ve,_resetDefaultValues:()=>$r(t.defaultValues)&&t.defaultValues().then(B=>{lt(B,t.resetOptions),I.state.next({isLoading:!1})}),_removeUnmounted:ye,_disableForm:Qe,_subjects:I,_proxyFormState:E,get _fields(){return r},get _formValues(){return l},get _state(){return d},set _state(B){d=B},get _defaultValues(){return s},get _names(){return g},set _names(B){g=B},get _formState(){return n},get _options(){return t},set _options(B){t={...t,...B}}},subscribe:Bt,trigger:pe,register:Ft,handleSubmit:xe,watch:Ke,setValue:Y,getValues:Me,reset:lt,resetField:wt,clearErrors:dt,unregister:st,setError:Ee,setFocus:qe,getFieldState:be};return{...dn,formControl:dn}}function ag(e={}){const t=Nn.useRef(void 0),n=Nn.useRef(void 0),[r,s]=Nn.useState({isDirty:!1,isValidating:!1,isLoading:$r(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$r(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!$r(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...g}=E8(e);t.current={...g,formState:r}}const l=t.current.control;return l._options=e,s8(()=>{const d=l._subscribe({formState:l._proxyFormState,callback:()=>s({...l._formState}),reRenderRoot:!0});return s(g=>({...g,isReady:!0})),l._formState.isReady=!0,d},[l]),Nn.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),Nn.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),Nn.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),Nn.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),Nn.useEffect(()=>{if(l._proxyFormState.isDirty){const d=l._getDirty();d!==r.isDirty&&l._subjects.state.next({isDirty:d})}},[l,r.isDirty]),Nn.useEffect(()=>{var d;e.values&&!as(e.values,n.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((d=l._options.resetOptions)===null||d===void 0)&&d.keepIsValid||l._setValid(),n.current=e.values,s(g=>({...g}))):l._resetDefaultValues()},[l,e.values]),Nn.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=i8(r,l),t.current}function Ov(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ov(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rs(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ov(e))&&(r&&(r+=" "),r+=t);return r}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),y2=e=>{const t=S8(e);return t.charAt(0).toUpperCase()+t.slice(1)},Mv=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),A8=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:d,...g},x)=>z.createElement("svg",{ref:x,..._8,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Mv("lucide",s),...!l&&!A8(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,v])=>z.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=(e,t)=>{const n=z.forwardRef(({className:r,...s},l)=>z.createElement(b8,{ref:l,iconNode:t,className:Mv(`lucide-${C8(y2(e))}`,`lucide-${e}`,r),...s}));return n.displayName=y2(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],N8=Zt("arrow-right-left",I8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],R8=Zt("boxes",T8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],M8=Zt("chevron-down",O8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k8=Zt("chevron-right",D8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L8=Zt("circle-alert",P8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],F8=Zt("circle-check-big",B8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],U8=Zt("circle-plus",j8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],V8=Zt("clipboard-list",z8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],G8=Zt("key",H8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],W8=Zt("package",$8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Y8=Zt("pen-line",X8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],q8=Zt("pencil",Q8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dv=Zt("plus",Z8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],kv=Zt("printer",K8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Pv=Zt("scan",J8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lv=Zt("search",eI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nI=Zt("trash-2",tI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],iI=Zt("trash",rI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oI=Zt("wifi-off",sI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uf=Zt("x",aI),lI=({products:e,onSubmit:t,isLoading:n})=>{const{register:r,handleSubmit:s,formState:{errors:l},reset:d,setValue:g,watch:x}=ag(),[p,v]=z.useState(!1),[E,b]=z.useState({packSize:0,numPacks:0});x("quantity"),z.useEffect(()=>{if(p){const N=(Number(E.packSize)||0)*(Number(E.numPacks)||0);g("quantity",N)}},[p,E,g]);const I=async N=>{const O={...N,mrp:Number(N.mrp),costPrice:Number(N.costPrice),quantity:Number(N.quantity)};await t(O),d(),v(!1),b({packSize:0,numPacks:0})};return w.jsxs("form",{onSubmit:s(I),className:"space-y-4 bg-white p-6 rounded-lg shadow",children:[w.jsx("h2",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Add New Batch"}),w.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"productId",className:"block text-sm font-medium text-gray-700",children:"Product"}),w.jsxs("div",{className:"mt-1",children:[w.jsxs("select",{id:"productId",...r("productId",{required:"Product is required"}),className:rs("block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",l.productId&&"border-red-300"),children:[w.jsx("option",{value:"",children:"Select a product"}),e.map(N=>w.jsx("option",{value:N._id,children:N.name},N._id))]}),l.productId&&w.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.productId.message})]})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"batchNumber",className:"block text-sm font-medium text-gray-700",children:"Batch Number"}),w.jsxs("div",{className:"mt-1",children:[w.jsx("input",{type:"text",id:"batchNumber",...r("batchNumber",{required:"Batch Number is required"}),className:rs("block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",l.batchNumber&&"border-red-300")}),l.batchNumber&&w.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.batchNumber.message})]})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"expiryDate",className:"block text-sm font-medium text-gray-700",children:"Expiry Date"}),w.jsxs("div",{className:"mt-1",children:[w.jsx("input",{type:"date",id:"expiryDate",...r("expiryDate",{required:"Expiry Date is required"}),className:rs("block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",l.expiryDate&&"border-red-300")}),l.expiryDate&&w.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.expiryDate.message})]})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Total Quantity (Units)"}),w.jsxs("div",{className:"flex items-center mb-2 mt-1",children:[w.jsx("input",{type:"checkbox",id:"usePackCalc",className:"mr-2",checked:p,onChange:N=>v(N.target.checked)}),w.jsx("label",{htmlFor:"usePackCalc",className:"text-xs text-gray-500",children:"Calculate from Packs"})]}),p&&w.jsxs("div",{className:"flex space-x-2 mb-2",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("input",{type:"number",min:"0",placeholder:"Size",className:"w-full text-xs border rounded p-1",value:E.packSize||"",onChange:N=>b({...E,packSize:N.target.value})}),w.jsx("span",{className:"text-[10px] text-gray-400",children:"Units/Pack"})]}),w.jsxs("div",{className:"flex-1",children:[w.jsx("input",{type:"number",min:"0",placeholder:"Count",className:"w-full text-xs border rounded p-1",value:E.numPacks||"",onChange:N=>b({...E,numPacks:N.target.value})}),w.jsx("span",{className:"text-[10px] text-gray-400",children:"No. Packs"})]})]}),w.jsxs("div",{className:"mt-1",children:[w.jsx("input",{type:"number",id:"quantity",min:"0",readOnly:p,...r("quantity",{required:"Quantity is required",min:0}),className:rs("block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",l.quantity&&"border-red-300",p&&"bg-gray-100 cursor-not-allowed")}),l.quantity&&w.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.quantity.message})]})]}),w.jsxs("div",{className:"sm:col-span-1",children:[w.jsx("label",{htmlFor:"mrp",className:"block text-sm font-medium text-gray-700",children:"MRP (Per Unit)"}),w.jsxs("div",{className:"mt-1",children:[w.jsx("input",{type:"number",id:"mrp",step:"0.01",min:"0",...r("mrp",{required:"MRP is required",min:0}),className:rs("block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",l.mrp&&"border-red-300")}),l.mrp&&w.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.mrp.message})]})]}),w.jsxs("div",{className:"sm:col-span-1",children:[w.jsx("label",{htmlFor:"costPrice",className:"block text-sm font-medium text-gray-700",children:"Cost Price (Per Unit)"}),w.jsxs("div",{className:"mt-1",children:[w.jsx("input",{type:"number",id:"costPrice",step:"0.01",min:"0",...r("costPrice",{required:"Cost Price is required",min:0}),className:rs("block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",l.costPrice&&"border-red-300")}),l.costPrice&&w.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.costPrice.message})]})]})]}),w.jsx("div",{className:"flex justify-end",children:w.jsx("button",{type:"submit",disabled:n,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:n?"Processing...":w.jsxs(w.Fragment,{children:[w.jsx(Dv,{className:"w-4 h-4 mr-2"}),"Add Batch"]})})})]})};var Se;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Se||(Se={}));var w2=new Map([[Se.QR_CODE,"QR_CODE"],[Se.AZTEC,"AZTEC"],[Se.CODABAR,"CODABAR"],[Se.CODE_39,"CODE_39"],[Se.CODE_93,"CODE_93"],[Se.CODE_128,"CODE_128"],[Se.DATA_MATRIX,"DATA_MATRIX"],[Se.MAXICODE,"MAXICODE"],[Se.ITF,"ITF"],[Se.EAN_13,"EAN_13"],[Se.EAN_8,"EAN_8"],[Se.PDF_417,"PDF_417"],[Se.RSS_14,"RSS_14"],[Se.RSS_EXPANDED,"RSS_EXPANDED"],[Se.UPC_A,"UPC_A"],[Se.UPC_E,"UPC_E"],[Se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),v2;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(v2||(v2={}));function uI(e){return Object.values(Se).includes(e)}var ks;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ks||(ks={}));var Hr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ks.SCAN_TYPE_CAMERA,ks.SCAN_TYPE_FILE],e}(),Bv=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!w2.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,w2.get(t))},e}(),E2=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),O1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(O1||(O1={}));var Fv=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:O1.UNKWOWN_ERROR}},e}(),jv=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ui(e){return typeof e>"u"||e===null}function cI(e,t,n){return e>n?n:e<t?t:e}var ca=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),ct=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),C2=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Uv=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(s),d=Object.keys(t),g=0,x=d;g<x.length;g++){var p=x[g];if(l.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),M1={exports:{}};(function(e,t){(function(n,r){r(t)})(Qo,function(n){function r(S){return S==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,i){S.__proto__=i}||function(S,i){for(var o in i)i.hasOwnProperty(o)&&(S[o]=i[o])};function l(S,i){s(S,i);function o(){this.constructor=S}S.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function d(S,i){var o=Object.setPrototypeOf;o?o(S,i):S.__proto__=i}function g(S,i){i===void 0&&(i=S.constructor);var o=Error.captureStackTrace;o&&o(S,i)}var x=function(S){l(i,S);function i(o){var a=this.constructor,u=S.call(this,o)||this;return Object.defineProperty(u,"name",{value:a.name,enumerable:!1}),d(u,a.prototype),g(u),u}return i}(Error);class p extends x{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}p.kind="Exception";class v extends p{}v.kind="ArgumentException";class E extends p{}E.kind="IllegalArgumentException";class b{constructor(i){if(this.binarizer=i,i===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,a,u){const c=this.binarizer.getLuminanceSource().crop(i,o,a,u);return new b(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class I extends p{static getChecksumInstance(){return new I}}I.kind="ChecksumException";class N{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(i,o,a,u,c){for(;c--;)a[u++]=i[o++]}static currentTimeMillis(){return Date.now()}}class P extends p{}P.kind="IndexOutOfBoundsException";class M extends P{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}M.kind="ArrayIndexOutOfBoundsException";class _{static fill(i,o){for(let a=0,u=i.length;a<u;a++)i[a]=o}static fillWithin(i,o,a,u){_.rangeCheck(i.length,o,a);for(let c=o;c<a;c++)i[c]=u}static rangeCheck(i,o,a){if(o>a)throw new E("fromIndex("+o+") > toIndex("+a+")");if(o<0)throw new M(o);if(a>i)throw new M(a)}static asList(...i){return i}static create(i,o,a){return Array.from({length:i}).map(c=>Array.from({length:o}).fill(a))}static createInt32Array(i,o,a){return Array.from({length:i}).map(c=>Int32Array.from({length:o}).fill(a))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let a=0,u=i.length;a<u;a++)if(i[a]!==o[a])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const a of i)o=31*o+a;return o}static fillUint8Array(i,o){for(let a=0;a!==i.length;a++)i[a]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const a=new Uint8Array(o);return a.set(i),a}return i.slice(0,o)}static copyOfRange(i,o,a){const u=a-o,c=new Int32Array(u);return O.arraycopy(i,o,c,0,u),c}static binarySearch(i,o,a){a===void 0&&(a=_.numberComparator);let u=0,c=i.length-1;for(;u<=c;){const f=c+u>>1,h=a(o,i[f]);if(h>0)u=f+1;else if(h<0)c=f-1;else return f}return-u-1}static numberComparator(i,o){return i-o}}class T{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let a=31;return o=i<<16,o!==0&&(a-=16,i=o),o=i<<8,o!==0&&(a-=8,i=o),o=i<<4,o!==0&&(a-=4,i=o),o=i<<2,o!==0&&(a-=2,i=o),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=k.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=k.makeArray(i);O.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const a=this.bits;let u=Math.floor(i/32),c=a[u];c&=~((1<<(i&31))-1);const f=a.length;for(;c===0;){if(++u===f)return o;c=a[u]}const h=u*32+T.numberOfTrailingZeros(c);return h>o?o:h}getNextUnset(i){const o=this.size;if(i>=o)return o;const a=this.bits;let u=Math.floor(i/32),c=~a[u];c&=~((1<<(i&31))-1);const f=a.length;for(;c===0;){if(++u===f)return o;c=~a[u]}const h=u*32+T.numberOfTrailingZeros(c);return h>o?o:h}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new E;if(o===i)return;o--;const a=Math.floor(i/32),u=Math.floor(o/32),c=this.bits;for(let f=a;f<=u;f++){const h=f>a?0:i&31,y=(2<<(f<u?31:o&31))-(1<<h);c[f]|=y}}clear(){const i=this.bits.length,o=this.bits;for(let a=0;a<i;a++)o[a]=0}isRange(i,o,a){if(o<i||i<0||o>this.size)throw new E;if(o===i)return!0;o--;const u=Math.floor(i/32),c=Math.floor(o/32),f=this.bits;for(let h=u;h<=c;h++){const m=h>u?0:i&31,C=(2<<(h<c?31:o&31))-(1<<m)&4294967295;if((f[h]&C)!==(a?C:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let a=o;a>0;a--)this.appendBit((i>>a-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let a=0;a<o;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new E("Sizes don't match");const o=this.bits;for(let a=0,u=o.length;a<u;a++)o[a]^=i.bits[a]}toBytes(i,o,a,u){for(let c=0;c<u;c++){let f=0;for(let h=0;h<8;h++)this.get(i)&&(f|=1<<7-h),i++;o[a+c]=f}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),a=o+1,u=this.bits;for(let c=0;c<a;c++){let f=u[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,i[o-c]=f}if(this.size!==a*32){const c=a*32-this.size;let f=i[0]>>>c;for(let h=1;h<a;h++){const m=i[h];f|=m<<32-c,i[h-1]=f,f=m>>>c}i[a-1]=f}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof k))return!1;const o=i;return this.size===o.size&&_.equals(this.bits,o.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let i="";for(let o=0,a=this.size;o<a;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new k(this.size,this.bits.slice())}}var H;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(H||(H={}));var Q=H;class V extends p{static getFormatInstance(){return new V}}V.kind="FormatException";var te;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(te||(te={}));class q{constructor(i,o,a,...u){this.valueIdentifier=i,this.name=a,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=u,q.VALUE_IDENTIFIER_TO_ECI.set(i,this),q.NAME_TO_ECI.set(a,this);const c=this.values;for(let f=0,h=c.length;f!==h;f++){const m=c[f];q.VALUES_TO_ECI.set(m,this)}for(const f of u)q.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new V("incorect value");const o=q.VALUES_TO_ECI.get(i);if(o===void 0)throw new V("incorect value");return o}static getCharacterSetECIByName(i){const o=q.NAME_TO_ECI.get(i);if(o===void 0)throw new V("incorect value");return o}equals(i){if(!(i instanceof q))return!1;const o=i;return this.getName()===o.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(te.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(te.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(te.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(te.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(te.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(te.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(te.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(te.Big5,28,"Big5"),q.GB18030=new q(te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(te.EUC_KR,30,"EUC_KR","EUC-KR");class ie extends p{}ie.kind="UnsupportedOperationException";class ye{static decode(i,o){const a=this.encodingName(o);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!ye.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const a=this.encodingName(o);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof q?i:q.getCharacterSetECIByName(i)}static decodeFallback(i,o){const a=this.encodingCharacterSet(o);if(ye.isDecodeFallbackSupported(a)){let u="";for(let c=0,f=i.length;c<f;c++){let h=i[c].toString(16);h.length<2&&(h="0"+h),u+="%"+h}return decodeURIComponent(u)}if(a.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new ie(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(q.UTF8)||i.equals(q.ISO8859_1)||i.equals(q.ASCII)}static encodeFallback(i){const a=btoa(unescape(encodeURIComponent(i))).split(""),u=[];for(let c=0;c<a.length;c++)u.push(a[c].charCodeAt(0));return new Uint8Array(u)}}class re{static castAsNonUtf8Char(i,o=null){const a=o?o.getName():this.ISO88591;return ye.decode(new Uint8Array([i]),a)}static guessEncoding(i,o){if(o!=null&&o.get(Q.CHARACTER_SET)!==void 0)return o.get(Q.CHARACTER_SET).toString();const a=i.length;let u=!0,c=!0,f=!0,h=0,m=0,y=0,C=0,A=0,R=0,L=0,j=0,U=0,G=0,J=0;const ue=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let fe=0;fe<a&&(u||c||f);fe++){const oe=i[fe]&255;f&&(h>0?oe&128?h--:f=!1:oe&128&&(oe&64?(h++,oe&32?(h++,oe&16?(h++,oe&8?f=!1:C++):y++):m++):f=!1)),u&&(oe>127&&oe<160?u=!1:oe>159&&(oe<192||oe===215||oe===247)&&J++),c&&(A>0?oe<64||oe===127||oe>252?c=!1:A--:oe===128||oe===160||oe>239?c=!1:oe>160&&oe<224?(R++,j=0,L++,L>U&&(U=L)):oe>127?(A++,L=0,j++,j>G&&(G=j)):(L=0,j=0))}return f&&h>0&&(f=!1),c&&A>0&&(c=!1),f&&(ue||m+y+C>0)?re.UTF8:c&&(re.ASSUME_SHIFT_JIS||U>=3||G>=3)?re.SHIFT_JIS:u&&c?U===2&&R===2||J*10>=a?re.SHIFT_JIS:re.ISO88591:u?re.ISO88591:c?re.SHIFT_JIS:f?re.UTF8:re.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let a=-1;function u(f,h,m,y,C,A){if(f==="%%")return"%";if(o[++a]===void 0)return;f=y?parseInt(y.substr(1)):void 0;let R=C?parseInt(C.substr(1)):void 0,L;switch(A){case"s":L=o[a];break;case"c":L=o[a][0];break;case"f":L=parseFloat(o[a]).toFixed(f);break;case"p":L=parseFloat(o[a]).toPrecision(f);break;case"e":L=parseFloat(o[a]).toExponential(f);break;case"x":L=parseInt(o[a]).toString(R||16);break;case"d":L=parseFloat(parseInt(o[a],R||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(R);let j=parseInt(m),U=m&&m[0]+""=="0"?"0":" ";for(;L.length<j;)L=h!==void 0?L+U:U+L;return L}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(c,u)}static getBytes(i,o){return ye.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}re.SHIFT_JIS=q.SJIS.getName(),re.GB2312="GB2312",re.ISO88591=q.ISO8859_1.getName(),re.EUC_JP="EUC_JP",re.UTF8=q.UTF8.getName(),re.PLATFORM_DEFAULT_ENCODING=re.UTF8,re.ASSUME_SHIFT_JIS=!1;class ce{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=re.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,a){for(let u=o;o<o+a;u++)this.append(i[u]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class _e{constructor(i,o,a,u){if(this.width=i,this.height=o,this.rowSize=a,this.bits=u,o==null&&(o=i),this.height=o,i<1||o<1)throw new E("Both dimensions must be greater than 0");a==null&&(a=Math.floor((i+31)/32)),this.rowSize=a,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,a=i[0].length,u=new _e(a,o);for(let c=0;c<o;c++){const f=i[c];for(let h=0;h<a;h++)f[h]&&u.set(h,c)}return u}static parseFromString(i,o,a){if(i===null)throw new E("stringRepresentation cannot be null");const u=new Array(i.length);let c=0,f=0,h=-1,m=0,y=0;for(;y<i.length;)if(i.charAt(y)===`
`||i.charAt(y)==="\r"){if(c>f){if(h===-1)h=c-f;else if(c-f!==h)throw new E("row lengths do not match");f=c,m++}y++}else if(i.substring(y,y+o.length)===o)y+=o.length,u[c]=!0,c++;else if(i.substring(y,y+a.length)===a)y+=a.length,u[c]=!1,c++;else throw new E("illegal character encountered: "+i.substring(y));if(c>f){if(h===-1)h=c-f;else if(c-f!==h)throw new E("row lengths do not match");m++}const C=new _e(h,m);for(let A=0;A<c;A++)u[A]&&C.set(Math.floor(A%h),Math.floor(A/h));return C}get(i,o){const a=o*this.rowSize+Math.floor(i/32);return(this.bits[a]>>>(i&31)&1)!==0}set(i,o){const a=o*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(i&31)&4294967295}unset(i,o){const a=o*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(i&31)&4294967295)}flip(i,o){const a=o*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new E("input matrix dimensions do not match");const o=new k(Math.floor(this.width/32)+1),a=this.rowSize,u=this.bits;for(let c=0,f=this.height;c<f;c++){const h=c*a,m=i.getRow(c,o).getBitArray();for(let y=0;y<a;y++)u[h+y]^=m[y]}}clear(){const i=this.bits,o=i.length;for(let a=0;a<o;a++)i[a]=0}setRegion(i,o,a,u){if(o<0||i<0)throw new E("Left and top must be nonnegative");if(u<1||a<1)throw new E("Height and width must be at least 1");const c=i+a,f=o+u;if(f>this.height||c>this.width)throw new E("The region must fit inside the matrix");const h=this.rowSize,m=this.bits;for(let y=o;y<f;y++){const C=y*h;for(let A=i;A<c;A++)m[C+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new k(this.width):o.clear();const a=this.rowSize,u=this.bits,c=i*a;for(let f=0;f<a;f++)o.setBulk(f*32,u[c+f]);return o}setRow(i,o){O.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let a=new k(i),u=new k(i);for(let c=0,f=Math.floor((o+1)/2);c<f;c++)a=this.getRow(c,a),u=this.getRow(o-1-c,u),a.reverse(),u.reverse(),this.setRow(c,u),this.setRow(o-1-c,a)}getEnclosingRectangle(){const i=this.width,o=this.height,a=this.rowSize,u=this.bits;let c=i,f=o,h=-1,m=-1;for(let y=0;y<o;y++)for(let C=0;C<a;C++){const A=u[y*a+C];if(A!==0){if(y<f&&(f=y),y>m&&(m=y),C*32<c){let R=0;for(;!(A<<31-R&4294967295);)R++;C*32+R<c&&(c=C*32+R)}if(C*32+31>h){let R=31;for(;!(A>>>R);)R--;C*32+R>h&&(h=C*32+R)}}}return h<c||m<f?null:Int32Array.from([c,f,h-c+1,m-f+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let a=0;for(;a<o.length&&o[a]===0;)a++;if(a===o.length)return null;const u=a/i;let c=a%i*32;const f=o[a];let h=0;for(;!(f<<31-h&4294967295);)h++;return c+=h,Int32Array.from([c,u])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let a=o.length-1;for(;a>=0&&o[a]===0;)a--;if(a<0)return null;const u=Math.floor(a/i);let c=Math.floor(a%i)*32;const f=o[a];let h=31;for(;!(f>>>h);)h--;return c+=h,Int32Array.from([c,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof _e))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&_.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+_.hashCode(this.bits),i}toString(i="X ",o="  ",a=`
`){return this.buildToString(i,o,a)}buildToString(i,o,a){let u=new ce;for(let c=0,f=this.height;c<f;c++){for(let h=0,m=this.width;h<m;h++)u.append(this.get(h,c)?i:o);u.append(a)}return u.toString()}clone(){return new _e(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends p{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class Oe extends N{constructor(i){super(i),this.luminances=Oe.EMPTY,this.buckets=new Int32Array(Oe.LUMINANCE_BUCKETS)}getBlackRow(i,o){const a=this.getLuminanceSource(),u=a.getWidth();o==null||o.getSize()<u?o=new k(u):o.clear(),this.initArrays(u);const c=a.getRow(i,this.luminances),f=this.buckets;for(let m=0;m<u;m++)f[(c[m]&255)>>Oe.LUMINANCE_SHIFT]++;const h=Oe.estimateBlackPoint(f);if(u<3)for(let m=0;m<u;m++)(c[m]&255)<h&&o.set(m);else{let m=c[0]&255,y=c[1]&255;for(let C=1;C<u-1;C++){const A=c[C+1]&255;(y*4-m-A)/2<h&&o.set(C),m=y,y=A}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),a=i.getHeight(),u=new _e(o,a);this.initArrays(o);const c=this.buckets;for(let m=1;m<5;m++){const y=Math.floor(a*m/5),C=i.getRow(y,this.luminances),A=Math.floor(o*4/5);for(let R=Math.floor(o/5);R<A;R++){const L=C[R]&255;c[L>>Oe.LUMINANCE_SHIFT]++}}const f=Oe.estimateBlackPoint(c),h=i.getMatrix();for(let m=0;m<a;m++){const y=m*o;for(let C=0;C<o;C++)(h[y+C]&255)<f&&u.set(C,m)}return u}createBinarizer(i){return new Oe(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let a=0;a<Oe.LUMINANCE_BUCKETS;a++)o[a]=0}static estimateBlackPoint(i){const o=i.length;let a=0,u=0,c=0;for(let C=0;C<o;C++)i[C]>c&&(u=C,c=i[C]),i[C]>a&&(a=i[C]);let f=0,h=0;for(let C=0;C<o;C++){const A=C-u,R=i[C]*A*A;R>h&&(f=C,h=R)}if(u>f){const C=u;u=f,f=C}if(f-u<=o/16)throw new W;let m=f-1,y=-1;for(let C=f-1;C>u;C--){const A=C-u,R=A*A*(f-C)*(a-i[C]);R>y&&(m=C,y=R)}return m<<Oe.LUMINANCE_SHIFT}}Oe.LUMINANCE_BITS=5,Oe.LUMINANCE_SHIFT=8-Oe.LUMINANCE_BITS,Oe.LUMINANCE_BUCKETS=1<<Oe.LUMINANCE_BITS,Oe.EMPTY=Uint8ClampedArray.from([0]);class Y extends Oe{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),a=i.getHeight();if(o>=Y.MINIMUM_DIMENSION&&a>=Y.MINIMUM_DIMENSION){const u=i.getMatrix();let c=o>>Y.BLOCK_SIZE_POWER;o&Y.BLOCK_SIZE_MASK&&c++;let f=a>>Y.BLOCK_SIZE_POWER;a&Y.BLOCK_SIZE_MASK&&f++;const h=Y.calculateBlackPoints(u,c,f,o,a),m=new _e(o,a);Y.calculateThresholdForBlock(u,c,f,o,a,h,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Y(i)}static calculateThresholdForBlock(i,o,a,u,c,f,h){const m=c-Y.BLOCK_SIZE,y=u-Y.BLOCK_SIZE;for(let C=0;C<a;C++){let A=C<<Y.BLOCK_SIZE_POWER;A>m&&(A=m);const R=Y.cap(C,2,a-3);for(let L=0;L<o;L++){let j=L<<Y.BLOCK_SIZE_POWER;j>y&&(j=y);const U=Y.cap(L,2,o-3);let G=0;for(let ue=-2;ue<=2;ue++){const fe=f[R+ue];G+=fe[U-2]+fe[U-1]+fe[U]+fe[U+1]+fe[U+2]}const J=G/25;Y.thresholdBlock(i,j,A,J,u,h)}}}static cap(i,o,a){return i<o?o:i>a?a:i}static thresholdBlock(i,o,a,u,c,f){for(let h=0,m=a*c+o;h<Y.BLOCK_SIZE;h++,m+=c)for(let y=0;y<Y.BLOCK_SIZE;y++)(i[m+y]&255)<=u&&f.set(o+y,a+h)}static calculateBlackPoints(i,o,a,u,c){const f=c-Y.BLOCK_SIZE,h=u-Y.BLOCK_SIZE,m=new Array(a);for(let y=0;y<a;y++){m[y]=new Int32Array(o);let C=y<<Y.BLOCK_SIZE_POWER;C>f&&(C=f);for(let A=0;A<o;A++){let R=A<<Y.BLOCK_SIZE_POWER;R>h&&(R=h);let L=0,j=255,U=0;for(let J=0,ue=C*u+R;J<Y.BLOCK_SIZE;J++,ue+=u){for(let fe=0;fe<Y.BLOCK_SIZE;fe++){const oe=i[ue+fe]&255;L+=oe,oe<j&&(j=oe),oe>U&&(U=oe)}if(U-j>Y.MIN_DYNAMIC_RANGE)for(J++,ue+=u;J<Y.BLOCK_SIZE;J++,ue+=u)for(let fe=0;fe<Y.BLOCK_SIZE;fe++)L+=i[ue+fe]&255}let G=L>>Y.BLOCK_SIZE_POWER*2;if(U-j<=Y.MIN_DYNAMIC_RANGE&&(G=j/2,y>0&&A>0)){const J=(m[y-1][A]+2*m[y][A-1]+m[y-1][A-1])/4;j<J&&(G=J)}m[y][A]=G}}return m}}Y.BLOCK_SIZE_POWER=3,Y.BLOCK_SIZE=1<<Y.BLOCK_SIZE_POWER,Y.BLOCK_SIZE_MASK=Y.BLOCK_SIZE-1,Y.MINIMUM_DIMENSION=Y.BLOCK_SIZE*5,Y.MIN_DYNAMIC_RANGE=24;class ee{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,a,u){throw new ie("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ie("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ie("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ce;for(let a=0;a<this.height;a++){const u=this.getRow(a,i);for(let c=0;c<this.width;c++){const f=u[c]&255;let h;f<64?h="#":f<128?h="+":f<192?h=".":h=" ",o.append(h)}o.append(`
`)}return o.toString()}}class de extends ee{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const a=this.delegate.getRow(i,o),u=this.getWidth();for(let c=0;c<u;c++)a[c]=255-(a[c]&255);return a}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(o);for(let u=0;u<o;u++)a[u]=255-(i[u]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,a,u){return new de(this.delegate.crop(i,o,a,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class pe extends ee{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return pe.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,a){const u=new Uint8ClampedArray(o*a);for(let c=0,f=0,h=i.length;c<h;c+=4,f++){let m;if(i[c+3]===0)m=255;else{const C=i[c],A=i[c+1],R=i[c+2];m=306*C+601*A+117*R+512>>10}u[f]=m}return u}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const a=this.getWidth(),u=i*a;return o===null?o=this.buffer.slice(u,u+a):(o.length<a&&(o=new Uint8ClampedArray(a)),o.set(this.buffer.slice(u,u+a))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,a,u){return super.crop(i,o,a,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),a=o.getContext("2d"),u=i*pe.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(u))*c+Math.abs(Math.sin(u))*f),m=Math.ceil(Math.abs(Math.sin(u))*c+Math.abs(Math.cos(u))*f);return o.width=h,o.height=m,a.translate(h/2,m/2),a.rotate(u),a.drawImage(this.canvas,c/-2,f/-2),this.buffer=pe.makeBufferFromCanvasImageData(o),this}invert(){return new de(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Me{constructor(i,o,a){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var be=(globalThis||Qo||self||window||void 0)&&(globalThis||Qo||self||window||void 0).__awaiter||function(S,i,o,a){function u(c){return c instanceof o?c:new o(function(f){f(c)})}return new(o||(o=Promise))(function(c,f){function h(C){try{y(a.next(C))}catch(A){f(A)}}function m(C){try{y(a.throw(C))}catch(A){f(A)}}function y(C){C.done?c(C.value):u(C.value).then(h,m)}y((a=a.apply(S,i||[])).next())})};class dt{constructor(i,o=500,a){this.reader=i,this.timeBetweenScansMillis=o,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const a of i){const u=a.kind==="video"?"videoinput":a.kind;if(u!=="videoinput")continue;const c=a.deviceId||a.id,f=a.label||`Video device ${o.length+1}`,h=a.groupId,m={deviceId:c,label:f,kind:u,groupId:h};o.push(m)}return o})}getVideoInputDevices(){return be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Me(o.deviceId,o.label))})}findDeviceById(i){return be(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return be(this,void 0,void 0,function*(){this.reset();let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};const u={video:a};return yield this.decodeOnceFromConstraints(u,o)})}decodeOnceFromConstraints(i,o){return be(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,o)})}decodeOnceFromStream(i,o){return be(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,o,a){return be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,a)})}decodeFromVideoDevice(i,o,a){return be(this,void 0,void 0,function*(){let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const c={video:u};return yield this.decodeFromConstraints(c,o,a)})}decodeFromConstraints(i,o,a){return be(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(u,o,a)})}decodeFromStream(i,o,a){return be(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(u,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return be(this,void 0,void 0,function*(){const a=this.prepareVideoElement(o);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((o,a)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return be(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const a=document.getElementById(i);if(!a)throw new v(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==o.toLowerCase())throw new v(`element with id '${i}' must be an ${o} element`);return a}decodeFromImage(i,o){if(!i&&!o)throw new v("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new v("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,a){if(i===void 0&&o===void 0)throw new v("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new v("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let a;return this.isImageLoaded(o)?a=this.decodeOnce(o,!1,!0):a=this._decodeOnLoadImage(o),a}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,o)}_decodeFromVideoElementSetup(i){if(!i)throw new v("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new v("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const a=this._decodeOnLoadImage(o);return o.src=i,a}decodeFromVideoUrl(i){if(!i)throw new v("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElement(o);return o.src=i,a}decodeFromVideoUrlContinuously(i,o){if(!i)throw new v("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(a,o);return a.src=i,u}_decodeOnLoadImage(i){return new Promise((o,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,a=!0){this._stopAsyncDecode=!1;const u=(c,f)=>{if(this._stopAsyncDecode){f(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(i);c(h)}catch(h){const m=o&&h instanceof W,C=(h instanceof I||h instanceof V)&&a;if(m||C)return setTimeout(u,this._timeBetweenDecodingAttempts,c,f);f(h)}};return new Promise((c,f)=>u(c,f))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(i);o(u,null),setTimeout(a,this.timeBetweenScansMillis)}catch(u){o(null,u);const c=u instanceof I||u instanceof V,f=u instanceof W;(c||f)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,a){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,a=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),a=new pe(o),u=new Y(a);return new b(u)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let a,u;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,u=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,u=i.naturalHeight||i.height)),o.style.width=a+"px",o.style.height=u+"px",o.width=a,o.height=u,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Ee{constructor(i,o,a=o==null?0:8*o.length,u,c,f=O.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=a,this.resultPoints=u,this.format=c,this.timestamp=f,this.text=i,this.rawBytes=o,a==null?this.numBits=o==null?0:8*o.length:this.numBits=a,this.resultPoints=u,this.format=c,this.resultMetadata=null,f==null?this.timestamp=O.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const a=new Array(o.length+i.length);O.arraycopy(o,0,a,0,o.length),O.arraycopy(i,0,a,o.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ke;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ke||(Ke={}));var we=Ke,Bt;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Bt||(Bt={}));var st=Bt;class En{constructor(i,o,a,u,c=-1,f=-1){this.rawBytes=i,this.text=o,this.byteSegments=a,this.ecLevel=u,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ft{exp(i){return this.expTable[i]}log(i){if(i===0)throw new E;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class gt{constructor(i,o){if(o.length===0)throw new E;this.field=i;const a=o.length;if(a>1&&o[0]===0){let u=1;for(;u<a&&o[u]===0;)u++;u===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-u),O.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let a;if(i===1){a=0;for(let f=0,h=o.length;f!==h;f++){const m=o[f];a=Ft.addOrSubtract(a,m)}return a}a=o[0];const u=o.length,c=this.field;for(let f=1;f<u;f++)a=Ft.addOrSubtract(c.multiply(i,a),o[f]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,a=i.coefficients;if(o.length>a.length){const f=o;o=a,a=f}let u=new Int32Array(a.length);const c=a.length-o.length;O.arraycopy(a,0,u,0,c);for(let f=c;f<a.length;f++)u[f]=Ft.addOrSubtract(o[f-c],a[f]);return new gt(this.field,u)}multiply(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,a=o.length,u=i.coefficients,c=u.length,f=new Int32Array(a+c-1),h=this.field;for(let m=0;m<a;m++){const y=o[m];for(let C=0;C<c;C++)f[m+C]=Ft.addOrSubtract(f[m+C],h.multiply(y,u[C]))}return new gt(h,f)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,a=this.field,u=new Int32Array(o),c=this.coefficients;for(let f=0;f<o;f++)u[f]=a.multiply(c[f],i);return new gt(a,u)}multiplyByMonomial(i,o){if(i<0)throw new E;if(o===0)return this.field.getZero();const a=this.coefficients,u=a.length,c=new Int32Array(u+i),f=this.field;for(let h=0;h<u;h++)c[h]=f.multiply(a[h],o);return new gt(f,c)}divide(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new E("Divide by 0");const o=this.field;let a=o.getZero(),u=this;const c=i.getCoefficient(i.getDegree()),f=o.inverse(c);for(;u.getDegree()>=i.getDegree()&&!u.isZero();){const h=u.getDegree()-i.getDegree(),m=o.multiply(u.getCoefficient(u.getDegree()),f),y=i.multiplyByMonomial(h,m),C=o.buildMonomial(h,m);a=a.addOrSubtract(C),u=u.addOrSubtract(y)}return[a,u]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let a=this.getCoefficient(o);if(a!==0){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),o===0||a!==1){const u=this.field.log(a);u===0?i+="1":u===1?i+="a":(i+="a^",i+=u)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class Qe extends p{}Qe.kind="ArithmeticException";class xe extends Ft{constructor(i,o,a){super(),this.primitive=i,this.size=o,this.generatorBase=a;const u=new Int32Array(o);let c=1;for(let h=0;h<o;h++)u[h]=c,c*=2,c>=o&&(c^=i,c&=o-1);this.expTable=u;const f=new Int32Array(o);for(let h=0;h<o-1;h++)f[u[h]]=h;this.logTable=f,this.zero=new gt(this,Int32Array.from([0])),this.one=new gt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new E;if(o===0)return this.zero;const a=new Int32Array(i+1);return a[0]=o,new gt(this,a)}inverse(i){if(i===0)throw new Qe;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}xe.AZTEC_DATA_12=new xe(4201,4096,1),xe.AZTEC_DATA_10=new xe(1033,1024,1),xe.AZTEC_DATA_6=new xe(67,64,1),xe.AZTEC_PARAM=new xe(19,16,1),xe.QR_CODE_FIELD_256=new xe(285,256,0),xe.DATA_MATRIX_FIELD_256=new xe(301,256,1),xe.AZTEC_DATA_8=xe.DATA_MATRIX_FIELD_256,xe.MAXICODE_FIELD_64=xe.AZTEC_DATA_6;class wt extends p{}wt.kind="ReedSolomonException";class Ve extends p{}Ve.kind="IllegalStateException";class lt{constructor(i){this.field=i}decode(i,o){const a=this.field,u=new gt(a,i),c=new Int32Array(o);let f=!0;for(let L=0;L<o;L++){const j=u.evaluateAt(a.exp(L+a.getGeneratorBase()));c[c.length-1-L]=j,j!==0&&(f=!1)}if(f)return;const h=new gt(a,c),m=this.runEuclideanAlgorithm(a.buildMonomial(o,1),h,o),y=m[0],C=m[1],A=this.findErrorLocations(y),R=this.findErrorMagnitudes(C,A);for(let L=0;L<A.length;L++){const j=i.length-1-a.log(A[L]);if(j<0)throw new wt("Bad error location");i[j]=xe.addOrSubtract(i[j],R[L])}}runEuclideanAlgorithm(i,o,a){if(i.getDegree()<o.getDegree()){const L=i;i=o,o=L}const u=this.field;let c=i,f=o,h=u.getZero(),m=u.getOne();for(;f.getDegree()>=(a/2|0);){let L=c,j=h;if(c=f,h=m,c.isZero())throw new wt("r_{i-1} was zero");f=L;let U=u.getZero();const G=c.getCoefficient(c.getDegree()),J=u.inverse(G);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const ue=f.getDegree()-c.getDegree(),fe=u.multiply(f.getCoefficient(f.getDegree()),J);U=U.addOrSubtract(u.buildMonomial(ue,fe)),f=f.addOrSubtract(c.multiplyByMonomial(ue,fe))}if(m=U.multiply(h).addOrSubtract(j),f.getDegree()>=c.getDegree())throw new Ve("Division algorithm failed to reduce polynomial?")}const y=m.getCoefficient(0);if(y===0)throw new wt("sigmaTilde(0) was zero");const C=u.inverse(y),A=m.multiplyScalar(C),R=f.multiplyScalar(C);return[A,R]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const a=new Int32Array(o);let u=0;const c=this.field;for(let f=1;f<c.getSize()&&u<o;f++)i.evaluateAt(f)===0&&(a[u]=c.inverse(f),u++);if(u!==o)throw new wt("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,o){const a=o.length,u=new Int32Array(a),c=this.field;for(let f=0;f<a;f++){const h=c.inverse(o[f]);let m=1;for(let y=0;y<a;y++)if(f!==y){const C=c.multiply(o[y],h),A=C&1?C&-2:C|1;m=c.multiply(m,A)}u[f]=c.multiply(i.evaluateAt(h),c.inverse(m)),c.getGeneratorBase()!==0&&(u[f]=c.multiply(u[f],h))}return u}}var qe;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(qe||(qe={}));class $e{decode(i){this.ddata=i;let o=i.getBits(),a=this.extractBits(o),u=this.correctBits(a),c=$e.convertBoolArrayToByteArray(u),f=$e.getEncodedData(u),h=new En(c,f,null,null);return h.setNumBits(u.length),h}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,a=qe.UPPER,u=qe.UPPER,c="",f=0;for(;f<o;)if(u===qe.BINARY){if(o-f<5)break;let h=$e.readCode(i,f,5);if(f+=5,h===0){if(o-f<11)break;h=$e.readCode(i,f,11)+31,f+=11}for(let m=0;m<h;m++){if(o-f<8){f=o;break}const y=$e.readCode(i,f,8);c+=re.castAsNonUtf8Char(y),f+=8}u=a}else{let h=u===qe.DIGIT?4:5;if(o-f<h)break;let m=$e.readCode(i,f,h);f+=h;let y=$e.getCharacter(u,m);y.startsWith("CTRL_")?(a=u,u=$e.getTable(y.charAt(5)),y.charAt(6)==="L"&&(a=u)):(c+=y,u=a)}return c}static getTable(i){switch(i){case"L":return qe.LOWER;case"P":return qe.PUNCT;case"M":return qe.MIXED;case"D":return qe.DIGIT;case"B":return qe.BINARY;case"U":default:return qe.UPPER}}static getCharacter(i,o){switch(i){case qe.UPPER:return $e.UPPER_TABLE[o];case qe.LOWER:return $e.LOWER_TABLE[o];case qe.MIXED:return $e.MIXED_TABLE[o];case qe.PUNCT:return $e.PUNCT_TABLE[o];case qe.DIGIT:return $e.DIGIT_TABLE[o];default:throw new Ve("Bad table")}}correctBits(i){let o,a;this.ddata.getNbLayers()<=2?(a=6,o=xe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,o=xe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,o=xe.AZTEC_DATA_10):(a=12,o=xe.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),c=i.length/a;if(c<u)throw new V;let f=i.length%a,h=new Int32Array(c);for(let R=0;R<c;R++,f+=a)h[R]=$e.readCode(i,f,a);try{new lt(o).decode(h,c-u)}catch(R){throw new V(R)}let m=(1<<a)-1,y=0;for(let R=0;R<u;R++){let L=h[R];if(L===0||L===m)throw new V;(L===1||L===m-1)&&y++}let C=new Array(u*a-y),A=0;for(let R=0;R<u;R++){let L=h[R];if(L===1||L===m-1)C.fill(L>1,A,A+a-1),A+=a-1;else for(let j=a-1;j>=0;--j)C[A++]=(L&1<<j)!==0}return C}extractBits(i){let o=this.ddata.isCompact(),a=this.ddata.getNbLayers(),u=(o?11:14)+a*4,c=new Int32Array(u),f=new Array(this.totalBitsInLayer(a,o));if(o)for(let h=0;h<c.length;h++)c[h]=h;else{let h=u+1+2*T.truncDivision(T.truncDivision(u,2)-1,15),m=u/2,y=T.truncDivision(h,2);for(let C=0;C<m;C++){let A=C+T.truncDivision(C,15);c[m-C-1]=y-A-1,c[m+C]=y+A+1}}for(let h=0,m=0;h<a;h++){let y=(a-h)*4+(o?9:12),C=h*2,A=u-1-C;for(let R=0;R<y;R++){let L=R*2;for(let j=0;j<2;j++)f[m+L+j]=i.get(c[C+j],c[C+R]),f[m+2*y+L+j]=i.get(c[C+R],c[A-j]),f[m+4*y+L+j]=i.get(c[A-j],c[A-R]),f[m+6*y+L+j]=i.get(c[A-R],c[C+j])}m+=y*8}return f}static readCode(i,o,a){let u=0;for(let c=o;c<o+a;c++)u<<=1,i[c]&&(u|=1);return u}static readByte(i,o){let a=i.length-o;return a>=8?$e.readCode(i,o,8):$e.readCode(i,o,a)<<8-a}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let a=0;a<o.length;a++)o[a]=$e.readByte(i,8*a);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}$e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],$e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],$e.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],$e.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],$e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Fe{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,a,u){const c=i-a,f=o-u;return Math.sqrt(c*c+f*f)}static sum(i){let o=0;for(let a=0,u=i.length;a!==u;a++){const c=i[a];o+=c}return o}}class dn{static floatToIntBits(i){return i}}dn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof B){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*dn.floatToIntBits(this.x)+dn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),u=this.distance(i[0],i[2]);let c,f,h;if(a>=o&&a>=u?(f=i[0],c=i[1],h=i[2]):u>=a&&u>=o?(f=i[1],c=i[0],h=i[2]):(f=i[2],c=i[0],h=i[1]),this.crossProductZ(c,f,h)<0){const m=c;c=h,h=m}i[0]=c,i[1]=f,i[2]=h}static distance(i,o){return Fe.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,a){const u=o.x,c=o.y;return(a.x-u)*(i.y-c)-(a.y-c)*(i.x-u)}}class X{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class ne extends X{constructor(i,o,a,u,c){super(i,o),this.compact=a,this.nbDatablocks=u,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class me{constructor(i,o,a,u){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=me.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),u==null&&(u=i.getHeight()/2|0);const c=o/2|0;if(this.leftInit=a-c,this.rightInit=a+c,this.upInit=u-c,this.downInit=u+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let i=this.leftInit,o=this.rightInit,a=this.upInit,u=this.downInit,c=!1,f=!0,h=!1,m=!1,y=!1,C=!1,A=!1;const R=this.width,L=this.height;for(;f;){f=!1;let j=!0;for(;(j||!m)&&o<R;)j=this.containsBlackPoint(a,u,o,!1),j?(o++,f=!0,m=!0):m||o++;if(o>=R){c=!0;break}let U=!0;for(;(U||!y)&&u<L;)U=this.containsBlackPoint(i,o,u,!0),U?(u++,f=!0,y=!0):y||u++;if(u>=L){c=!0;break}let G=!0;for(;(G||!C)&&i>=0;)G=this.containsBlackPoint(a,u,i,!1),G?(i--,f=!0,C=!0):C||i--;if(i<0){c=!0;break}let J=!0;for(;(J||!A)&&a>=0;)J=this.containsBlackPoint(i,o,a,!0),J?(a--,f=!0,A=!0):A||a--;if(a<0){c=!0;break}f&&(h=!0)}if(!c&&h){const j=o-i;let U=null;for(let fe=1;U===null&&fe<j;fe++)U=this.getBlackPointOnSegment(i,u-fe,i+fe,u);if(U==null)throw new W;let G=null;for(let fe=1;G===null&&fe<j;fe++)G=this.getBlackPointOnSegment(i,a+fe,i+fe,a);if(G==null)throw new W;let J=null;for(let fe=1;J===null&&fe<j;fe++)J=this.getBlackPointOnSegment(o,a+fe,o-fe,a);if(J==null)throw new W;let ue=null;for(let fe=1;ue===null&&fe<j;fe++)ue=this.getBlackPointOnSegment(o,u-fe,o-fe,u);if(ue==null)throw new W;return this.centerEdges(ue,U,J,G)}else throw new W}getBlackPointOnSegment(i,o,a,u){const c=Fe.round(Fe.distance(i,o,a,u)),f=(a-i)/c,h=(u-o)/c,m=this.image;for(let y=0;y<c;y++){const C=Fe.round(i+y*f),A=Fe.round(o+y*h);if(m.get(C,A))return new B(C,A)}return null}centerEdges(i,o,a,u){const c=i.getX(),f=i.getY(),h=o.getX(),m=o.getY(),y=a.getX(),C=a.getY(),A=u.getX(),R=u.getY(),L=me.CORR;return c<this.width/2?[new B(A-L,R+L),new B(h+L,m+L),new B(y-L,C-L),new B(c+L,f-L)]:[new B(A+L,R+L),new B(h+L,m-L),new B(y-L,C+L),new B(c-L,f-L)]}containsBlackPoint(i,o,a,u){const c=this.image;if(u){for(let f=i;f<=o;f++)if(c.get(f,a))return!0}else for(let f=i;f<=o;f++)if(c.get(a,f))return!0;return!1}}me.INIT_SIZE=10,me.CORR=1;class ge{static checkAndNudgePoints(i,o){const a=i.getWidth(),u=i.getHeight();let c=!0;for(let f=0;f<o.length&&c;f+=2){const h=Math.floor(o[f]),m=Math.floor(o[f+1]);if(h<-1||h>a||m<-1||m>u)throw new W;c=!1,h===-1?(o[f]=0,c=!0):h===a&&(o[f]=a-1,c=!0),m===-1?(o[f+1]=0,c=!0):m===u&&(o[f+1]=u-1,c=!0)}c=!0;for(let f=o.length-2;f>=0&&c;f-=2){const h=Math.floor(o[f]),m=Math.floor(o[f+1]);if(h<-1||h>a||m<-1||m>u)throw new W;c=!1,h===-1?(o[f]=0,c=!0):h===a&&(o[f]=a-1,c=!0),m===-1?(o[f+1]=0,c=!0):m===u&&(o[f+1]=u-1,c=!0)}}}class ae{constructor(i,o,a,u,c,f,h,m,y){this.a11=i,this.a21=o,this.a31=a,this.a12=u,this.a22=c,this.a32=f,this.a13=h,this.a23=m,this.a33=y}static quadrilateralToQuadrilateral(i,o,a,u,c,f,h,m,y,C,A,R,L,j,U,G){const J=ae.quadrilateralToSquare(i,o,a,u,c,f,h,m);return ae.squareToQuadrilateral(y,C,A,R,L,j,U,G).times(J)}transformPoints(i){const o=i.length,a=this.a11,u=this.a12,c=this.a13,f=this.a21,h=this.a22,m=this.a23,y=this.a31,C=this.a32,A=this.a33;for(let R=0;R<o;R+=2){const L=i[R],j=i[R+1],U=c*L+m*j+A;i[R]=(a*L+f*j+y)/U,i[R+1]=(u*L+h*j+C)/U}}transformPointsWithValues(i,o){const a=this.a11,u=this.a12,c=this.a13,f=this.a21,h=this.a22,m=this.a23,y=this.a31,C=this.a32,A=this.a33,R=i.length;for(let L=0;L<R;L++){const j=i[L],U=o[L],G=c*j+m*U+A;i[L]=(a*j+f*U+y)/G,o[L]=(u*j+h*U+C)/G}}static squareToQuadrilateral(i,o,a,u,c,f,h,m){const y=i-a+c-h,C=o-u+f-m;if(y===0&&C===0)return new ae(a-i,c-a,i,u-o,f-u,o,0,0,1);{const A=a-c,R=h-c,L=u-f,j=m-f,U=A*j-R*L,G=(y*j-R*C)/U,J=(A*C-y*L)/U;return new ae(a-i+G*a,h-i+J*h,i,u-o+G*u,m-o+J*m,o,G,J,1)}}static quadrilateralToSquare(i,o,a,u,c,f,h,m){return ae.squareToQuadrilateral(i,o,a,u,c,f,h,m).buildAdjoint()}buildAdjoint(){return new ae(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new ae(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Ne extends ge{sampleGrid(i,o,a,u,c,f,h,m,y,C,A,R,L,j,U,G,J,ue,fe){const oe=ae.quadrilateralToQuadrilateral(u,c,f,h,m,y,C,A,R,L,j,U,G,J,ue,fe);return this.sampleGridWithTransform(i,o,a,oe)}sampleGridWithTransform(i,o,a,u){if(o<=0||a<=0)throw new W;const c=new _e(o,a),f=new Float32Array(2*o);for(let h=0;h<a;h++){const m=f.length,y=h+.5;for(let C=0;C<m;C+=2)f[C]=C/2+.5,f[C+1]=y;u.transformPoints(f),ge.checkAndNudgePoints(i,f);try{for(let C=0;C<m;C+=2)i.get(Math.floor(f[C]),Math.floor(f[C+1]))&&c.set(C/2,h)}catch{throw new W}}return c}}class Xe{static setGridSampler(i){Xe.gridSampler=i}static getInstance(){return Xe.gridSampler}}Xe.gridSampler=new Ne;class je{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new B(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class on{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),a=this.getBullsEyeCorners(o);if(i){let f=a[0];a[0]=a[2],a[2]=f}this.extractParameters(a);let u=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),c=this.getMatrixCornerPoints(a);return new ne(u,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new W;let o=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(a,o);let u=0;for(let f=0;f<4;f++){let h=a[(this.shift+f)%4];this.compact?(u<<=7,u+=h>>1&127):(u<<=10,u+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(i,o){let a=0;i.forEach((u,c,f)=>{let h=(u>>o-2<<1)+(u&1);a=(a<<3)+h}),a=((a&1)<<11)+(a>>1);for(let u=0;u<4;u++)if(T.bitCount(a^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new W}getCorrectedParameterData(i,o){let a,u;o?(a=7,u=2):(a=10,u=4);let c=a-u,f=new Int32Array(a);for(let m=a-1;m>=0;--m)f[m]=i&15,i>>=4;try{new lt(xe.AZTEC_PARAM).decode(f,c)}catch{throw new W}let h=0;for(let m=0;m<u;m++)h=(h<<4)+f[m];return h}getBullsEyeCorners(i){let o=i,a=i,u=i,c=i,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(o,f,1,-1),R=this.getFirstDifferent(a,f,1,1),L=this.getFirstDifferent(u,f,-1,1),j=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(j,A)*this.nbCenterLayers/(this.distancePoint(c,o)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(A,R,L,j))break}o=A,a=R,u=L,c=j,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let h=new B(o.getX()+.5,o.getY()-.5),m=new B(a.getX()+.5,a.getY()+.5),y=new B(u.getX()-.5,u.getY()+.5),C=new B(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,m,y,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,a,u;try{let h=new me(this.image).detect();i=h[0],o=h[1],a=h[2],u=h[3]}catch{let m=this.image.getWidth()/2,y=this.image.getHeight()/2;i=this.getFirstDifferent(new je(m+7,y-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new je(m+7,y+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new je(m-7,y+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new je(m-7,y-7),!1,-1,-1).toResultPoint()}let c=Fe.round((i.getX()+u.getX()+o.getX()+a.getX())/4),f=Fe.round((i.getY()+u.getY()+o.getY()+a.getY())/4);try{let h=new me(this.image,15,c,f).detect();i=h[0],o=h[1],a=h[2],u=h[3]}catch{i=this.getFirstDifferent(new je(c+7,f-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new je(c+7,f+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new je(c-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new je(c-7,f-7),!1,-1,-1).toResultPoint()}return c=Fe.round((i.getX()+u.getX()+o.getX()+a.getX())/4),f=Fe.round((i.getY()+u.getY()+o.getY()+a.getY())/4),new je(c,f)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,a,u,c){let f=Xe.getInstance(),h=this.getDimension(),m=h/2-this.nbCenterLayers,y=h/2+this.nbCenterLayers;return f.sampleGrid(i,h,h,m,m,y,m,y,y,m,y,o.getX(),o.getY(),a.getX(),a.getY(),u.getX(),u.getY(),c.getX(),c.getY())}sampleLine(i,o,a){let u=0,c=this.distanceResultPoint(i,o),f=c/a,h=i.getX(),m=i.getY(),y=f*(o.getX()-i.getX())/c,C=f*(o.getY()-i.getY())/c;for(let A=0;A<a;A++)this.image.get(Fe.round(h+A*y),Fe.round(m+A*C))&&(u|=1<<a-A-1);return u}isWhiteOrBlackRectangle(i,o,a,u){let c=3;i=new je(i.getX()-c,i.getY()+c),o=new je(o.getX()-c,o.getY()-c),a=new je(a.getX()+c,a.getY()-c),u=new je(u.getX()+c,u.getY()+c);let f=this.getColor(u,i);if(f===0)return!1;let h=this.getColor(i,o);return h!==f||(h=this.getColor(o,a),h!==f)?!1:(h=this.getColor(a,u),h===f)}getColor(i,o){let a=this.distancePoint(i,o),u=(o.getX()-i.getX())/a,c=(o.getY()-i.getY())/a,f=0,h=i.getX(),m=i.getY(),y=this.image.get(i.getX(),i.getY()),C=Math.ceil(a);for(let R=0;R<C;R++)h+=u,m+=c,this.image.get(Fe.round(h),Fe.round(m))!==y&&f++;let A=f/a;return A>.1&&A<.9?0:A<=.1===y?1:-1}getFirstDifferent(i,o,a,u){let c=i.getX()+a,f=i.getY()+u;for(;this.isValid(c,f)&&this.image.get(c,f)===o;)c+=a,f+=u;for(c-=a,f-=u;this.isValid(c,f)&&this.image.get(c,f)===o;)c+=a;for(c-=a;this.isValid(c,f)&&this.image.get(c,f)===o;)f+=u;return f-=u,new je(c,f)}expandSquare(i,o,a){let u=a/(2*o),c=i[0].getX()-i[2].getX(),f=i[0].getY()-i[2].getY(),h=(i[0].getX()+i[2].getX())/2,m=(i[0].getY()+i[2].getY())/2,y=new B(h+u*c,m+u*f),C=new B(h-u*c,m-u*f);c=i[1].getX()-i[3].getX(),f=i[1].getY()-i[3].getY(),h=(i[1].getX()+i[3].getX())/2,m=(i[1].getY()+i[3].getY())/2;let A=new B(h+u*c,m+u*f),R=new B(h-u*c,m-u*f);return[y,A,C,R]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=Fe.round(i.getX()),a=Fe.round(i.getY());return this.isValid(o,a)}distancePoint(i,o){return Fe.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return Fe.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class wr{decode(i,o=null){let a=null,u=new on(i.getBlackMatrix()),c=null,f=null;try{let C=u.detectMirror(!1);c=C.getPoints(),this.reportFoundResultPoints(o,c),f=new $e().decode(C)}catch(C){a=C}if(f==null)try{let C=u.detectMirror(!0);c=C.getPoints(),this.reportFoundResultPoints(o,c),f=new $e().decode(C)}catch(C){throw a??C}let h=new Ee(f.getText(),f.getRawBytes(),f.getNumBits(),c,we.AZTEC,O.currentTimeMillis()),m=f.getByteSegments();m!=null&&h.putMetadata(st.BYTE_SEGMENTS,m);let y=f.getECLevel();return y!=null&&h.putMetadata(st.ERROR_CORRECTION_LEVEL,y),h}reportFoundResultPoints(i,o){if(i!=null){let a=i.get(Q.NEED_RESULT_POINT_CALLBACK);a!=null&&o.forEach((u,c,f)=>{a.foundPossibleResultPoint(u)})}}reset(){}}class Jr extends dt{constructor(i=500){super(new wr,i)}}class jt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(Q.TRY_HARDER)===!0&&i.isRotateSupported()){const c=i.rotateCounterClockwise(),f=this.doDecode(c,o),h=f.getResultMetadata();let m=270;h!==null&&h.get(st.ORIENTATION)===!0&&(m=m+h.get(st.ORIENTATION)%360),f.putMetadata(st.ORIENTATION,m);const y=f.getResultPoints();if(y!==null){const C=c.getHeight();for(let A=0;A<y.length;A++)y[A]=new B(C-y[A].getY()-1,y[A].getX())}return f}else throw new W}}reset(){}doDecode(i,o){const a=i.getWidth(),u=i.getHeight();let c=new k(a);const f=o&&o.get(Q.TRY_HARDER)===!0,h=Math.max(1,u>>(f?8:5));let m;f?m=u:m=15;const y=Math.trunc(u/2);for(let C=0;C<m;C++){const A=Math.trunc((C+1)/2),R=(C&1)===0,L=y+h*(R?A:-A);if(L<0||L>=u)break;try{c=i.getBlackRow(L,c)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(c.reverse(),o&&o.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;o.forEach((G,J)=>U.set(J,G)),U.delete(Q.NEED_RESULT_POINT_CALLBACK),o=U}try{const U=this.decodeRow(L,c,o);if(j===1){U.putMetadata(st.ORIENTATION,180);const G=U.getResultPoints();G!==null&&(G[0]=new B(a-G[0].getX()-1,G[0].getY()),G[1]=new B(a-G[1].getX()-1,G[1].getY()))}return U}catch{}}}throw new W}static recordPattern(i,o,a){const u=a.length;for(let y=0;y<u;y++)a[y]=0;const c=i.getSize();if(o>=c)throw new W;let f=!i.get(o),h=0,m=o;for(;m<c;){if(i.get(m)!==f)a[h]++;else{if(++h===u)break;a[h]=1,f=!f}m++}if(!(h===u||h===u-1&&m===c))throw new W}static recordPatternInReverse(i,o,a){let u=a.length,c=i.get(o);for(;o>0&&u>=0;)i.get(--o)!==c&&(u--,c=!c);if(u>=0)throw new W;jt.recordPattern(i,o+1,a)}static patternMatchVariance(i,o,a){const u=i.length;let c=0,f=0;for(let y=0;y<u;y++)c+=i[y],f+=o[y];if(c<f)return Number.POSITIVE_INFINITY;const h=c/f;a*=h;let m=0;for(let y=0;y<u;y++){const C=i[y],A=o[y]*h,R=C>A?C-A:A-C;if(R>a)return Number.POSITIVE_INFINITY;m+=R}return m/c}}class he extends jt{static findStartPattern(i){const o=i.getSize(),a=i.getNextSet(0);let u=0,c=Int32Array.from([0,0,0,0,0,0]),f=a,h=!1;const m=6;for(let y=a;y<o;y++)if(i.get(y)!==h)c[u]++;else{if(u===m-1){let C=he.MAX_AVG_VARIANCE,A=-1;for(let R=he.CODE_START_A;R<=he.CODE_START_C;R++){const L=jt.patternMatchVariance(c,he.CODE_PATTERNS[R],he.MAX_INDIVIDUAL_VARIANCE);L<C&&(C=L,A=R)}if(A>=0&&i.isRange(Math.max(0,f-(y-f)/2),f,!1))return Int32Array.from([f,y,A]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,h=!h}throw new W}static decodeCode(i,o,a){jt.recordPattern(i,a,o);let u=he.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<he.CODE_PATTERNS.length;f++){const h=he.CODE_PATTERNS[f],m=this.patternMatchVariance(o,h,he.MAX_INDIVIDUAL_VARIANCE);m<u&&(u=m,c=f)}if(c>=0)return c;throw new W}decodeRow(i,o,a){const u=a&&a.get(Q.ASSUME_GS1)===!0,c=he.findStartPattern(o),f=c[2];let h=0;const m=new Uint8Array(20);m[h++]=f;let y;switch(f){case he.CODE_START_A:y=he.CODE_CODE_A;break;case he.CODE_START_B:y=he.CODE_CODE_B;break;case he.CODE_START_C:y=he.CODE_CODE_C;break;default:throw new V}let C=!1,A=!1,R="",L=c[0],j=c[1];const U=Int32Array.from([0,0,0,0,0,0]);let G=0,J=0,ue=f,fe=0,oe=!0,Ze=!1,Ue=!1;for(;!C;){const Ho=A;switch(A=!1,G=J,J=he.decodeCode(o,U,j),m[h++]=J,J!==he.CODE_STOP&&(oe=!0),J!==he.CODE_STOP&&(fe++,ue+=fe*J),L=j,j+=U.reduce((mC,xC)=>mC+xC,0),J){case he.CODE_START_A:case he.CODE_START_B:case he.CODE_START_C:throw new V}switch(y){case he.CODE_CODE_A:if(J<64)Ue===Ze?R+=String.fromCharCode(32+J):R+=String.fromCharCode(32+J+128),Ue=!1;else if(J<96)Ue===Ze?R+=String.fromCharCode(J-64):R+=String.fromCharCode(J+64),Ue=!1;else switch(J!==he.CODE_STOP&&(oe=!1),J){case he.CODE_FNC_1:u&&(R.length===0?R+="]C1":R+="");break;case he.CODE_FNC_2:case he.CODE_FNC_3:break;case he.CODE_FNC_4_A:!Ze&&Ue?(Ze=!0,Ue=!1):Ze&&Ue?(Ze=!1,Ue=!1):Ue=!0;break;case he.CODE_SHIFT:A=!0,y=he.CODE_CODE_B;break;case he.CODE_CODE_B:y=he.CODE_CODE_B;break;case he.CODE_CODE_C:y=he.CODE_CODE_C;break;case he.CODE_STOP:C=!0;break}break;case he.CODE_CODE_B:if(J<96)Ue===Ze?R+=String.fromCharCode(32+J):R+=String.fromCharCode(32+J+128),Ue=!1;else switch(J!==he.CODE_STOP&&(oe=!1),J){case he.CODE_FNC_1:u&&(R.length===0?R+="]C1":R+="");break;case he.CODE_FNC_2:case he.CODE_FNC_3:break;case he.CODE_FNC_4_B:!Ze&&Ue?(Ze=!0,Ue=!1):Ze&&Ue?(Ze=!1,Ue=!1):Ue=!0;break;case he.CODE_SHIFT:A=!0,y=he.CODE_CODE_A;break;case he.CODE_CODE_A:y=he.CODE_CODE_A;break;case he.CODE_CODE_C:y=he.CODE_CODE_C;break;case he.CODE_STOP:C=!0;break}break;case he.CODE_CODE_C:if(J<100)J<10&&(R+="0"),R+=J;else switch(J!==he.CODE_STOP&&(oe=!1),J){case he.CODE_FNC_1:u&&(R.length===0?R+="]C1":R+="");break;case he.CODE_CODE_A:y=he.CODE_CODE_A;break;case he.CODE_CODE_B:y=he.CODE_CODE_B;break;case he.CODE_STOP:C=!0;break}break}Ho&&(y=y===he.CODE_CODE_A?he.CODE_CODE_B:he.CODE_CODE_A)}const $n=j-L;if(j=o.getNextUnset(j),!o.isRange(j,Math.min(o.getSize(),j+(j-L)/2),!1))throw new W;if(ue-=fe*G,ue%103!==G)throw new I;const Br=R.length;if(Br===0)throw new W;Br>0&&oe&&(y===he.CODE_CODE_C?R=R.substring(0,Br-2):R=R.substring(0,Br-1));const Wn=(c[1]+c[0])/2,mt=L+$n/2,pn=m.length,ir=new Uint8Array(pn);for(let Ho=0;Ho<pn;Ho++)ir[Ho]=m[Ho];const Vo=[new B(Wn,i),new B(mt,i)];return new Ee(R,ir,0,Vo,we.CODE_128,new Date().getTime())}}he.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],he.MAX_AVG_VARIANCE=.25,he.MAX_INDIVIDUAL_VARIANCE=.7,he.CODE_SHIFT=98,he.CODE_CODE_C=99,he.CODE_CODE_B=100,he.CODE_CODE_A=101,he.CODE_FNC_1=102,he.CODE_FNC_2=97,he.CODE_FNC_3=96,he.CODE_FNC_4_A=101,he.CODE_FNC_4_B=100,he.CODE_START_A=103,he.CODE_START_B=104,he.CODE_START_C=105,he.CODE_STOP=106;class Tt extends jt{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,a){let u=this.counters;u.fill(0),this.decodeRowResult="";let c=Tt.findAsteriskPattern(o,u),f=o.getNextSet(c[1]),h=o.getSize(),m,y;do{Tt.recordPattern(o,f,u);let U=Tt.toNarrowWidePattern(u);if(U<0)throw new W;m=Tt.patternToChar(U),this.decodeRowResult+=m,y=f;for(let G of u)f+=G;f=o.getNextSet(f)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let U of u)C+=U;let A=f-y-C;if(f!==h&&A*2<C)throw new W;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,G=0;for(let J=0;J<U;J++)G+=Tt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(U)!==Tt.ALPHABET_STRING.charAt(G%43))throw new I;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new W;let R;this.extendedMode?R=Tt.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let L=(c[1]+c[0])/2,j=y+C/2;return new Ee(R,null,0,[new B(L,i),new B(j,i)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let a=i.getSize(),u=i.getNextSet(0),c=0,f=u,h=!1,m=o.length;for(let y=u;y<a;y++)if(i.get(y)!==h)o[c]++;else{if(c===m-1){if(this.toNarrowWidePattern(o)===Tt.ASTERISK_ENCODING&&i.isRange(Math.max(0,f-Math.floor((y-f)/2)),f,!1))return[f,y];f+=o[0]+o[1],o.copyWithin(0,2,2+c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,h=!h}throw new W}static toNarrowWidePattern(i){let o=i.length,a=0,u;do{let c=2147483647;for(let m of i)m<c&&m>a&&(c=m);a=c,u=0;let f=0,h=0;for(let m=0;m<o;m++){let y=i[m];y>a&&(h|=1<<o-1-m,u++,f+=y)}if(u===3){for(let m=0;m<o&&u>0;m++){let y=i[m];if(y>a&&(u--,y*2>=f))return-1}return h}}while(u>3);return-1}static patternToChar(i){for(let o=0;o<Tt.CHARACTER_ENCODINGS.length;o++)if(Tt.CHARACTER_ENCODINGS[o]===i)return Tt.ALPHABET_STRING.charAt(o);if(i===Tt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(i){let o=i.length,a="";for(let u=0;u<o;u++){let c=i.charAt(u);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=i.charAt(u+1),h="\0";switch(c){case"+":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)+32);else throw new V;break;case"$":if(f>="A"&&f<="Z")h=String.fromCharCode(f.charCodeAt(0)-64);else throw new V;break;case"%":if(f>="A"&&f<="E")h=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")h=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")h=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")h="\0";else if(f==="V")h="@";else if(f==="W")h="`";else if(f==="X"||f==="Y"||f==="Z")h="";else throw new V;break;case"/":if(f>="A"&&f<="O")h=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")h=":";else throw new V;break}a+=h,u++}else a+=c}return a}}Tt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Tt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Tt.ASTERISK_ENCODING=148;class ut extends jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,a){let u=this.decodeStart(o),c=this.decodeEnd(o),f=new ce;ut.decodeMiddle(o,u[1],c[0],f);let h=f.toString(),m=null;a!=null&&(m=a.get(Q.ALLOWED_LENGTHS)),m==null&&(m=ut.DEFAULT_ALLOWED_LENGTHS);let y=h.length,C=!1,A=0;for(let j of m){if(y===j){C=!0;break}j>A&&(A=j)}if(!C&&y>A&&(C=!0),!C)throw new V;const R=[new B(u[1],i),new B(c[0],i)];return new Ee(h,null,0,R,we.ITF,new Date().getTime())}static decodeMiddle(i,o,a,u){let c=new Int32Array(10),f=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),f.fill(0),h.fill(0);o<a;){jt.recordPattern(i,o,c);for(let y=0;y<5;y++){let C=2*y;f[y]=c[C],h[y]=c[C+1]}let m=ut.decodeDigit(f);u.append(m.toString()),m=this.decodeDigit(h),u.append(m.toString()),c.forEach(function(y){o+=y})}}decodeStart(i){let o=ut.skipWhiteSpace(i),a=ut.findGuardPattern(i,o,ut.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,o){let a=this.narrowLineWidth*10;a=a<o?a:o;for(let u=o-1;a>0&&u>=0&&!i.get(u);u--)a--;if(a!==0)throw new W}static skipWhiteSpace(i){const o=i.getSize(),a=i.getNextSet(0);if(a===o)throw new W;return a}decodeEnd(i){i.reverse();try{let o=ut.skipWhiteSpace(i),a;try{a=ut.findGuardPattern(i,o,ut.END_PATTERN_REVERSED[0])}catch(c){c instanceof W&&(a=ut.findGuardPattern(i,o,ut.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let u=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-u,a}finally{i.reverse()}}static findGuardPattern(i,o,a){let u=a.length,c=new Int32Array(u),f=i.getSize(),h=!1,m=0,y=o;c.fill(0);for(let C=o;C<f;C++)if(i.get(C)!==h)c[m]++;else{if(m===u-1){if(jt.patternMatchVariance(c,a,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return[y,C];y+=c[0]+c[1],O.arraycopy(c,2,c,0,m-1),c[m-1]=0,c[m]=0,m--}else m++;c[m]=1,h=!h}throw new W}static decodeDigit(i){let o=ut.MAX_AVG_VARIANCE,a=-1,u=ut.PATTERNS.length;for(let c=0;c<u;c++){let f=ut.PATTERNS[c],h=jt.patternMatchVariance(i,f,ut.MAX_INDIVIDUAL_VARIANCE);h<o?(o=h,a=c):h===o&&(a=-1)}if(a>=0)return a%10;throw new W}}ut.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ut.MAX_AVG_VARIANCE=.38,ut.MAX_INDIVIDUAL_VARIANCE=.5,ut.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ut.START_PATTERN=Int32Array.from([1,1,1,1]),ut.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class vt extends jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,a,u=0,c=Int32Array.from([0,0,0]);for(;!o;){c=Int32Array.from([0,0,0]),a=vt.findGuardPattern(i,u,!1,this.START_END_PATTERN,c);let f=a[0];u=a[1];let h=f-(u-f);h>=0&&(o=i.isRange(h,f,!1))}return a}static checkChecksum(i){return vt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let a=parseInt(i.charAt(o-1),10);return vt.getStandardUPCEANChecksum(i.substring(0,o-1))===a}static getStandardUPCEANChecksum(i){let o=i.length,a=0;for(let u=o-1;u>=0;u-=2){let c=i.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new V;a+=c}a*=3;for(let u=o-2;u>=0;u-=2){let c=i.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new V;a+=c}return(1e3-a)%10}static decodeEnd(i,o){return vt.findGuardPattern(i,o,!1,vt.START_END_PATTERN,new Int32Array(vt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,a,u){return this.findGuardPattern(i,o,a,u,new Int32Array(u.length))}static findGuardPattern(i,o,a,u,c){let f=i.getSize();o=a?i.getNextUnset(o):i.getNextSet(o);let h=0,m=o,y=u.length,C=a;for(let A=o;A<f;A++)if(i.get(A)!==C)c[h]++;else{if(h===y-1){if(jt.patternMatchVariance(c,u,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return Int32Array.from([m,A]);m+=c[0]+c[1];let R=c.slice(2,c.length-1);for(let L=0;L<h-1;L++)c[L]=R[L];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,C=!C}throw new W}static decodeDigit(i,o,a,u){this.recordPattern(i,a,o);let c=this.MAX_AVG_VARIANCE,f=-1,h=u.length;for(let m=0;m<h;m++){let y=u[m],C=jt.patternMatchVariance(o,y,vt.MAX_INDIVIDUAL_VARIANCE);C<c&&(c=C,f=m)}if(f>=0)return f;throw new W}}vt.MAX_AVG_VARIANCE=.48,vt.MAX_INDIVIDUAL_VARIANCE=.7,vt.START_END_PATTERN=Int32Array.from([1,1,1]),vt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),vt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Hs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,a){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(o,a,u),f=u.toString(),h=Hs.parseExtensionString(f),m=[new B((a[0]+a[1])/2,i),new B(c,i)],y=new Ee(f,null,0,m,we.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(i,o,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=i.getSize(),f=o[1],h=0;for(let y=0;y<5&&f<c;y++){let C=vt.decodeDigit(i,u,f,vt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let A of u)f+=A;C>=10&&(h|=1<<4-y),y!==4&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(a.length!==5)throw new W;let m=this.determineCheckDigit(h);if(Hs.extensionChecksum(a.toString())!==m)throw new W;return f}static extensionChecksum(i){let o=i.length,a=0;for(let u=o-2;u>=0;u-=2)a+=i.charAt(u).charCodeAt(0)-48;a*=3;for(let u=o-1;u>=0;u-=2)a+=i.charAt(u).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new W}static parseExtensionString(i){if(i.length!==5)return null;let o=Hs.parseExtension5String(i);return o==null?null:new Map([[st.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let a=parseInt(i.substring(1)),u=(a/100).toString(),c=a%100,f=c<10?"0"+c:c.toString();return o+u+"."+f}}class ko{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,a){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(o,a,u),f=u.toString(),h=ko.parseExtensionString(f),m=[new B((a[0]+a[1])/2,i),new B(c,i)],y=new Ee(f,null,0,m,we.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(i,o,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=i.getSize(),f=o[1],h=0;for(let m=0;m<2&&f<c;m++){let y=vt.decodeDigit(i,u,f,vt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let C of u)f+=C;y>=10&&(h|=1<<1-m),m!==1&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(a.length!==2)throw new W;if(parseInt(a.toString())%4!==h)throw new W;return f}static parseExtensionString(i){return i.length!==2?null:new Map([[st.ISSUE_NUMBER,parseInt(i)]])}}class qg{static decodeRow(i,o,a){let u=vt.findGuardPattern(o,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Hs().decodeRow(i,o,u)}catch{return new ko().decodeRow(i,o,u)}}}qg.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class rt extends vt{constructor(){super(),this.decodeRowStringBuffer="",rt.L_AND_G_PATTERNS=rt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=rt.L_PATTERNS[i-10],a=new Int32Array(o.length);for(let u=0;u<o.length;u++)a[u]=o[o.length-u-1];rt.L_AND_G_PATTERNS[i]=a}}decodeRow(i,o,a){let u=rt.findStartGuardPattern(o),c=a==null?null:a.get(Q.NEED_RESULT_POINT_CALLBACK);if(c!=null){const oe=new B((u[0]+u[1])/2,i);c.foundPossibleResultPoint(oe)}let f=this.decodeMiddle(o,u,this.decodeRowStringBuffer),h=f.rowOffset,m=f.resultString;if(c!=null){const oe=new B(h,i);c.foundPossibleResultPoint(oe)}let y=this.decodeEnd(o,h);if(c!=null){const oe=new B((y[0]+y[1])/2,i);c.foundPossibleResultPoint(oe)}let C=y[1],A=C+(C-y[0]);if(A>=o.getSize()||!o.isRange(C,A,!1))throw new W;let R=m.toString();if(R.length<8)throw new V;if(!rt.checkChecksum(R))throw new I;let L=(u[1]+u[0])/2,j=(y[1]+y[0])/2,U=this.getBarcodeFormat(),G=[new B(L,i),new B(j,i)],J=new Ee(R,null,0,G,U,new Date().getTime()),ue=0;try{let oe=qg.decodeRow(i,o,y[1]);J.putMetadata(st.UPC_EAN_EXTENSION,oe.getText()),J.putAllMetadata(oe.getResultMetadata()),J.addResultPoints(oe.getResultPoints()),ue=oe.getText().length}catch{}let fe=a==null?null:a.get(Q.ALLOWED_EAN_EXTENSIONS);if(fe!=null){let oe=!1;for(let Ze in fe)if(ue.toString()===Ze){oe=!0;break}if(!oe)throw new W}return J}decodeEnd(i,o){return rt.findGuardPattern(i,o,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return rt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let a=parseInt(i.charAt(o-1),10);return rt.getStandardUPCEANChecksum(i.substring(0,o-1))===a}static getStandardUPCEANChecksum(i){let o=i.length,a=0;for(let u=o-1;u>=0;u-=2){let c=i.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new V;a+=c}a*=3;for(let u=o-2;u>=0;u-=2){let c=i.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new V;a+=c}return(1e3-a)%10}}class Gs extends rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=i.getSize(),f=o[1],h=0;for(let y=0;y<6&&f<c;y++){let C=rt.decodeDigit(i,u,f,rt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let A of u)f+=A;C>=10&&(h|=1<<5-y)}a=Gs.determineFirstDigit(a,h),f=rt.findGuardPattern(i,f,!0,rt.MIDDLE_PATTERN,new Int32Array(rt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&f<c;y++){let C=rt.decodeDigit(i,u,f,rt.L_PATTERNS);a+=String.fromCharCode(48+C);for(let A of u)f+=A}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(i,o){for(let a=0;a<10;a++)if(o===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new W}}Gs.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Zg extends rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,a){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=i.getSize(),f=o[1];for(let m=0;m<4&&f<c;m++){let y=rt.decodeDigit(i,u,f,rt.L_PATTERNS);a+=String.fromCharCode(48+y);for(let C of u)f+=C}f=rt.findGuardPattern(i,f,!0,rt.MIDDLE_PATTERN,new Int32Array(rt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&f<c;m++){let y=rt.decodeDigit(i,u,f,rt.L_PATTERNS);a+=String.fromCharCode(48+y);for(let C of u)f+=C}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return we.EAN_8}}class Kg extends rt{constructor(){super(...arguments),this.ean13Reader=new Gs}getBarcodeFormat(){return we.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,a))}decodeMiddle(i,o,a){return this.ean13Reader.decodeMiddle(i,o,a)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let a=new Ee(o.substring(1),null,null,i.getResultPoints(),we.UPC_A);return i.getResultMetadata()!=null&&a.putAllMetadata(i.getResultMetadata()),a}else throw new W}reset(){this.ean13Reader.reset()}}class Lr extends rt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,a){const u=this.decodeMiddleCounters.map(y=>y);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const c=i.getSize();let f=o[1],h=0;for(let y=0;y<6&&f<c;y++){const C=Lr.decodeDigit(i,u,f,Lr.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let A of u)f+=A;C>=10&&(h|=1<<5-y)}let m=Lr.determineNumSysAndCheckDigit(a,h);return{rowOffset:f,resultString:m}}decodeEnd(i,o){return Lr.findGuardPatternWithoutCounters(i,o,!0,Lr.MIDDLE_END_PATTERN)}checkChecksum(i){return rt.checkChecksum(Lr.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let a=0;a<=1;a++)for(let u=0;u<10;u++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][u]){let c=String.fromCharCode(48+a),f=String.fromCharCode(48+u);return c+i+f}throw W.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(c=>c.charCodeAt(0)),a=new ce;a.append(i.charAt(0));let u=o[5];switch(u){case 0:case 1:case 2:a.appendChars(o,0,2),a.append(u),a.append("0000"),a.appendChars(o,2,3);break;case 3:a.appendChars(o,0,3),a.append("00000"),a.appendChars(o,3,2);break;case 4:a.appendChars(o,0,4),a.append("00000"),a.append(o[4]);break;default:a.appendChars(o,0,5),a.append("0000"),a.append(u);break}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}Lr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Lr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class td extends jt{constructor(i){super();let o=i==null?null:i.get(Q.POSSIBLE_FORMATS),a=[];r(o)?(a.push(new Gs),a.push(new Kg),a.push(new Zg),a.push(new Lr)):(o.indexOf(we.EAN_13)>-1&&a.push(new Gs),o.indexOf(we.UPC_A)>-1&&a.push(new Kg),o.indexOf(we.EAN_8)>-1&&a.push(new Zg),o.indexOf(we.UPC_E)>-1&&a.push(new Lr)),this.readers=a}decodeRow(i,o,a){for(let u of this.readers)try{const c=u.decodeRow(i,o,a),f=c.getBarcodeFormat()===we.EAN_13&&c.getText().charAt(0)==="0",h=a==null?null:a.get(Q.POSSIBLE_FORMATS),m=h==null||h.includes(we.UPC_A);if(f&&m){const y=c.getRawBytes(),C=new Ee(c.getText().substring(1),y,y?y.length:null,c.getResultPoints(),we.UPC_A);return C.putAllMetadata(c.getResultMetadata()),C}return c}catch{}throw new W}reset(){for(let i of this.readers)i.reset()}}class Cn extends jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let a=0;a<o.length;a++)if(jt.patternMatchVariance(i,o[a],Cn.MAX_INDIVIDUAL_VARIANCE)<Cn.MAX_AVG_VARIANCE)return a;throw new W}static count(i){return Fe.sum(new Int32Array(i))}static increment(i,o){let a=0,u=o[0];for(let c=1;c<i.length;c++)o[c]>u&&(u=o[c],a=c);i[a]++}static decrement(i,o){let a=0,u=o[0];for(let c=1;c<i.length;c++)o[c]<u&&(u=o[c],a=c);i[a]--}static isFinderPattern(i){let o=i[0]+i[1],a=o+i[2]+i[3],u=o/a;if(u>=Cn.MIN_FINDER_PATTERN_RATIO&&u<=Cn.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let h of i)h>f&&(f=h),h<c&&(c=h);return f<10*c}return!1}}Cn.MAX_AVG_VARIANCE=.2,Cn.MAX_INDIVIDUAL_VARIANCE=.45,Cn.MIN_FINDER_PATTERN_RATIO=9.5/12,Cn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Po{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Po))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Nu{constructor(i,o,a,u,c){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new B(a,c)),this.resultPoints.push(new B(u,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Nu))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class ei{constructor(){}static getRSSvalue(i,o,a){let u=0;for(let m of i)u+=m;let c=0,f=0,h=i.length;for(let m=0;m<h-1;m++){let y;for(y=1,f|=1<<m;y<i[m];y++,f&=~(1<<m)){let C=ei.combins(u-y-1,h-m-2);if(a&&f===0&&u-y-(h-m-1)>=h-m-1&&(C-=ei.combins(u-y-(h-m),h-m-2)),h-m-1>1){let A=0;for(let R=u-y-(h-m-2);R>o;R--)A+=ei.combins(u-y-R-1,h-m-3);C-=A*(h-1-m)}else u-y>o&&C--;c+=C}u-=y}return c}static combins(i,o){let a,u;i-o>o?(u=o,a=i-o):(u=i-o,a=o);let c=1,f=1;for(let h=i;h>a;h--)c*=h,f<=u&&(c/=f,f++);for(;f<=u;)c/=f,f++;return c}}class VE{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let a=12*o,u=new k(a),c=0,h=i[0].getRightChar().getValue();for(let m=11;m>=0;--m)h&1<<m&&u.set(c),c++;for(let m=1;m<i.length;++m){let y=i[m],C=y.getLeftChar().getValue();for(let A=11;A>=0;--A)C&1<<A&&u.set(c),c++;if(y.getRightChar()!=null){let A=y.getRightChar().getValue();for(let R=11;R>=0;--R)A&1<<R&&u.set(c),c++}}return u}}class $s{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class nd{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class Vn extends nd{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Vn.FNC1}}Vn.FNC1="$";class Ws extends nd{constructor(i,o,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class vr extends nd{constructor(i,o,a){if(super(i),o<0||o>10||a<0||a>10)throw new V;this.firstDigit=o,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===vr.FNC1}isSecondDigitFNC1(){return this.secondDigit===vr.FNC1}isAnyFNC1(){return this.firstDigit===vr.FNC1||this.secondDigit===vr.FNC1}}vr.FNC1=10;class Ce{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new W;let o=i.substring(0,2);for(let c of Ce.TWO_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(2,c[2],i):Ce.processFixedAI(2,c[1],i);if(i.length<3)throw new W;let a=i.substring(0,3);for(let c of Ce.THREE_DIGIT_DATA_LENGTH)if(c[0]===a)return c[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(3,c[2],i):Ce.processFixedAI(3,c[1],i);for(let c of Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===a)return c[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,c[2],i):Ce.processFixedAI(4,c[1],i);if(i.length<4)throw new W;let u=i.substring(0,4);for(let c of Ce.FOUR_DIGIT_DATA_LENGTH)if(c[0]===u)return c[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,c[2],i):Ce.processFixedAI(4,c[1],i);throw new W}static processFixedAI(i,o,a){if(a.length<i)throw new W;let u=a.substring(0,i);if(a.length<i+o)throw new W;let c=a.substring(i,i+o),f=a.substring(i+o),h="("+u+")"+c,m=Ce.parseFieldsInGeneralPurpose(f);return m==null?h:h+m}static processVariableAI(i,o,a){let u=a.substring(0,i),c;a.length<i+o?c=a.length:c=i+o;let f=a.substring(i,c),h=a.substring(c),m="("+u+")"+f,y=Ce.parseFieldsInGeneralPurpose(h);return y==null?m:m+y}}Ce.VARIABLE_LENGTH=[],Ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ce.VARIABLE_LENGTH,20],["22",Ce.VARIABLE_LENGTH,29],["30",Ce.VARIABLE_LENGTH,8],["37",Ce.VARIABLE_LENGTH,8],["90",Ce.VARIABLE_LENGTH,30],["91",Ce.VARIABLE_LENGTH,30],["92",Ce.VARIABLE_LENGTH,30],["93",Ce.VARIABLE_LENGTH,30],["94",Ce.VARIABLE_LENGTH,30],["95",Ce.VARIABLE_LENGTH,30],["96",Ce.VARIABLE_LENGTH,30],["97",Ce.VARIABLE_LENGTH,3],["98",Ce.VARIABLE_LENGTH,30],["99",Ce.VARIABLE_LENGTH,30]],Ce.THREE_DIGIT_DATA_LENGTH=[["240",Ce.VARIABLE_LENGTH,30],["241",Ce.VARIABLE_LENGTH,30],["242",Ce.VARIABLE_LENGTH,6],["250",Ce.VARIABLE_LENGTH,30],["251",Ce.VARIABLE_LENGTH,30],["253",Ce.VARIABLE_LENGTH,17],["254",Ce.VARIABLE_LENGTH,20],["400",Ce.VARIABLE_LENGTH,30],["401",Ce.VARIABLE_LENGTH,30],["402",17],["403",Ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ce.VARIABLE_LENGTH,20],["421",Ce.VARIABLE_LENGTH,15],["422",3],["423",Ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ce.VARIABLE_LENGTH,15],["391",Ce.VARIABLE_LENGTH,18],["392",Ce.VARIABLE_LENGTH,15],["393",Ce.VARIABLE_LENGTH,18],["703",Ce.VARIABLE_LENGTH,30]],Ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ce.VARIABLE_LENGTH,20],["8003",Ce.VARIABLE_LENGTH,30],["8004",Ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ce.VARIABLE_LENGTH,30],["8008",Ce.VARIABLE_LENGTH,12],["8018",18],["8020",Ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ce.VARIABLE_LENGTH,70],["8200",Ce.VARIABLE_LENGTH,70]];class Lo{constructor(i){this.buffer=new ce,this.information=i}decodeAllCodes(i,o){let a=o,u=null;do{let c=this.decodeGeneralPurposeField(a,u),f=Ce.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&i.append(f),c.isRemaining()?u=""+c.getRemainingValue():u=null,a===c.getNewPosition())break;a=c.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(i,4);return c===0?new vr(this.information.getSize(),vr.FNC1,vr.FNC1):new vr(this.information.getSize(),c-1,vr.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),a=(o-8)/11,u=(o-8)%11;return new vr(i+7,a,u)}extractNumericValueFromBitArray(i,o){return Lo.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,a){let u=0;for(let c=0;c<a;++c)i.get(o+c)&&(u|=1<<a-c-1);return u}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Ws(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Ws(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let a=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(a!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Ws(this.current.getPosition(),this.buffer.toString()):o=new Ws(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new $s(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Ws(this.current.getPosition(),this.buffer.toString());return new $s(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new $s(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ws(this.current.getPosition(),this.buffer.toString());return new $s(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new $s(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ws(this.current.getPosition(),this.buffer.toString());return new $s(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new $s(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,8);return u>=232&&u<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new Vn(i+5,Vn.FNC1);if(o>=5&&o<15)return new Vn(i+5,"0"+(o-5));let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new Vn(i+7,""+(a+1));if(a>=90&&a<116)return new Vn(i+7,""+(a+7));let u=this.extractNumericValueFromBitArray(i,8),c;switch(u){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new V}return new Vn(i+8,c)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new Vn(i+5,Vn.FNC1);if(o>=5&&o<15)return new Vn(i+5,"0"+(o-5));let a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new Vn(i+6,""+(a+33));let u;switch(a){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Ve("Decoding invalid alphanumeric value: "+a)}return new Vn(i+6,u)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class rd{constructor(i){this.information=i,this.generalDecoder=new Lo(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Hn extends rd{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,a)}encodeCompressedGtinWithoutAI(i,o,a){for(let u=0;u<4;++u){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*u,10);c/100===0&&i.append("0"),c/10===0&&i.append("0"),i.append(c)}Hn.appendCheckDigit(i,a)}static appendCheckDigit(i,o){let a=0;for(let u=0;u<13;u++){let c=i.charAt(u+o).charCodeAt(0)-48;a+=u&1?c:3*c}a=10-a%10,a===10&&(a=0),i.append(a)}}Hn.GTIN_SIZE=40;class Bo extends Hn{constructor(i){super(i)}parseInformation(){let i=new ce;i.append("(01)");let o=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Bo.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,Bo.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,Bo.HEADER_SIZE+44)}}Bo.HEADER_SIZE=4;class Tu extends rd{constructor(i){super(i)}parseInformation(){let i=new ce;return this.getGeneralDecoder().decodeAllCodes(i,Tu.HEADER_SIZE)}}Tu.HEADER_SIZE=5;class Ru extends Hn{constructor(i){super(i)}encodeCompressedWeight(i,o,a){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,a);this.addWeightCode(i,u);let c=this.checkWeight(u),f=1e5;for(let h=0;h<5;++h)c/f===0&&i.append("0"),f/=10;i.append(c)}}class ti extends Ru{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=ti.HEADER_SIZE+Ru.GTIN_SIZE+ti.WEIGHT_SIZE)throw new W;let i=new ce;return this.encodeCompressedGtin(i,ti.HEADER_SIZE),this.encodeCompressedWeight(i,ti.HEADER_SIZE+Ru.GTIN_SIZE,ti.WEIGHT_SIZE),i.toString()}}ti.HEADER_SIZE=5,ti.WEIGHT_SIZE=15;class HE extends ti{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class GE extends ti{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class ni extends Hn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<ni.HEADER_SIZE+Hn.GTIN_SIZE)throw new W;let i=new ce;this.encodeCompressedGtin(i,ni.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(ni.HEADER_SIZE+Hn.GTIN_SIZE,ni.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(ni.HEADER_SIZE+Hn.GTIN_SIZE+ni.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}ni.HEADER_SIZE=8,ni.LAST_DIGIT_SIZE=2;class Mn extends Hn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Mn.HEADER_SIZE+Hn.GTIN_SIZE)throw new W;let i=new ce;this.encodeCompressedGtin(i,Mn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Mn.HEADER_SIZE+Hn.GTIN_SIZE,Mn.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Mn.HEADER_SIZE+Hn.GTIN_SIZE+Mn.LAST_DIGIT_SIZE,Mn.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let u=this.getGeneralDecoder().decodeGeneralPurposeField(Mn.HEADER_SIZE+Hn.GTIN_SIZE+Mn.LAST_DIGIT_SIZE+Mn.FIRST_THREE_DIGITS_SIZE,null);return i.append(u.getNewString()),i.toString()}}Mn.HEADER_SIZE=8,Mn.LAST_DIGIT_SIZE=2,Mn.FIRST_THREE_DIGITS_SIZE=10;class bt extends Ru{constructor(i,o,a){super(i),this.dateCode=a,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=bt.HEADER_SIZE+bt.GTIN_SIZE+bt.WEIGHT_SIZE+bt.DATE_SIZE)throw new W;let i=new ce;return this.encodeCompressedGtin(i,bt.HEADER_SIZE),this.encodeCompressedWeight(i,bt.HEADER_SIZE+bt.GTIN_SIZE,bt.WEIGHT_SIZE),this.encodeCompressedDate(i,bt.HEADER_SIZE+bt.GTIN_SIZE+bt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(o,bt.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let u=a%32;a/=32;let c=a%12+1;a/=12;let f=a;f/10==0&&i.append("0"),i.append(f),c/10==0&&i.append("0"),i.append(c),u/10==0&&i.append("0"),i.append(u)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}bt.HEADER_SIZE=8,bt.WEIGHT_SIZE=20,bt.DATE_SIZE=16;function Jg(S){try{if(S.get(1))return new Bo(S);if(!S.get(2))return new Tu(S);switch(Lo.extractNumericValueFromBitArray(S,1,4)){case 4:return new HE(S);case 5:return new GE(S)}switch(Lo.extractNumericValueFromBitArray(S,1,5)){case 12:return new ni(S);case 13:return new Mn(S)}switch(Lo.extractNumericValueFromBitArray(S,1,7)){case 56:return new bt(S,"310","11");case 57:return new bt(S,"320","11");case 58:return new bt(S,"310","13");case 59:return new bt(S,"320","13");case 60:return new bt(S,"310","15");case 61:return new bt(S,"320","15");case 62:return new bt(S,"310","17");case 63:return new bt(S,"320","17")}}catch(i){throw console.log(i),new Ve("unknown decoder: "+S)}}class $i{constructor(i,o,a,u){this.leftchar=i,this.rightchar=o,this.finderpattern=a,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof $i?$i.equalsOrNull(i.leftchar,o.leftchar)&&$i.equalsOrNull(i.rightchar,o.rightchar)&&$i.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:$i.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class id{constructor(i,o,a){this.pairs=i,this.rowNumber=o,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof id?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let a;return i.forEach((u,c)=>{o.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(a=!0)})}),a}}class se extends Cn{constructor(i){super(...arguments),this.pairs=new Array(se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,a){this.pairs.length=0,this.startFromEven=!1;try{return se.constructResult(this.decodeRow2pairs(i,o))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,se.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(c){if(c instanceof W){if(!this.pairs.length)throw new W;a=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(i,!1),u){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new W}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let a=o;a<this.rows.length;a++){let u=this.rows[a];this.pairs.length=0;for(let f of i)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(i);c.push(u);try{return this.checkRows(c,a+1)}catch(f){this.verbose&&console.log(f)}}throw new W}static isValidSequence(i){for(let o of se.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let a=!0;for(let u=0;u<i.length;u++)if(i[u].getFinderPattern().getValue()!=o[u]){a=!1;break}if(a)return!0}return!1}storeRow(i,o){let a=0,u=!1,c=!1;for(;a<this.rows.length;){let f=this.rows[a];if(f.getRowNumber()>i){c=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),a++}c||u||se.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new id(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let a of o)if(a.getPairs().length!==i.length){for(let u of a.getPairs())for(let c of i)if($i.equals(u,c))break}}static isPartialRow(i,o){for(let a of o){let u=!0;for(let c of i){let f=!1;for(let h of a.getPairs())if(c.equals(h)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=VE.buildBitArray(i),u=Jg(o).parseInformation(),c=i[0].getFinderPattern().getResultPoints(),f=i[i.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],f[0],f[1]];return new Ee(u,null,null,h,we.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),a=i.getRightChar();if(a==null)return!1;let u=a.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let m=this.pairs.get(h);u+=m.getLeftChar().getChecksumPortion(),c++;let y=m.getRightChar();y!=null&&(u+=y.getChecksumPortion(),c++)}return u%=211,211*(c-4)+u==o.getValue()}static getNextSecondBar(i,o){let a;return i.get(o)?(a=i.getNextUnset(o),a=i.getNextSet(a)):(a=i.getNextSet(o),a=i.getNextUnset(a)),a}retrieveNextPair(i,o,a){let u=o.length%2==0;this.startFromEven&&(u=!u);let c,f=!0,h=-1;do this.findNextPair(i,o,h),c=this.parseFoundFinderPattern(i,a,u),c==null?h=se.getNextSecondBar(i,this.startEnd[0]):f=!1;while(f);let m=this.decodeDataCharacter(i,c,u,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new W;let y;try{y=this.decodeDataCharacter(i,c,u,!1)}catch(C){y=null,this.verbose&&console.log(C)}return new $i(m,y,c,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,a){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=i.getSize(),f;a>=0?f=a:this.isEmptyPair(o)?f=0:f=o[o.length-1].getFinderPattern().getStartEnd()[1];let h=o.length%2!=0;this.startFromEven&&(h=!h);let m=!1;for(;f<c&&(m=!i.get(f),!!m);)f++;let y=0,C=f;for(let A=f;A<c;A++)if(i.get(A)!=m)u[y]++;else{if(y==3){if(h&&se.reverseCounters(u),se.isFinderPattern(u)){this.startEnd[0]=C,this.startEnd[1]=A;return}h&&se.reverseCounters(u),C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,y--}else y++;u[y]=1,m=!m}throw new W}static reverseCounters(i){let o=i.length;for(let a=0;a<o/2;++a){let u=i[a];i[a]=i[o-a-1],i[o-a-1]=u}}parseFoundFinderPattern(i,o,a){let u,c,f;if(a){let y=this.startEnd[0]-1;for(;y>=0&&!i.get(y);)y--;y++,u=this.startEnd[0]-y,c=y,f=this.startEnd[1]}else c=this.startEnd[0],f=i.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let h=this.getDecodeFinderCounters();O.arraycopy(h,0,h,1,h.length-1),h[0]=u;let m;try{m=this.parseFinderValue(h,se.FINDER_PATTERNS)}catch{return null}return new Nu(m,[c,f],c,f,o)}decodeDataCharacter(i,o,a,u){let c=this.getDataCharacterCounters();for(let mt=0;mt<c.length;mt++)c[mt]=0;if(u)se.recordPatternInReverse(i,o.getStartEnd()[0],c);else{se.recordPattern(i,o.getStartEnd()[1],c);for(let mt=0,pn=c.length-1;mt<pn;mt++,pn--){let ir=c[mt];c[mt]=c[pn],c[pn]=ir}}let f=17,h=Fe.sum(new Int32Array(c))/f,m=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(h-m)/m>.3)throw new W;let y=this.getOddCounts(),C=this.getEvenCounts(),A=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let mt=0;mt<c.length;mt++){let pn=1*c[mt]/h,ir=pn+.5;if(ir<1){if(pn<.3)throw new W;ir=1}else if(ir>8){if(pn>8.7)throw new W;ir=8}let Vo=mt/2;mt&1?(C[Vo]=ir,R[Vo]=pn-ir):(y[Vo]=ir,A[Vo]=pn-ir)}this.adjustOddEvenCounts(f);let L=4*o.getValue()+(a?0:2)+(u?0:1)-1,j=0,U=0;for(let mt=y.length-1;mt>=0;mt--){if(se.isNotA1left(o,a,u)){let pn=se.WEIGHTS[L][2*mt];U+=y[mt]*pn}j+=y[mt]}let G=0;for(let mt=C.length-1;mt>=0;mt--)if(se.isNotA1left(o,a,u)){let pn=se.WEIGHTS[L][2*mt+1];G+=C[mt]*pn}let J=U+G;if(j&1||j>13||j<4)throw new W;let ue=(13-j)/2,fe=se.SYMBOL_WIDEST[ue],oe=9-fe,Ze=ei.getRSSvalue(y,fe,!0),Ue=ei.getRSSvalue(C,oe,!1),$n=se.EVEN_TOTAL_SUBSET[ue],Br=se.GSUM[ue],Wn=Ze*$n+Ue+Br;return new Po(Wn,J)}static isNotA1left(i,o,a){return!(i.getValue()==0&&o&&a)}adjustOddEvenCounts(i){let o=Fe.sum(new Int32Array(this.getOddCounts())),a=Fe.sum(new Int32Array(this.getEvenCounts())),u=!1,c=!1;o>13?c=!0:o<4&&(u=!0);let f=!1,h=!1;a>13?h=!0:a<4&&(f=!0);let m=o+a-i,y=(o&1)==1,C=(a&1)==0;if(m==1)if(y){if(C)throw new W;c=!0}else{if(!C)throw new W;h=!0}else if(m==-1)if(y){if(C)throw new W;u=!0}else{if(!C)throw new W;f=!0}else if(m==0){if(y){if(!C)throw new W;o<a?(u=!0,h=!0):(c=!0,f=!0)}else if(C)throw new W}else throw new W;if(u){if(c)throw new W;se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new W;se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}se.SYMBOL_WIDEST=[7,5,4,3,1],se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],se.GSUM=[0,348,1388,2948,3988],se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],se.FINDER_PAT_A=0,se.FINDER_PAT_B=1,se.FINDER_PAT_C=2,se.FINDER_PAT_D=3,se.FINDER_PAT_E=4,se.FINDER_PAT_F=5,se.FINDER_PATTERN_SEQUENCES=[[se.FINDER_PAT_A,se.FINDER_PAT_A],[se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B],[se.FINDER_PAT_A,se.FINDER_PAT_C,se.FINDER_PAT_B,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_C],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F]],se.MAX_PAIRS=11;class $E extends Po{constructor(i,o,a){super(i,o),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ut extends Cn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,a){const u=this.decodePair(o,!1,i,a);Ut.addOrTally(this.possibleLeftPairs,u),o.reverse();let c=this.decodePair(o,!0,i,a);Ut.addOrTally(this.possibleRightPairs,c),o.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Ut.checkChecksum(f,h))return Ut.constructResult(f,h)}throw new W}static addOrTally(i,o){if(o==null)return;let a=!1;for(let u of i)if(u.getValue()===o.getValue()){u.incrementCount(),a=!0;break}a||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let a=4537077*i.getValue()+o.getValue(),u=new String(a).toString(),c=new ce;for(let y=13-u.length;y>0;y--)c.append("0");c.append(u);let f=0;for(let y=0;y<13;y++){let C=c.charAt(y).charCodeAt(0)-48;f+=y&1?C:3*C}f=10-f%10,f===10&&(f=0),c.append(f.toString());let h=i.getFinderPattern().getResultPoints(),m=o.getFinderPattern().getResultPoints();return new Ee(c.toString(),null,0,[h[0],h[1],m[0],m[1]],we.RSS_14,new Date().getTime())}static checkChecksum(i,o){let a=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,u=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,a===u}decodePair(i,o,a,u){try{let c=this.findFinderPattern(i,o),f=this.parseFoundFinderPattern(i,a,o,c),h=u==null?null:u.get(Q.NEED_RESULT_POINT_CALLBACK);if(h!=null){let C=(c[0]+c[1])/2;o&&(C=i.getSize()-1-C),h.foundPossibleResultPoint(new B(C,a))}let m=this.decodeDataCharacter(i,f,!0),y=this.decodeDataCharacter(i,f,!1);return new $E(1597*m.getValue()+y.getValue(),m.getChecksumPortion()+4*y.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(i,o,a){let u=this.getDataCharacterCounters();for(let G=0;G<u.length;G++)u[G]=0;if(a)jt.recordPatternInReverse(i,o.getStartEnd()[0],u);else{jt.recordPattern(i,o.getStartEnd()[1]+1,u);for(let G=0,J=u.length-1;G<J;G++,J--){let ue=u[G];u[G]=u[J],u[J]=ue}}let c=a?16:15,f=Fe.sum(new Int32Array(u))/c,h=this.getOddCounts(),m=this.getEvenCounts(),y=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let G=0;G<u.length;G++){let J=u[G]/f,ue=Math.floor(J+.5);ue<1?ue=1:ue>8&&(ue=8);let fe=Math.floor(G/2);G&1?(m[fe]=ue,C[fe]=J-ue):(h[fe]=ue,y[fe]=J-ue)}this.adjustOddEvenCounts(a,c);let A=0,R=0;for(let G=h.length-1;G>=0;G--)R*=9,R+=h[G],A+=h[G];let L=0,j=0;for(let G=m.length-1;G>=0;G--)L*=9,L+=m[G],j+=m[G];let U=R+3*L;if(a){if(A&1||A>12||A<4)throw new W;let G=(12-A)/2,J=Ut.OUTSIDE_ODD_WIDEST[G],ue=9-J,fe=ei.getRSSvalue(h,J,!1),oe=ei.getRSSvalue(m,ue,!0),Ze=Ut.OUTSIDE_EVEN_TOTAL_SUBSET[G],Ue=Ut.OUTSIDE_GSUM[G];return new Po(fe*Ze+oe+Ue,U)}else{if(j&1||j>10||j<4)throw new W;let G=(10-j)/2,J=Ut.INSIDE_ODD_WIDEST[G],ue=9-J,fe=ei.getRSSvalue(h,J,!0),oe=ei.getRSSvalue(m,ue,!1),Ze=Ut.INSIDE_ODD_TOTAL_SUBSET[G],Ue=Ut.INSIDE_GSUM[G];return new Po(oe*Ze+fe+Ue,U)}}findFinderPattern(i,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=i.getSize(),c=!1,f=0;for(;f<u&&(c=!i.get(f),o!==c);)f++;let h=0,m=f;for(let y=f;y<u;y++)if(i.get(y)!==c)a[h]++;else{if(h===3){if(Cn.isFinderPattern(a))return[m,y];m+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,h--}else h++;a[h]=1,c=!c}throw new W}parseFoundFinderPattern(i,o,a,u){let c=i.get(u[0]),f=u[0]-1;for(;f>=0&&c!==i.get(f);)f--;f++;const h=u[0]-f,m=this.getDecodeFinderCounters(),y=new Int32Array(m.length);O.arraycopy(m,0,y,1,m.length-1),y[0]=h;const C=this.parseFinderValue(y,Ut.FINDER_PATTERNS);let A=f,R=u[1];return a&&(A=i.getSize()-1-A,R=i.getSize()-1-R),new Nu(C,[f,u[1]],A,R,o)}adjustOddEvenCounts(i,o){let a=Fe.sum(new Int32Array(this.getOddCounts())),u=Fe.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,h=!1,m=!1;i?(a>12?f=!0:a<4&&(c=!0),u>12?m=!0:u<4&&(h=!0)):(a>11?f=!0:a<5&&(c=!0),u>10?m=!0:u<4&&(h=!0));let y=a+u-o,C=(a&1)===(i?1:0),A=(u&1)===1;if(y===1)if(C){if(A)throw new W;f=!0}else{if(!A)throw new W;m=!0}else if(y===-1)if(C){if(A)throw new W;c=!0}else{if(!A)throw new W;h=!0}else if(y===0){if(C){if(!A)throw new W;a<u?(c=!0,m=!0):(f=!0,h=!0)}else if(A)throw new W}else throw new W;if(c){if(f)throw new W;Cn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Cn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new W;Cn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&Cn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ut.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ut.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ut.OUTSIDE_GSUM=[0,161,961,2015,2715],Ut.INSIDE_GSUM=[0,336,1036,1516],Ut.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ut.INSIDE_ODD_WIDEST=[2,4,6,8],Ut.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Fo extends jt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const a=i?i.get(Q.POSSIBLE_FORMATS):null,u=i&&i.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(we.EAN_13)||a.includes(we.UPC_A)||a.includes(we.EAN_8)||a.includes(we.UPC_E))&&this.readers.push(new td(i)),a.includes(we.CODE_39)&&this.readers.push(new Tt(u)),a.includes(we.CODE_128)&&this.readers.push(new he),a.includes(we.ITF)&&this.readers.push(new ut),a.includes(we.RSS_14)&&this.readers.push(new Ut),a.includes(we.RSS_EXPANDED)&&this.readers.push(new se(this.verbose))):(this.readers.push(new td(i)),this.readers.push(new Tt),this.readers.push(new td(i)),this.readers.push(new he),this.readers.push(new ut),this.readers.push(new Ut),this.readers.push(new se(this.verbose)))}decodeRow(i,o,a){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(i,o,a)}catch{}throw new W}reset(){this.readers.forEach(i=>i.reset())}}class WE extends dt{constructor(i=500,o){super(new Fo(o),i,o)}}class ot{constructor(i,o,a){this.ecCodewords=i,this.ecBlocks=[o],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class it{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Je{constructor(i,o,a,u,c,f){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=a,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=c,this.ecBlocks=f;let h=0;const m=f.getECCodewords(),y=f.getECBlocks();for(let C of y)h+=C.getCount()*(C.getDataCodewords()+m);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new V;for(let a of Je.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===o)return a;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new Je(1,10,10,8,8,new ot(5,new it(1,3))),new Je(2,12,12,10,10,new ot(7,new it(1,5))),new Je(3,14,14,12,12,new ot(10,new it(1,8))),new Je(4,16,16,14,14,new ot(12,new it(1,12))),new Je(5,18,18,16,16,new ot(14,new it(1,18))),new Je(6,20,20,18,18,new ot(18,new it(1,22))),new Je(7,22,22,20,20,new ot(20,new it(1,30))),new Je(8,24,24,22,22,new ot(24,new it(1,36))),new Je(9,26,26,24,24,new ot(28,new it(1,44))),new Je(10,32,32,14,14,new ot(36,new it(1,62))),new Je(11,36,36,16,16,new ot(42,new it(1,86))),new Je(12,40,40,18,18,new ot(48,new it(1,114))),new Je(13,44,44,20,20,new ot(56,new it(1,144))),new Je(14,48,48,22,22,new ot(68,new it(1,174))),new Je(15,52,52,24,24,new ot(42,new it(2,102))),new Je(16,64,64,14,14,new ot(56,new it(2,140))),new Je(17,72,72,16,16,new ot(36,new it(4,92))),new Je(18,80,80,18,18,new ot(48,new it(4,114))),new Je(19,88,88,20,20,new ot(56,new it(4,144))),new Je(20,96,96,22,22,new ot(68,new it(4,174))),new Je(21,104,104,24,24,new ot(56,new it(6,136))),new Je(22,120,120,18,18,new ot(68,new it(6,175))),new Je(23,132,132,20,20,new ot(62,new it(8,163))),new Je(24,144,144,22,22,new ot(62,new it(8,156),new it(2,155))),new Je(25,8,18,6,16,new ot(7,new it(1,5))),new Je(26,8,32,6,14,new ot(11,new it(1,10))),new Je(27,12,26,10,24,new ot(14,new it(1,16))),new Je(28,12,36,10,16,new ot(18,new it(1,22))),new Je(29,16,36,14,16,new ot(24,new it(1,32))),new Je(30,16,48,14,22,new ot(28,new it(1,49)))]}}Je.VERSIONS=Je.buildVersions();class sd{constructor(i){const o=i.getHeight();if(o<8||o>144||o&1)throw new V;this.version=sd.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new _e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),a=i.getWidth();return Je.getVersionForDimensions(o,a)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,a=4,u=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let h=!1,m=!1,y=!1,C=!1;do if(a===c&&u===0&&!h)i[o++]=this.readCorner1(c,f)&255,a-=2,u+=2,h=!0;else if(a===c-2&&u===0&&f&3&&!m)i[o++]=this.readCorner2(c,f)&255,a-=2,u+=2,m=!0;else if(a===c+4&&u===2&&!(f&7)&&!y)i[o++]=this.readCorner3(c,f)&255,a-=2,u+=2,y=!0;else if(a===c-2&&u===0&&(f&7)===4&&!C)i[o++]=this.readCorner4(c,f)&255,a-=2,u+=2,C=!0;else{do a<c&&u>=0&&!this.readMappingMatrix.get(u,a)&&(i[o++]=this.readUtah(a,u,c,f)&255),a-=2,u+=2;while(a>=0&&u<f);a+=1,u+=3;do a>=0&&u<f&&!this.readMappingMatrix.get(u,a)&&(i[o++]=this.readUtah(a,u,c,f)&255),a+=2,u-=2;while(a<c&&u>=0);a+=3,u+=1}while(a<c||u<f);if(o!==this.version.getTotalCodewords())throw new V;return i}readModule(i,o,a,u){return i<0&&(i+=a,o+=4-(a+4&7)),o<0&&(o+=u,i+=4-(u+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,a,u){let c=0;return this.readModule(i-2,o-2,a,u)&&(c|=1),c<<=1,this.readModule(i-2,o-1,a,u)&&(c|=1),c<<=1,this.readModule(i-1,o-2,a,u)&&(c|=1),c<<=1,this.readModule(i-1,o-1,a,u)&&(c|=1),c<<=1,this.readModule(i-1,o,a,u)&&(c|=1),c<<=1,this.readModule(i,o-2,a,u)&&(c|=1),c<<=1,this.readModule(i,o-1,a,u)&&(c|=1),c<<=1,this.readModule(i,o,a,u)&&(c|=1),c}readCorner1(i,o){let a=0;return this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,1,i,o)&&(a|=1),a<<=1,this.readModule(i-1,2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(2,o-1,i,o)&&(a|=1),a<<=1,this.readModule(3,o-1,i,o)&&(a|=1),a}readCorner2(i,o){let a=0;return this.readModule(i-3,0,i,o)&&(a|=1),a<<=1,this.readModule(i-2,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(0,o-4,i,o)&&(a|=1),a<<=1,this.readModule(0,o-3,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a}readCorner3(i,o){let a=0;return this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(0,o-3,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-3,i,o)&&(a|=1),a<<=1,this.readModule(1,o-2,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a}readCorner4(i,o){let a=0;return this.readModule(i-3,0,i,o)&&(a|=1),a<<=1,this.readModule(i-2,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(2,o-1,i,o)&&(a|=1),a<<=1,this.readModule(3,o-1,i,o)&&(a|=1),a}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new E("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=o/u|0,h=a/c|0,m=f*u,y=h*c,C=new _e(y,m);for(let A=0;A<f;++A){const R=A*u;for(let L=0;L<h;++L){const j=L*c;for(let U=0;U<u;++U){const G=A*(u+2)+1+U,J=R+U;for(let ue=0;ue<c;++ue){const fe=L*(c+2)+1+ue;if(i.get(fe,G)){const oe=j+ue;C.set(oe,J)}}}}}return C}}class od{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const a=o.getECBlocks();let u=0;const c=a.getECBlocks();for(let U of c)u+=U.getCount();const f=new Array(u);let h=0;for(let U of c)for(let G=0;G<U.getCount();G++){const J=U.getDataCodewords(),ue=a.getECCodewords()+J;f[h++]=new od(J,new Uint8Array(ue))}const y=f[0].codewords.length-a.getECCodewords(),C=y-1;let A=0;for(let U=0;U<C;U++)for(let G=0;G<h;G++)f[G].codewords[U]=i[A++];const R=o.getVersionNumber()===24,L=R?8:h;for(let U=0;U<L;U++)f[U].codewords[y-1]=i[A++];const j=f[0].codewords.length;for(let U=y;U<j;U++)for(let G=0;G<h;G++){const J=R?(G+8)%h:G,ue=R&&J>7?U-1:U;f[J].codewords[ue]=i[A++]}if(A!==i.length)throw new E;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ad{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new E(""+i);let o=0,a=this.bitOffset,u=this.byteOffset;const c=this.bytes;if(a>0){const f=8-a,h=i<f?i:f,m=f-h,y=255>>8-h<<m;o=(c[u]&y)>>m,i-=h,a+=h,a===8&&(a=0,u++)}if(i>0){for(;i>=8;)o=o<<8|c[u]&255,u++,i-=8;if(i>0){const f=8-i,h=255>>f<<f;o=o<<i|(c[u]&h)>>f,a+=i}}return this.bitOffset=a,this.byteOffset=u,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Kt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(Kt||(Kt={}));class Wi{static decode(i){const o=new ad(i),a=new ce,u=new ce,c=new Array;let f=Kt.ASCII_ENCODE;do if(f===Kt.ASCII_ENCODE)f=this.decodeAsciiSegment(o,a,u);else{switch(f){case Kt.C40_ENCODE:this.decodeC40Segment(o,a);break;case Kt.TEXT_ENCODE:this.decodeTextSegment(o,a);break;case Kt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,a);break;case Kt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,a);break;case Kt.BASE256_ENCODE:this.decodeBase256Segment(o,a,c);break;default:throw new V}f=Kt.ASCII_ENCODE}while(f!==Kt.PAD_ENCODE&&o.available()>0);return u.length()>0&&a.append(u.toString()),new En(i,a.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(i,o,a){let u=!1;do{let c=i.readBits(8);if(c===0)throw new V;if(c<=128)return u&&(c+=128),o.append(String.fromCharCode(c-1)),Kt.ASCII_ENCODE;if(c===129)return Kt.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&o.append("0"),o.append(""+f)}else switch(c){case 230:return Kt.C40_ENCODE;case 231:return Kt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:o.append("[)>05"),a.insert(0,"");break;case 237:o.append("[)>06"),a.insert(0,"");break;case 238:return Kt.ANSIX12_ENCODE;case 239:return Kt.TEXT_ENCODE;case 240:return Kt.EDIFACT_ENCODE;case 241:break;default:if(c!==254||i.available()!==0)throw new V;break}}while(i.available()>0);return Kt.ASCII_ENCODE}static decodeC40Segment(i,o){let a=!1;const u=[];let c=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),u);for(let h=0;h<3;h++){const m=u[h];switch(c){case 0:if(m<3)c=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[m];a?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):o.append(y)}else throw new V;break;case 1:a?(o.append(String.fromCharCode(m+128)),a=!1):o.append(String.fromCharCode(m)),c=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[m];a?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):o.append(y)}else switch(m){case 27:o.append("");break;case 30:a=!0;break;default:throw new V}c=0;break;case 3:a?(o.append(String.fromCharCode(m+224)),a=!1):o.append(String.fromCharCode(m+96)),c=0;break;default:throw new V}}}while(i.available()>0)}static decodeTextSegment(i,o){let a=!1,u=[],c=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),u);for(let h=0;h<3;h++){const m=u[h];switch(c){case 0:if(m<3)c=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[m];a?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):o.append(y)}else throw new V;break;case 1:a?(o.append(String.fromCharCode(m+128)),a=!1):o.append(String.fromCharCode(m)),c=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[m];a?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):o.append(y)}else switch(m){case 27:o.append("");break;case 30:a=!0;break;default:throw new V}c=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[m];a?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):o.append(y),c=0}else throw new V;break;default:throw new V}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const a=[];do{if(i.available()===8)return;const u=i.readBits(8);if(u===254)return;this.parseTwoBytes(u,i.readBits(8),a);for(let c=0;c<3;c++){const f=a[c];switch(f){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(f<14)o.append(String.fromCharCode(f+44));else if(f<40)o.append(String.fromCharCode(f+51));else throw new V;break}}}while(i.available()>0)}static parseTwoBytes(i,o,a){let u=(i<<8)+o-1,c=Math.floor(u/1600);a[0]=c,u-=c*1600,c=Math.floor(u/40),a[1]=c,a[2]=u-c*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let u=i.readBits(6);if(u===31){const c=8-i.getBitOffset();c!==8&&i.readBits(c);return}u&32||(u|=64),o.append(String.fromCharCode(u))}}while(i.available()>0)}static decodeBase256Segment(i,o,a){let u=1+i.getByteOffset();const c=this.unrandomize255State(i.readBits(8),u++);let f;if(c===0?f=i.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(i.readBits(8),u++),f<0)throw new V;const h=new Uint8Array(f);for(let m=0;m<f;m++){if(i.available()<8)throw new V;h[m]=this.unrandomize255State(i.readBits(8),u++)}a.push(h);try{o.append(ye.decode(h,re.ISO88591))}catch(m){throw new Ve("Platform does not support required encoding: "+m.message)}}static unrandomize255State(i,o){const a=149*o%255+1,u=i-a;return u>=0?u:u+256}}Wi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wi.TEXT_SHIFT2_SET_CHARS=Wi.C40_SHIFT2_SET_CHARS,Wi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class XE{constructor(){this.rsDecoder=new lt(xe.DATA_MATRIX_FIELD_256)}decode(i){const o=new sd(i),a=o.getVersion(),u=o.readCodewords(),c=od.getDataBlocks(u,a);let f=0;for(let y of c)f+=y.getNumDataCodewords();const h=new Uint8Array(f),m=c.length;for(let y=0;y<m;y++){const C=c[y],A=C.getCodewords(),R=C.getNumDataCodewords();this.correctErrors(A,R);for(let L=0;L<R;L++)h[L*m+y]=A[L]}return Wi.decode(h)}correctErrors(i,o){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-o)}catch{throw new I}for(let u=0;u<o;u++)i[u]=a[u]}}class $t{constructor(i){this.image=i,this.rectangleDetector=new me(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new W;o=this.shiftToModuleCenter(o);const a=o[0],u=o[1],c=o[2],f=o[3];let h=this.transitionsBetween(a,f)+1,m=this.transitionsBetween(c,f)+1;(h&1)===1&&(h+=1),(m&1)===1&&(m+=1),4*h<7*m&&4*m<7*h&&(h=m=Math.max(h,m));let y=$t.sampleGrid(this.image,a,u,c,f,h,m);return new X(y,[a,u,c,f])}static shiftPoint(i,o,a){let u=(o.getX()-i.getX())/(a+1),c=(o.getY()-i.getY())/(a+1);return new B(i.getX()+u,i.getY()+c)}static moveAway(i,o,a){let u=i.getX(),c=i.getY();return u<o?u-=1:u+=1,c<a?c-=1:c+=1,new B(u,c)}detectSolid1(i){let o=i[0],a=i[1],u=i[3],c=i[2],f=this.transitionsBetween(o,a),h=this.transitionsBetween(a,u),m=this.transitionsBetween(u,c),y=this.transitionsBetween(c,o),C=f,A=[c,o,a,u];return C>h&&(C=h,A[0]=o,A[1]=a,A[2]=u,A[3]=c),C>m&&(C=m,A[0]=a,A[1]=u,A[2]=c,A[3]=o),C>y&&(A[0]=u,A[1]=c,A[2]=o,A[3]=a),A}detectSolid2(i){let o=i[0],a=i[1],u=i[2],c=i[3],f=this.transitionsBetween(o,c),h=$t.shiftPoint(a,u,(f+1)*4),m=$t.shiftPoint(u,a,(f+1)*4),y=this.transitionsBetween(h,o),C=this.transitionsBetween(m,c);return y<C?(i[0]=o,i[1]=a,i[2]=u,i[3]=c):(i[0]=a,i[1]=u,i[2]=c,i[3]=o),i}correctTopRight(i){let o=i[0],a=i[1],u=i[2],c=i[3],f=this.transitionsBetween(o,c),h=this.transitionsBetween(a,c),m=$t.shiftPoint(o,a,(h+1)*4),y=$t.shiftPoint(u,a,(f+1)*4);f=this.transitionsBetween(m,c),h=this.transitionsBetween(y,c);let C=new B(c.getX()+(u.getX()-a.getX())/(f+1),c.getY()+(u.getY()-a.getY())/(f+1)),A=new B(c.getX()+(o.getX()-a.getX())/(h+1),c.getY()+(o.getY()-a.getY())/(h+1));if(!this.isValid(C))return this.isValid(A)?A:null;if(!this.isValid(A))return C;let R=this.transitionsBetween(m,C)+this.transitionsBetween(y,C),L=this.transitionsBetween(m,A)+this.transitionsBetween(y,A);return R>L?C:A}shiftToModuleCenter(i){let o=i[0],a=i[1],u=i[2],c=i[3],f=this.transitionsBetween(o,c)+1,h=this.transitionsBetween(u,c)+1,m=$t.shiftPoint(o,a,h*4),y=$t.shiftPoint(u,a,f*4);f=this.transitionsBetween(m,c)+1,h=this.transitionsBetween(y,c)+1,(f&1)===1&&(f+=1),(h&1)===1&&(h+=1);let C=(o.getX()+a.getX()+u.getX()+c.getX())/4,A=(o.getY()+a.getY()+u.getY()+c.getY())/4;o=$t.moveAway(o,C,A),a=$t.moveAway(a,C,A),u=$t.moveAway(u,C,A),c=$t.moveAway(c,C,A);let R,L;return m=$t.shiftPoint(o,a,h*4),m=$t.shiftPoint(m,c,f*4),R=$t.shiftPoint(a,o,h*4),R=$t.shiftPoint(R,u,f*4),y=$t.shiftPoint(u,c,h*4),y=$t.shiftPoint(y,a,f*4),L=$t.shiftPoint(c,u,h*4),L=$t.shiftPoint(L,o,f*4),[m,R,y,L]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,a,u,c,f,h){return Xe.getInstance().sampleGrid(i,f,h,.5,.5,f-.5,.5,f-.5,h-.5,.5,h-.5,o.getX(),o.getY(),c.getX(),c.getY(),u.getX(),u.getY(),a.getX(),a.getY())}transitionsBetween(i,o){let a=Math.trunc(i.getX()),u=Math.trunc(i.getY()),c=Math.trunc(o.getX()),f=Math.trunc(o.getY()),h=Math.abs(f-u)>Math.abs(c-a);if(h){let U=a;a=u,u=U,U=c,c=f,f=U}let m=Math.abs(c-a),y=Math.abs(f-u),C=-m/2,A=u<f?1:-1,R=a<c?1:-1,L=0,j=this.image.get(h?u:a,h?a:u);for(let U=a,G=u;U!==c;U+=R){let J=this.image.get(h?G:U,h?U:G);if(J!==j&&(L++,j=J),C+=y,C>0){if(G===f)break;G+=A,C-=m}}return L}}class Xi{constructor(){this.decoder=new XE}decode(i,o=null){let a,u;if(o!=null&&o.has(Q.PURE_BARCODE)){const y=Xi.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(y),u=Xi.NO_POINTS}else{const y=new $t(i.getBlackMatrix()).detect();a=this.decoder.decode(y.getBits()),u=y.getPoints()}const c=a.getRawBytes(),f=new Ee(a.getText(),c,8*c.length,u,we.DATA_MATRIX,O.currentTimeMillis()),h=a.getByteSegments();h!=null&&f.putMetadata(st.BYTE_SEGMENTS,h);const m=a.getECLevel();return m!=null&&f.putMetadata(st.ERROR_CORRECTION_LEVEL,m),f}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(o==null||a==null)throw new W;const u=this.moduleSize(o,i);let c=o[1];const f=a[1];let h=o[0];const y=(a[0]-h+1)/u,C=(f-c+1)/u;if(y<=0||C<=0)throw new W;const A=u/2;c+=A,h+=A;const R=new _e(y,C);for(let L=0;L<C;L++){const j=c+L*u;for(let U=0;U<y;U++)i.get(h+U*u,j)&&R.set(U,L)}return R}static moduleSize(i,o){const a=o.getWidth();let u=i[0];const c=i[1];for(;u<a&&o.get(u,c);)u++;if(u===a)throw new W;const f=u-i[0];if(f===0)throw new W;return f}}Xi.NO_POINTS=[];class YE extends dt{constructor(i=500){super(new Xi,i)}}var jo;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(jo||(jo={}));class xt{constructor(i,o,a){this.value=i,this.stringValue=o,this.bits=a,xt.FOR_BITS.set(a,this),xt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return xt.L;case"M":return xt.M;case"Q":return xt.Q;case"H":return xt.H;default:throw new v(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof xt))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=xt.FOR_BITS.size)throw new E;return xt.FOR_BITS.get(i)}}xt.FOR_BITS=new Map,xt.FOR_VALUE=new Map,xt.L=new xt(jo.L,"L",1),xt.M=new xt(jo.M,"M",0),xt.Q=new xt(jo.Q,"Q",3),xt.H=new xt(jo.H,"H",2);class Sn{constructor(i){this.errorCorrectionLevel=xt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return T.bitCount(i^o)}static decodeFormatInformation(i,o){const a=Sn.doDecodeFormatInformation(i,o);return a!==null?a:Sn.doDecodeFormatInformation(i^Sn.FORMAT_INFO_MASK_QR,o^Sn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let a=Number.MAX_SAFE_INTEGER,u=0;for(const c of Sn.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===i||f===o)return new Sn(c[1]);let h=Sn.numBitsDiffering(i,f);h<a&&(u=c[1],a=h),i!==o&&(h=Sn.numBitsDiffering(o,f),h<a&&(u=c[1],a=h))}return a<=3?new Sn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Sn))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Sn.FORMAT_INFO_MASK_QR=21522,Sn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ${constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const a of o)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Te{constructor(i,o,...a){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=a;let u=0;const c=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();for(const h of f)u+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new V;try{return this.getVersionForNumber((i-17)/4)}catch{throw new V}}static getVersionForNumber(i){if(i<1||i>40)throw new E;return Te.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,a=0;for(let u=0;u<Te.VERSION_DECODE_INFO.length;u++){const c=Te.VERSION_DECODE_INFO[u];if(c===i)return Te.getVersionForNumber(u+7);const f=Sn.numBitsDiffering(i,c);f<o&&(a=u+7,o=f)}return o<=3?Te.getVersionForNumber(a):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new _e(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const a=this.alignmentPatternCenters.length;for(let u=0;u<a;u++){const c=this.alignmentPatternCenters[u]-2;for(let f=0;f<a;f++)u===0&&(f===0||f===a-1)||u===a-1&&f===0||o.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}Te.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Te.VERSIONS=[new Te(1,new Int32Array(0),new $(7,new D(1,19)),new $(10,new D(1,16)),new $(13,new D(1,13)),new $(17,new D(1,9))),new Te(2,Int32Array.from([6,18]),new $(10,new D(1,34)),new $(16,new D(1,28)),new $(22,new D(1,22)),new $(28,new D(1,16))),new Te(3,Int32Array.from([6,22]),new $(15,new D(1,55)),new $(26,new D(1,44)),new $(18,new D(2,17)),new $(22,new D(2,13))),new Te(4,Int32Array.from([6,26]),new $(20,new D(1,80)),new $(18,new D(2,32)),new $(26,new D(2,24)),new $(16,new D(4,9))),new Te(5,Int32Array.from([6,30]),new $(26,new D(1,108)),new $(24,new D(2,43)),new $(18,new D(2,15),new D(2,16)),new $(22,new D(2,11),new D(2,12))),new Te(6,Int32Array.from([6,34]),new $(18,new D(2,68)),new $(16,new D(4,27)),new $(24,new D(4,19)),new $(28,new D(4,15))),new Te(7,Int32Array.from([6,22,38]),new $(20,new D(2,78)),new $(18,new D(4,31)),new $(18,new D(2,14),new D(4,15)),new $(26,new D(4,13),new D(1,14))),new Te(8,Int32Array.from([6,24,42]),new $(24,new D(2,97)),new $(22,new D(2,38),new D(2,39)),new $(22,new D(4,18),new D(2,19)),new $(26,new D(4,14),new D(2,15))),new Te(9,Int32Array.from([6,26,46]),new $(30,new D(2,116)),new $(22,new D(3,36),new D(2,37)),new $(20,new D(4,16),new D(4,17)),new $(24,new D(4,12),new D(4,13))),new Te(10,Int32Array.from([6,28,50]),new $(18,new D(2,68),new D(2,69)),new $(26,new D(4,43),new D(1,44)),new $(24,new D(6,19),new D(2,20)),new $(28,new D(6,15),new D(2,16))),new Te(11,Int32Array.from([6,30,54]),new $(20,new D(4,81)),new $(30,new D(1,50),new D(4,51)),new $(28,new D(4,22),new D(4,23)),new $(24,new D(3,12),new D(8,13))),new Te(12,Int32Array.from([6,32,58]),new $(24,new D(2,92),new D(2,93)),new $(22,new D(6,36),new D(2,37)),new $(26,new D(4,20),new D(6,21)),new $(28,new D(7,14),new D(4,15))),new Te(13,Int32Array.from([6,34,62]),new $(26,new D(4,107)),new $(22,new D(8,37),new D(1,38)),new $(24,new D(8,20),new D(4,21)),new $(22,new D(12,11),new D(4,12))),new Te(14,Int32Array.from([6,26,46,66]),new $(30,new D(3,115),new D(1,116)),new $(24,new D(4,40),new D(5,41)),new $(20,new D(11,16),new D(5,17)),new $(24,new D(11,12),new D(5,13))),new Te(15,Int32Array.from([6,26,48,70]),new $(22,new D(5,87),new D(1,88)),new $(24,new D(5,41),new D(5,42)),new $(30,new D(5,24),new D(7,25)),new $(24,new D(11,12),new D(7,13))),new Te(16,Int32Array.from([6,26,50,74]),new $(24,new D(5,98),new D(1,99)),new $(28,new D(7,45),new D(3,46)),new $(24,new D(15,19),new D(2,20)),new $(30,new D(3,15),new D(13,16))),new Te(17,Int32Array.from([6,30,54,78]),new $(28,new D(1,107),new D(5,108)),new $(28,new D(10,46),new D(1,47)),new $(28,new D(1,22),new D(15,23)),new $(28,new D(2,14),new D(17,15))),new Te(18,Int32Array.from([6,30,56,82]),new $(30,new D(5,120),new D(1,121)),new $(26,new D(9,43),new D(4,44)),new $(28,new D(17,22),new D(1,23)),new $(28,new D(2,14),new D(19,15))),new Te(19,Int32Array.from([6,30,58,86]),new $(28,new D(3,113),new D(4,114)),new $(26,new D(3,44),new D(11,45)),new $(26,new D(17,21),new D(4,22)),new $(26,new D(9,13),new D(16,14))),new Te(20,Int32Array.from([6,34,62,90]),new $(28,new D(3,107),new D(5,108)),new $(26,new D(3,41),new D(13,42)),new $(30,new D(15,24),new D(5,25)),new $(28,new D(15,15),new D(10,16))),new Te(21,Int32Array.from([6,28,50,72,94]),new $(28,new D(4,116),new D(4,117)),new $(26,new D(17,42)),new $(28,new D(17,22),new D(6,23)),new $(30,new D(19,16),new D(6,17))),new Te(22,Int32Array.from([6,26,50,74,98]),new $(28,new D(2,111),new D(7,112)),new $(28,new D(17,46)),new $(30,new D(7,24),new D(16,25)),new $(24,new D(34,13))),new Te(23,Int32Array.from([6,30,54,78,102]),new $(30,new D(4,121),new D(5,122)),new $(28,new D(4,47),new D(14,48)),new $(30,new D(11,24),new D(14,25)),new $(30,new D(16,15),new D(14,16))),new Te(24,Int32Array.from([6,28,54,80,106]),new $(30,new D(6,117),new D(4,118)),new $(28,new D(6,45),new D(14,46)),new $(30,new D(11,24),new D(16,25)),new $(30,new D(30,16),new D(2,17))),new Te(25,Int32Array.from([6,32,58,84,110]),new $(26,new D(8,106),new D(4,107)),new $(28,new D(8,47),new D(13,48)),new $(30,new D(7,24),new D(22,25)),new $(30,new D(22,15),new D(13,16))),new Te(26,Int32Array.from([6,30,58,86,114]),new $(28,new D(10,114),new D(2,115)),new $(28,new D(19,46),new D(4,47)),new $(28,new D(28,22),new D(6,23)),new $(30,new D(33,16),new D(4,17))),new Te(27,Int32Array.from([6,34,62,90,118]),new $(30,new D(8,122),new D(4,123)),new $(28,new D(22,45),new D(3,46)),new $(30,new D(8,23),new D(26,24)),new $(30,new D(12,15),new D(28,16))),new Te(28,Int32Array.from([6,26,50,74,98,122]),new $(30,new D(3,117),new D(10,118)),new $(28,new D(3,45),new D(23,46)),new $(30,new D(4,24),new D(31,25)),new $(30,new D(11,15),new D(31,16))),new Te(29,Int32Array.from([6,30,54,78,102,126]),new $(30,new D(7,116),new D(7,117)),new $(28,new D(21,45),new D(7,46)),new $(30,new D(1,23),new D(37,24)),new $(30,new D(19,15),new D(26,16))),new Te(30,Int32Array.from([6,26,52,78,104,130]),new $(30,new D(5,115),new D(10,116)),new $(28,new D(19,47),new D(10,48)),new $(30,new D(15,24),new D(25,25)),new $(30,new D(23,15),new D(25,16))),new Te(31,Int32Array.from([6,30,56,82,108,134]),new $(30,new D(13,115),new D(3,116)),new $(28,new D(2,46),new D(29,47)),new $(30,new D(42,24),new D(1,25)),new $(30,new D(23,15),new D(28,16))),new Te(32,Int32Array.from([6,34,60,86,112,138]),new $(30,new D(17,115)),new $(28,new D(10,46),new D(23,47)),new $(30,new D(10,24),new D(35,25)),new $(30,new D(19,15),new D(35,16))),new Te(33,Int32Array.from([6,30,58,86,114,142]),new $(30,new D(17,115),new D(1,116)),new $(28,new D(14,46),new D(21,47)),new $(30,new D(29,24),new D(19,25)),new $(30,new D(11,15),new D(46,16))),new Te(34,Int32Array.from([6,34,62,90,118,146]),new $(30,new D(13,115),new D(6,116)),new $(28,new D(14,46),new D(23,47)),new $(30,new D(44,24),new D(7,25)),new $(30,new D(59,16),new D(1,17))),new Te(35,Int32Array.from([6,30,54,78,102,126,150]),new $(30,new D(12,121),new D(7,122)),new $(28,new D(12,47),new D(26,48)),new $(30,new D(39,24),new D(14,25)),new $(30,new D(22,15),new D(41,16))),new Te(36,Int32Array.from([6,24,50,76,102,128,154]),new $(30,new D(6,121),new D(14,122)),new $(28,new D(6,47),new D(34,48)),new $(30,new D(46,24),new D(10,25)),new $(30,new D(2,15),new D(64,16))),new Te(37,Int32Array.from([6,28,54,80,106,132,158]),new $(30,new D(17,122),new D(4,123)),new $(28,new D(29,46),new D(14,47)),new $(30,new D(49,24),new D(10,25)),new $(30,new D(24,15),new D(46,16))),new Te(38,Int32Array.from([6,32,58,84,110,136,162]),new $(30,new D(4,122),new D(18,123)),new $(28,new D(13,46),new D(32,47)),new $(30,new D(48,24),new D(14,25)),new $(30,new D(42,15),new D(32,16))),new Te(39,Int32Array.from([6,26,54,82,110,138,166]),new $(30,new D(20,117),new D(4,118)),new $(28,new D(40,47),new D(7,48)),new $(30,new D(43,24),new D(22,25)),new $(30,new D(10,15),new D(67,16))),new Te(40,Int32Array.from([6,30,58,86,114,142,170]),new $(30,new D(19,118),new D(6,119)),new $(28,new D(18,47),new D(31,48)),new $(30,new D(34,24),new D(34,25)),new $(30,new D(20,15),new D(61,16)))];var an;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(an||(an={}));class Er{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let a=0;a<o;a++)for(let u=0;u<o;u++)this.isMasked(a,u)&&i.flip(u,a)}}Er.values=new Map([[an.DATA_MASK_000,new Er(an.DATA_MASK_000,(S,i)=>(S+i&1)===0)],[an.DATA_MASK_001,new Er(an.DATA_MASK_001,(S,i)=>(S&1)===0)],[an.DATA_MASK_010,new Er(an.DATA_MASK_010,(S,i)=>i%3===0)],[an.DATA_MASK_011,new Er(an.DATA_MASK_011,(S,i)=>(S+i)%3===0)],[an.DATA_MASK_100,new Er(an.DATA_MASK_100,(S,i)=>(Math.floor(S/2)+Math.floor(i/3)&1)===0)],[an.DATA_MASK_101,new Er(an.DATA_MASK_101,(S,i)=>S*i%6===0)],[an.DATA_MASK_110,new Er(an.DATA_MASK_110,(S,i)=>S*i%6<3)],[an.DATA_MASK_111,new Er(an.DATA_MASK_111,(S,i)=>(S+i+S*i%3&1)===0)]]);class QE{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new V;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let c=0;c<6;c++)i=this.copyBit(c,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let c=5;c>=0;c--)i=this.copyBit(8,c,i);const o=this.bitMatrix.getHeight();let a=0;const u=o-7;for(let c=o-1;c>=u;c--)a=this.copyBit(8,c,a);for(let c=o-8;c<o;c++)a=this.copyBit(c,8,a);if(this.parsedFormatInfo=Sn.decodeFormatInformation(i,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return Te.getVersionForNumber(o);let a=0;const u=i-11;for(let f=5;f>=0;f--)for(let h=i-9;h>=u;h--)a=this.copyBit(h,f,a);let c=Te.decodeVersionInformation(a);if(c!==null&&c.getDimensionForVersion()===i)return this.parsedVersion=c,c;a=0;for(let f=5;f>=0;f--)for(let h=i-9;h>=u;h--)a=this.copyBit(f,h,a);if(c=Te.decodeVersionInformation(a),c!==null&&c.getDimensionForVersion()===i)return this.parsedVersion=c,c;throw new V}copyBit(i,o,a){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?a<<1|1:a<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),a=Er.values.get(i.getDataMask()),u=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,u);const c=o.buildFunctionPattern();let f=!0;const h=new Uint8Array(o.getTotalCodewords());let m=0,y=0,C=0;for(let A=u-1;A>0;A-=2){A===6&&A--;for(let R=0;R<u;R++){const L=f?u-1-R:R;for(let j=0;j<2;j++)c.get(A-j,L)||(C++,y<<=1,this.bitMatrix.get(A-j,L)&&(y|=1),C===8&&(h[m++]=y,C=0,y=0))}f=!f}if(m!==o.getTotalCodewords())throw new V;return h}remask(){if(this.parsedFormatInfo===null)return;const i=Er.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,a=i.getWidth();o<a;o++)for(let u=o+1,c=i.getHeight();u<c;u++)i.get(o,u)!==i.get(u,o)&&(i.flip(u,o),i.flip(o,u))}}class ld{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,a){if(i.length!==o.getTotalCodewords())throw new E;const u=o.getECBlocksForLevel(a);let c=0;const f=u.getECBlocks();for(const j of f)c+=j.getCount();const h=new Array(c);let m=0;for(const j of f)for(let U=0;U<j.getCount();U++){const G=j.getDataCodewords(),J=u.getECCodewordsPerBlock()+G;h[m++]=new ld(G,new Uint8Array(J))}const y=h[0].codewords.length;let C=h.length-1;for(;C>=0&&h[C].codewords.length!==y;)C--;C++;const A=y-u.getECCodewordsPerBlock();let R=0;for(let j=0;j<A;j++)for(let U=0;U<m;U++)h[U].codewords[j]=i[R++];for(let j=C;j<m;j++)h[j].codewords[A]=i[R++];const L=h[0].codewords.length;for(let j=A;j<L;j++)for(let U=0;U<m;U++){const G=U<C?j:j+1;h[U].codewords[G]=i[R++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Cr;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(Cr||(Cr={}));class De{constructor(i,o,a,u){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=a,this.bits=u,De.FOR_BITS.set(u,this),De.FOR_VALUE.set(i,this)}static forBits(i){const o=De.FOR_BITS.get(i);if(o===void 0)throw new E;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let a;return o<=9?a=0:o<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof De))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(Cr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(Cr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(Cr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(Cr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(Cr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(Cr.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(Cr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(Cr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(Cr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(Cr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Rt{static decode(i,o,a,u){const c=new ad(i);let f=new ce;const h=new Array;let m=-1,y=-1;try{let C=null,A=!1,R;do{if(c.available()<4)R=De.TERMINATOR;else{const L=c.readBits(4);R=De.forBits(L)}switch(R){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:A=!0;break;case De.STRUCTURED_APPEND:if(c.available()<16)throw new V;m=c.readBits(8),y=c.readBits(8);break;case De.ECI:const L=Rt.parseECIValue(c);if(C=q.getCharacterSetECIByValue(L),C===null)throw new V;break;case De.HANZI:const j=c.readBits(4),U=c.readBits(R.getCharacterCountBits(o));j===Rt.GB2312_SUBSET&&Rt.decodeHanziSegment(c,f,U);break;default:const G=c.readBits(R.getCharacterCountBits(o));switch(R){case De.NUMERIC:Rt.decodeNumericSegment(c,f,G);break;case De.ALPHANUMERIC:Rt.decodeAlphanumericSegment(c,f,G,A);break;case De.BYTE:Rt.decodeByteSegment(c,f,G,C,h,u);break;case De.KANJI:Rt.decodeKanjiSegment(c,f,G);break;default:throw new V}break}}while(R!==De.TERMINATOR)}catch{throw new V}return new En(i,f.toString(),h.length===0?null:h,a===null?null:a.toString(),m,y)}static decodeHanziSegment(i,o,a){if(a*13>i.available())throw new V;const u=new Uint8Array(2*a);let c=0;for(;a>0;){const f=i.readBits(13);let h=f/96<<8&4294967295|f%96;h<959?h+=41377:h+=42657,u[c]=h>>8&255,u[c+1]=h&255,c+=2,a--}try{o.append(ye.decode(u,re.GB2312))}catch(f){throw new V(f)}}static decodeKanjiSegment(i,o,a){if(a*13>i.available())throw new V;const u=new Uint8Array(2*a);let c=0;for(;a>0;){const f=i.readBits(13);let h=f/192<<8&4294967295|f%192;h<7936?h+=33088:h+=49472,u[c]=h>>8,u[c+1]=h,c+=2,a--}try{o.append(ye.decode(u,re.SHIFT_JIS))}catch(f){throw new V(f)}}static decodeByteSegment(i,o,a,u,c,f){if(8*a>i.available())throw new V;const h=new Uint8Array(a);for(let y=0;y<a;y++)h[y]=i.readBits(8);let m;u===null?m=re.guessEncoding(h,f):m=u.getName();try{o.append(ye.decode(h,m))}catch(y){throw new V(y)}c.push(h)}static toAlphaNumericChar(i){if(i>=Rt.ALPHANUMERIC_CHARS.length)throw new V;return Rt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,a,u){const c=o.length();for(;a>1;){if(i.available()<11)throw new V;const f=i.readBits(11);o.append(Rt.toAlphaNumericChar(Math.floor(f/45))),o.append(Rt.toAlphaNumericChar(f%45)),a-=2}if(a===1){if(i.available()<6)throw new V;o.append(Rt.toAlphaNumericChar(i.readBits(6)))}if(u)for(let f=c;f<o.length();f++)o.charAt(f)==="%"&&(f<o.length()-1&&o.charAt(f+1)==="%"?o.deleteCharAt(f+1):o.setCharAt(f,""))}static decodeNumericSegment(i,o,a){for(;a>=3;){if(i.available()<10)throw new V;const u=i.readBits(10);if(u>=1e3)throw new V;o.append(Rt.toAlphaNumericChar(Math.floor(u/100))),o.append(Rt.toAlphaNumericChar(Math.floor(u/10)%10)),o.append(Rt.toAlphaNumericChar(u%10)),a-=3}if(a===2){if(i.available()<7)throw new V;const u=i.readBits(7);if(u>=100)throw new V;o.append(Rt.toAlphaNumericChar(Math.floor(u/10))),o.append(Rt.toAlphaNumericChar(u%10))}else if(a===1){if(i.available()<4)throw new V;const u=i.readBits(4);if(u>=10)throw new V;o.append(Rt.toAlphaNumericChar(u))}}static parseECIValue(i){const o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const a=i.readBits(8);return(o&63)<<8&4294967295|a}if((o&224)===192){const a=i.readBits(16);return(o&31)<<16&4294967295|a}throw new V}}Rt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Rt.GB2312_SUBSET=1;class ep{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class qE{constructor(){this.rsDecoder=new lt(xe.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(_e.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const a=new QE(i);let u=null;try{return this.decodeBitMatrixParser(a,o)}catch(c){u=c}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const c=this.decodeBitMatrixParser(a,o);return c.setOther(new ep(!0)),c}catch(c){throw u!==null?u:c}}decodeBitMatrixParser(i,o){const a=i.readVersion(),u=i.readFormatInformation().getErrorCorrectionLevel(),c=i.readCodewords(),f=ld.getDataBlocks(c,a,u);let h=0;for(const C of f)h+=C.getNumDataCodewords();const m=new Uint8Array(h);let y=0;for(const C of f){const A=C.getCodewords(),R=C.getNumDataCodewords();this.correctErrors(A,R);for(let L=0;L<R;L++)m[y++]=A[L]}return Rt.decode(m,a,u,o)}correctErrors(i,o){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-o)}catch{throw new I}for(let u=0;u<o;u++)i[u]=a[u]}}class ud extends B{constructor(i,o,a){super(i,o),this.estimatedModuleSize=a}aboutEquals(i,o,a){if(Math.abs(o-this.getY())<=i&&Math.abs(a-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,o,a){const u=(this.getX()+o)/2,c=(this.getY()+i)/2,f=(this.estimatedModuleSize+a)/2;return new ud(u,c,f)}}class Ou{constructor(i,o,a,u,c,f,h){this.image=i,this.startX=o,this.startY=a,this.width=u,this.height=c,this.moduleSize=f,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,a=this.width,u=i+a,c=this.startY+o/2,f=new Int32Array(3),h=this.image;for(let m=0;m<o;m++){const y=c+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=i;for(;C<u&&!h.get(C,y);)C++;let A=0;for(;C<u;){if(h.get(C,y))if(A===1)f[1]++;else if(A===2){if(this.foundPatternCross(f)){const R=this.handlePossibleCenter(f,y,C);if(R!==null)return R}f[0]=f[2],f[1]=1,f[2]=0,A=1}else f[++A]++;else A===1&&A++,f[A]++;C++}if(this.foundPatternCross(f)){const R=this.handlePossibleCenter(f,y,u);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,a=o/2;for(let u=0;u<3;u++)if(Math.abs(o-i[u])>=a)return!1;return!0}crossCheckVertical(i,o,a,u){const c=this.image,f=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let m=i;for(;m>=0&&c.get(o,m)&&h[1]<=a;)h[1]++,m--;if(m<0||h[1]>a)return NaN;for(;m>=0&&!c.get(o,m)&&h[0]<=a;)h[0]++,m--;if(h[0]>a)return NaN;for(m=i+1;m<f&&c.get(o,m)&&h[1]<=a;)h[1]++,m++;if(m===f||h[1]>a)return NaN;for(;m<f&&!c.get(o,m)&&h[2]<=a;)h[2]++,m++;if(h[2]>a)return NaN;const y=h[0]+h[1]+h[2];return 5*Math.abs(y-u)>=2*u?NaN:this.foundPatternCross(h)?Ou.centerFromEnd(h,m):NaN}handlePossibleCenter(i,o,a){const u=i[0]+i[1]+i[2],c=Ou.centerFromEnd(i,a),f=this.crossCheckVertical(o,c,2*i[1],u);if(!isNaN(f)){const h=(i[0]+i[1]+i[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(h,f,c))return y.combineEstimate(f,c,h);const m=new ud(c,f,h);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class cd extends B{constructor(i,o,a,u){super(i,o),this.estimatedModuleSize=a,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,a){if(Math.abs(o-this.getY())<=i&&Math.abs(a-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,o,a){const u=this.count+1,c=(this.count*this.getX()+o)/u,f=(this.count*this.getY()+i)/u,h=(this.count*this.estimatedModuleSize+a)/u;return new cd(c,f,h,u)}}class ZE{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ln{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(Q.TRY_HARDER)!==void 0,a=i!=null&&i.get(Q.PURE_BARCODE)!==void 0,u=this.image,c=u.getHeight(),f=u.getWidth();let h=Math.floor(3*c/(4*ln.MAX_MODULES));(h<ln.MIN_SKIP||o)&&(h=ln.MIN_SKIP);let m=!1;const y=new Int32Array(5);for(let A=h-1;A<c&&!m;A+=h){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let R=0;for(let L=0;L<f;L++)if(u.get(L,A))(R&1)===1&&R++,y[R]++;else if(R&1)y[R]++;else if(R===4)if(ln.foundPatternCross(y)){if(this.handlePossibleCenter(y,A,L,a)===!0)if(h=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>y[2]&&(A+=U-y[2]-h,L=f-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,R=3;continue}R=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,R=3;else y[++R]++;ln.foundPatternCross(y)&&this.handlePossibleCenter(y,A,f,a)===!0&&(h=y[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return B.orderBestPatterns(C),new ZE(C)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let c=0;c<5;c++){const f=i[c];if(f===0)return!1;o+=f}if(o<7)return!1;const a=o/7,u=a/2;return Math.abs(a-i[0])<u&&Math.abs(a-i[1])<u&&Math.abs(3*a-i[2])<3*u&&Math.abs(a-i[3])<u&&Math.abs(a-i[4])<u}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,a,u){const c=this.getCrossCheckStateCount();let f=0;const h=this.image;for(;i>=f&&o>=f&&h.get(o-f,i-f);)c[2]++,f++;if(i<f||o<f)return!1;for(;i>=f&&o>=f&&!h.get(o-f,i-f)&&c[1]<=a;)c[1]++,f++;if(i<f||o<f||c[1]>a)return!1;for(;i>=f&&o>=f&&h.get(o-f,i-f)&&c[0]<=a;)c[0]++,f++;if(c[0]>a)return!1;const m=h.getHeight(),y=h.getWidth();for(f=1;i+f<m&&o+f<y&&h.get(o+f,i+f);)c[2]++,f++;if(i+f>=m||o+f>=y)return!1;for(;i+f<m&&o+f<y&&!h.get(o+f,i+f)&&c[3]<a;)c[3]++,f++;if(i+f>=m||o+f>=y||c[3]>=a)return!1;for(;i+f<m&&o+f<y&&h.get(o+f,i+f)&&c[4]<a;)c[4]++,f++;if(c[4]>=a)return!1;const C=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(C-u)<2*u&&ln.foundPatternCross(c)}crossCheckVertical(i,o,a,u){const c=this.image,f=c.getHeight(),h=this.getCrossCheckStateCount();let m=i;for(;m>=0&&c.get(o,m);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!c.get(o,m)&&h[1]<=a;)h[1]++,m--;if(m<0||h[1]>a)return NaN;for(;m>=0&&c.get(o,m)&&h[0]<=a;)h[0]++,m--;if(h[0]>a)return NaN;for(m=i+1;m<f&&c.get(o,m);)h[2]++,m++;if(m===f)return NaN;for(;m<f&&!c.get(o,m)&&h[3]<a;)h[3]++,m++;if(m===f||h[3]>=a)return NaN;for(;m<f&&c.get(o,m)&&h[4]<a;)h[4]++,m++;if(h[4]>=a)return NaN;const y=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(y-u)>=2*u?NaN:ln.foundPatternCross(h)?ln.centerFromEnd(h,m):NaN}crossCheckHorizontal(i,o,a,u){const c=this.image,f=c.getWidth(),h=this.getCrossCheckStateCount();let m=i;for(;m>=0&&c.get(m,o);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!c.get(m,o)&&h[1]<=a;)h[1]++,m--;if(m<0||h[1]>a)return NaN;for(;m>=0&&c.get(m,o)&&h[0]<=a;)h[0]++,m--;if(h[0]>a)return NaN;for(m=i+1;m<f&&c.get(m,o);)h[2]++,m++;if(m===f)return NaN;for(;m<f&&!c.get(m,o)&&h[3]<a;)h[3]++,m++;if(m===f||h[3]>=a)return NaN;for(;m<f&&c.get(m,o)&&h[4]<a;)h[4]++,m++;if(h[4]>=a)return NaN;const y=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(y-u)>=u?NaN:ln.foundPatternCross(h)?ln.centerFromEnd(h,m):NaN}handlePossibleCenter(i,o,a,u){const c=i[0]+i[1]+i[2]+i[3]+i[4];let f=ln.centerFromEnd(i,a),h=this.crossCheckVertical(o,Math.floor(f),i[2],c);if(!isNaN(h)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(h),i[2],c),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(h),Math.floor(f),i[2],c)))){const m=c/7;let y=!1;const C=this.possibleCenters;for(let A=0,R=C.length;A<R;A++){const L=C[A];if(L.aboutEquals(m,h,f)){C[A]=L.combineEstimate(h,f,m),y=!0;break}}if(!y){const A=new cd(f,h,m);C.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const a of this.possibleCenters)if(a.getCount()>=ln.CENTER_QUORUM)if(o==null)o=a;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-a.getX())-Math.abs(o.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const a=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=ln.CENTER_QUORUM&&(i++,o+=f.getEstimatedModuleSize());if(i<3)return!1;const u=o/a;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-u);return c<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new W;const o=this.possibleCenters;let a;if(i>3){let u=0,c=0;for(const m of this.possibleCenters){const y=m.getEstimatedModuleSize();u+=y,c+=y*y}a=u/i;let f=Math.sqrt(c/i-a*a);o.sort((m,y)=>{const C=Math.abs(y.getEstimatedModuleSize()-a),A=Math.abs(m.getEstimatedModuleSize()-a);return C<A?-1:C>A?1:0});const h=Math.max(.2*a,f);for(let m=0;m<o.length&&o.length>3;m++){const y=o[m];Math.abs(y.getEstimatedModuleSize()-a)>h&&(o.splice(m,1),m--)}}if(o.length>3){let u=0;for(const c of o)u+=c.getEstimatedModuleSize();a=u/o.length,o.sort((c,f)=>{if(f.getCount()===c.getCount()){const h=Math.abs(f.getEstimatedModuleSize()-a),m=Math.abs(c.getEstimatedModuleSize()-a);return h<m?1:h>m?-1:0}else return f.getCount()-c.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}ln.CENTER_QUORUM=2,ln.MIN_SKIP=3,ln.MAX_MODULES=57;class Za{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(Q.NEED_RESULT_POINT_CALLBACK);const a=new ln(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){const o=i.getTopLeft(),a=i.getTopRight(),u=i.getBottomLeft(),c=this.calculateModuleSize(o,a,u);if(c<1)throw new W("No pattern found in proccess finder.");const f=Za.computeDimension(o,a,u,c),h=Te.getProvisionalVersionForDimension(f),m=h.getDimensionForVersion()-7;let y=null;if(h.getAlignmentPatternCenters().length>0){const L=a.getX()-o.getX()+u.getX(),j=a.getY()-o.getY()+u.getY(),U=1-3/m,G=Math.floor(o.getX()+U*(L-o.getX())),J=Math.floor(o.getY()+U*(j-o.getY()));for(let ue=4;ue<=16;ue<<=1)try{y=this.findAlignmentInRegion(c,G,J,ue);break}catch(fe){if(!(fe instanceof W))throw fe}}const C=Za.createTransform(o,a,u,y,f),A=Za.sampleGrid(this.image,C,f);let R;return y===null?R=[u,o,a]:R=[u,o,a,y],new X(A,R)}static createTransform(i,o,a,u,c){const f=c-3.5;let h,m,y,C;return u!==null?(h=u.getX(),m=u.getY(),y=f-3,C=y):(h=o.getX()-i.getX()+a.getX(),m=o.getY()-i.getY()+a.getY(),y=f,C=f),ae.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,y,C,3.5,f,i.getX(),i.getY(),o.getX(),o.getY(),h,m,a.getX(),a.getY())}static sampleGrid(i,o,a){return Xe.getInstance().sampleGridWithTransform(i,a,a,o)}static computeDimension(i,o,a,u){const c=Fe.round(B.distance(i,o)/u),f=Fe.round(B.distance(i,a)/u);let h=Math.floor((c+f)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new W("Dimensions could be not found.")}return h}calculateModuleSize(i,o,a){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,o){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?u/7:isNaN(u)?a/7:(a+u)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,a,u){let c=this.sizeOfBlackWhiteBlackRun(i,o,a,u),f=1,h=i-(a-i);h<0?(f=i/(i-h),h=0):h>=this.image.getWidth()&&(f=(this.image.getWidth()-1-i)/(h-i),h=this.image.getWidth()-1);let m=Math.floor(o-(u-o)*f);return f=1,m<0?(f=o/(o-m),m=0):m>=this.image.getHeight()&&(f=(this.image.getHeight()-1-o)/(m-o),m=this.image.getHeight()-1),h=Math.floor(i+(h-i)*f),c+=this.sizeOfBlackWhiteBlackRun(i,o,h,m),c-1}sizeOfBlackWhiteBlackRun(i,o,a,u){const c=Math.abs(u-o)>Math.abs(a-i);if(c){let L=i;i=o,o=L,L=a,a=u,u=L}const f=Math.abs(a-i),h=Math.abs(u-o);let m=-f/2;const y=i<a?1:-1,C=o<u?1:-1;let A=0;const R=a+y;for(let L=i,j=o;L!==R;L+=y){const U=c?j:L,G=c?L:j;if(A===1===this.image.get(U,G)){if(A===2)return Fe.distance(L,j,i,o);A++}if(m+=h,m>0){if(j===u)break;j+=C,m-=f}}return A===2?Fe.distance(a+y,u,i,o):NaN}findAlignmentInRegion(i,o,a,u){const c=Math.floor(u*i),f=Math.max(0,o-c),h=Math.min(this.image.getWidth()-1,o+c);if(h-f<i*3)throw new W("Alignment top exceeds estimated module size.");const m=Math.max(0,a-c),y=Math.min(this.image.getHeight()-1,a+c);if(y-m<i*3)throw new W("Alignment bottom exceeds estimated module size.");return new Ou(this.image,f,m,h-f,y-m,i,this.resultPointCallback).find()}}class Yi{constructor(){this.decoder=new qE}getDecoder(){return this.decoder}decode(i,o){let a,u;if(o!=null&&o.get(Q.PURE_BARCODE)!==void 0){const m=Yi.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(m,o),u=Yi.NO_POINTS}else{const m=new Za(i.getBlackMatrix()).detect(o);a=this.decoder.decodeBitMatrix(m.getBits(),o),u=m.getPoints()}a.getOther()instanceof ep&&a.getOther().applyMirroredCorrection(u);const c=new Ee(a.getText(),a.getRawBytes(),void 0,u,we.QR_CODE,void 0),f=a.getByteSegments();f!==null&&c.putMetadata(st.BYTE_SEGMENTS,f);const h=a.getECLevel();return h!==null&&c.putMetadata(st.ERROR_CORRECTION_LEVEL,h),a.hasStructuredAppend()&&(c.putMetadata(st.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),c.putMetadata(st.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),c}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(o===null||a===null)throw new W;const u=this.moduleSize(o,i);let c=o[1],f=a[1],h=o[0],m=a[0];if(h>=m||c>=f)throw new W;if(f-c!==m-h&&(m=h+(f-c),m>=i.getWidth()))throw new W;const y=Math.round((m-h+1)/u),C=Math.round((f-c+1)/u);if(y<=0||C<=0)throw new W;if(C!==y)throw new W;const A=Math.floor(u/2);c+=A,h+=A;const R=h+Math.floor((y-1)*u)-m;if(R>0){if(R>A)throw new W;h-=R}const L=c+Math.floor((C-1)*u)-f;if(L>0){if(L>A)throw new W;c-=L}const j=new _e(y,C);for(let U=0;U<C;U++){const G=c+Math.floor(U*u);for(let J=0;J<y;J++)i.get(h+Math.floor(J*u),G)&&j.set(J,U)}return j}static moduleSize(i,o){const a=o.getHeight(),u=o.getWidth();let c=i[0],f=i[1],h=!0,m=0;for(;c<u&&f<a;){if(h!==o.get(c,f)){if(++m===5)break;h=!h}c++,f++}if(c===u||f===a)throw new W;return(c-i[0])/7}}Yi.NO_POINTS=new Array;class Pe{PDF417Common(){}static getBitCountSum(i){return Fe.sum(i)}static toIntArray(i){if(i==null||!i.length)return Pe.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let a=0;for(const u of i)o[a++]=u;return o}static getCodeword(i){const o=_.binarySearch(Pe.SYMBOL_TABLE,i&262143);return o<0?-1:(Pe.CODEWORD_TABLE[o]-1)%Pe.NUMBER_OF_CODEWORDS}}Pe.NUMBER_OF_CODEWORDS=929,Pe.MAX_CODEWORDS_IN_BARCODE=Pe.NUMBER_OF_CODEWORDS-1,Pe.MIN_ROWS_IN_BARCODE=3,Pe.MAX_ROWS_IN_BARCODE=90,Pe.MODULES_IN_CODEWORD=17,Pe.MODULES_IN_STOP_PATTERN=18,Pe.BARS_IN_MODULE=8,Pe.EMPTY_INT_ARRAY=new Int32Array([]),Pe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class KE{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class He{static detectMultiple(i,o,a){let u=i.getBlackMatrix(),c=He.detect(a,u);return c.length||(u=u.clone(),u.rotate180(),c=He.detect(a,u)),new KE(u,c)}static detect(i,o){const a=new Array;let u=0,c=0,f=!1;for(;u<o.getHeight();){const h=He.findVertices(o,u,c);if(h[0]==null&&h[3]==null){if(!f)break;f=!1,c=0;for(const m of a)m[1]!=null&&(u=Math.trunc(Math.max(u,m[1].getY()))),m[3]!=null&&(u=Math.max(u,Math.trunc(m[3].getY())));u+=He.ROW_STEP;continue}if(f=!0,a.push(h),!i)break;h[2]!=null?(c=Math.trunc(h[2].getX()),u=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),u=Math.trunc(h[4].getY()))}return a}static findVertices(i,o,a){const u=i.getHeight(),c=i.getWidth(),f=new Array(8);return He.copyToResult(f,He.findRowsWithPattern(i,u,c,o,a,He.START_PATTERN),He.INDEXES_START_PATTERN),f[4]!=null&&(a=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY())),He.copyToResult(f,He.findRowsWithPattern(i,u,c,o,a,He.STOP_PATTERN),He.INDEXES_STOP_PATTERN),f}static copyToResult(i,o,a){for(let u=0;u<a.length;u++)i[a[u]]=o[u]}static findRowsWithPattern(i,o,a,u,c,f){const h=new Array(4);let m=!1;const y=new Int32Array(f.length);for(;u<o;u+=He.ROW_STEP){let A=He.findGuardPattern(i,c,u,a,!1,f,y);if(A!=null){for(;u>0;){const R=He.findGuardPattern(i,c,--u,a,!1,f,y);if(R!=null)A=R;else{u++;break}}h[0]=new B(A[0],u),h[1]=new B(A[1],u),m=!0;break}}let C=u+1;if(m){let A=0,R=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;C<o;C++){const L=He.findGuardPattern(i,R[0],C,a,!1,f,y);if(L!=null&&Math.abs(R[0]-L[0])<He.MAX_PATTERN_DRIFT&&Math.abs(R[1]-L[1])<He.MAX_PATTERN_DRIFT)R=L,A=0;else{if(A>He.SKIPPED_ROW_COUNT_MAX)break;A++}}C-=A+1,h[2]=new B(R[0],C),h[3]=new B(R[1],C)}return C-u<He.BARCODE_MIN_HEIGHT&&_.fill(h,null),h}static findGuardPattern(i,o,a,u,c,f,h){_.fillWithin(h,0,h.length,0);let m=o,y=0;for(;i.get(m,a)&&m>0&&y++<He.MAX_PIXEL_DRIFT;)m--;let C=m,A=0,R=f.length;for(let L=c;C<u;C++)if(i.get(C,a)!==L)h[A]++;else{if(A===R-1){if(He.patternMatchVariance(h,f,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return new Int32Array([m,C]);m+=h[0]+h[1],O.arraycopy(h,2,h,0,A-1),h[A-1]=0,h[A]=0,A--}else A++;h[A]=1,L=!L}return A===R-1&&He.patternMatchVariance(h,f,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE?new Int32Array([m,C-1]):null}static patternMatchVariance(i,o,a){let u=i.length,c=0,f=0;for(let y=0;y<u;y++)c+=i[y],f+=o[y];if(c<f)return 1/0;let h=c/f;a*=h;let m=0;for(let y=0;y<u;y++){let C=i[y],A=o[y]*h,R=C>A?C-A:A-C;if(R>a)return 1/0;m+=R}return m/c}}He.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),He.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),He.MAX_AVG_VARIANCE=.42,He.MAX_INDIVIDUAL_VARIANCE=.8,He.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),He.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),He.MAX_PIXEL_DRIFT=3,He.MAX_PATTERN_DRIFT=5,He.SKIPPED_ROW_COUNT_MAX=25,He.ROW_STEP=5,He.BARCODE_MIN_HEIGHT=10;class hn{constructor(i,o){if(o.length===0)throw new E;this.field=i;let a=o.length;if(a>1&&o[0]===0){let u=1;for(;u<a&&o[u]===0;)u++;u===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-u),O.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let u=0;for(let c of this.coefficients)u=this.field.add(u,c);return u}let o=this.coefficients[0],a=this.coefficients.length;for(let u=1;u<a;u++)o=this.field.add(this.field.multiply(i,o),this.coefficients[u]);return o}add(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,a=i.coefficients;if(o.length>a.length){let f=o;o=a,a=f}let u=new Int32Array(a.length),c=a.length-o.length;O.arraycopy(a,0,u,0,c);for(let f=c;f<a.length;f++)u[f]=this.field.add(o[f-c],a[f]);return new hn(this.field,u)}subtract(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof hn?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new hn(this.field,new Int32Array([0]));let o=this.coefficients,a=o.length,u=i.coefficients,c=u.length,f=new Int32Array(a+c-1);for(let h=0;h<a;h++){let m=o[h];for(let y=0;y<c;y++)f[h+y]=this.field.add(f[h+y],this.field.multiply(m,u[y]))}return new hn(this.field,f)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let a=0;a<i;a++)o[a]=this.field.subtract(0,this.coefficients[a]);return new hn(this.field,o)}multiplyScalar(i){if(i===0)return new hn(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,a=new Int32Array(o);for(let u=0;u<o;u++)a[u]=this.field.multiply(this.coefficients[u],i);return new hn(this.field,a)}multiplyByMonomial(i,o){if(i<0)throw new E;if(o===0)return new hn(this.field,new Int32Array([0]));let a=this.coefficients.length,u=new Int32Array(a+i);for(let c=0;c<a;c++)u[c]=this.field.multiply(this.coefficients[c],o);return new hn(this.field,u)}toString(){let i=new ce;for(let o=this.getDegree();o>=0;o--){let a=this.getCoefficient(o);a!==0&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(o===0||a!==1)&&i.append(a),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class JE{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new E;return this.logTable[i]}inverse(i){if(i===0)throw new Qe;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class fd extends JE{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let u=0;u<i;u++)this.expTable[u]=a,a=a*o%i;for(let u=0;u<i-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new hn(this,new Int32Array([0])),this.one=new hn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new E;if(o===0)return this.zero;let a=new Int32Array(i+1);return a[0]=o,new hn(this,a)}}fd.PDF417_GF=new fd(Pe.NUMBER_OF_CODEWORDS,3);class tp{constructor(){this.field=fd.PDF417_GF}decode(i,o,a){let u=new hn(this.field,i),c=new Int32Array(o),f=!1;for(let j=o;j>0;j--){let U=u.evaluateAt(this.field.exp(j));c[o-j]=U,U!==0&&(f=!0)}if(!f)return 0;let h=this.field.getOne();if(a!=null)for(const j of a){let U=this.field.exp(i.length-1-j),G=new hn(this.field,new Int32Array([this.field.subtract(0,U),1]));h=h.multiply(G)}let m=new hn(this.field,c),y=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),m,o),C=y[0],A=y[1],R=this.findErrorLocations(C),L=this.findErrorMagnitudes(A,C,R);for(let j=0;j<R.length;j++){let U=i.length-1-this.field.log(R[j]);if(U<0)throw I.getChecksumInstance();i[U]=this.field.subtract(i[U],L[j])}return R.length}runEuclideanAlgorithm(i,o,a){if(i.getDegree()<o.getDegree()){let R=i;i=o,o=R}let u=i,c=o,f=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(a/2);){let R=u,L=f;if(u=c,f=h,u.isZero())throw I.getChecksumInstance();c=R;let j=this.field.getZero(),U=u.getCoefficient(u.getDegree()),G=this.field.inverse(U);for(;c.getDegree()>=u.getDegree()&&!c.isZero();){let J=c.getDegree()-u.getDegree(),ue=this.field.multiply(c.getCoefficient(c.getDegree()),G);j=j.add(this.field.buildMonomial(J,ue)),c=c.subtract(u.multiplyByMonomial(J,ue))}h=j.multiply(f).subtract(L).negative()}let m=h.getCoefficient(0);if(m===0)throw I.getChecksumInstance();let y=this.field.inverse(m),C=h.multiply(y),A=c.multiply(y);return[C,A]}findErrorLocations(i){let o=i.getDegree(),a=new Int32Array(o),u=0;for(let c=1;c<this.field.getSize()&&u<o;c++)i.evaluateAt(c)===0&&(a[u]=this.field.inverse(c),u++);if(u!==o)throw I.getChecksumInstance();return a}findErrorMagnitudes(i,o,a){let u=o.getDegree(),c=new Int32Array(u);for(let y=1;y<=u;y++)c[u-y]=this.field.multiply(y,o.getCoefficient(y));let f=new hn(this.field,c),h=a.length,m=new Int32Array(h);for(let y=0;y<h;y++){let C=this.field.inverse(a[y]),A=this.field.subtract(0,i.evaluateAt(C)),R=this.field.inverse(f.evaluateAt(C));m[y]=this.field.multiply(A,R)}return m}}class Xs{constructor(i,o,a,u,c){i instanceof Xs?this.constructor_2(i):this.constructor_1(i,o,a,u,c)}constructor_1(i,o,a,u,c){const f=o==null||a==null,h=u==null||c==null;if(f&&h)throw new W;f?(o=new B(0,u.getY()),a=new B(0,c.getY())):h&&(u=new B(i.getWidth()-1,o.getY()),c=new B(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=o,this.bottomLeft=a,this.topRight=u,this.bottomRight=c,this.minX=Math.trunc(Math.min(o.getX(),a.getX())),this.maxX=Math.trunc(Math.max(u.getX(),c.getX())),this.minY=Math.trunc(Math.min(o.getY(),u.getY())),this.maxY=Math.trunc(Math.max(a.getY(),c.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Xs(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,a){let u=this.topLeft,c=this.bottomLeft,f=this.topRight,h=this.bottomRight;if(i>0){let m=a?this.topLeft:this.topRight,y=Math.trunc(m.getY()-i);y<0&&(y=0);let C=new B(m.getX(),y);a?u=C:f=C}if(o>0){let m=a?this.bottomLeft:this.bottomRight,y=Math.trunc(m.getY()+o);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let C=new B(m.getX(),y);a?c=C:h=C}return new Xs(this.image,u,c,f,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class eC{constructor(i,o,a,u){this.columnCount=i,this.errorCorrectionLevel=u,this.rowCountUpperPart=o,this.rowCountLowerPart=a,this.rowCount=o+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ka{constructor(){this.buffer=""}static form(i,o){let a=-1;function u(f,h,m,y,C,A){if(f==="%%")return"%";if(o[++a]===void 0)return;f=y?parseInt(y.substr(1)):void 0;let R=C?parseInt(C.substr(1)):void 0,L;switch(A){case"s":L=o[a];break;case"c":L=o[a][0];break;case"f":L=parseFloat(o[a]).toFixed(f);break;case"p":L=parseFloat(o[a]).toPrecision(f);break;case"e":L=parseFloat(o[a]).toExponential(f);break;case"x":L=parseInt(o[a]).toString(R||16);break;case"d":L=parseFloat(parseInt(o[a],R||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(R);let j=parseInt(m),U=m&&m[0]+""=="0"?"0":" ";for(;L.length<j;)L=h!==void 0?L+U:U+L;return L}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(c,u)}format(i,...o){this.buffer+=Ka.form(i,o)}toString(){return this.buffer}}class Ja{constructor(i){this.boundingBox=new Xs(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let a=1;a<Ja.MAX_NEARBY_DISTANCE;a++){let u=this.imageRowToCodewordIndex(i)-a;if(u>=0&&(o=this.codewords[u],o!=null)||(u=this.imageRowToCodewordIndex(i)+a,u<this.codewords.length&&(o=this.codewords[u],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Ka;let o=0;for(const a of this.codewords){if(a==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,a.getRowNumber(),a.getValue())}return i.toString()}}Ja.MAX_NEARBY_DISTANCE=5;class el{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[a,u]of this.values.entries()){const c={getKey:()=>a,getValue:()=>u};c.getValue()>i?(i=c.getValue(),o=[],o.push(c.getKey())):c.getValue()===i&&o.push(c.getKey())}return Pe.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class np extends Ja{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let a=this.getBoundingBox(),u=this._isLeft?a.getTopLeft():a.getTopRight(),c=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=-1,y=1,C=0;for(let A=f;A<h;A++){if(o[A]==null)continue;let R=o[A],L=R.getRowNumber()-m;if(L===0)C++;else if(L===1)y=Math.max(y,C),C=1,m=R.getRowNumber();else if(L<0||R.getRowNumber()>=i.getRowCount()||L>A)o[A]=null;else{let j;y>2?j=(y-2)*L:j=L;let U=j>=A;for(let G=1;G<=j&&!U;G++)U=o[A-G]!=null;U?o[A]=null:(m=R.getRowNumber(),C=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(a!=null){let u=a.getRowNumber();if(u>=o.length)continue;o[u]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),h=this.getCodewords(),m=-1;for(let y=c;y<f;y++){if(h[y]==null)continue;let C=h[y];C.setRowNumberAsRowIndicatorColumn();let A=C.getRowNumber()-m;A===0||(A===1?m=C.getRowNumber():C.getRowNumber()>=i.getRowCount()?h[y]=null:m=C.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new el,a=new el,u=new el,c=new el;for(let h of i){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let m=h.getValue()%30,y=h.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:a.setValue(m*3+1);break;case 1:c.setValue(m/3),u.setValue(m%3);break;case 2:o.setValue(m+1);break}}if(o.getValue().length===0||a.getValue().length===0||u.getValue().length===0||c.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+u.getValue()[0]<Pe.MIN_ROWS_IN_BARCODE||a.getValue()[0]+u.getValue()[0]>Pe.MAX_ROWS_IN_BARCODE)return null;let f=new eC(o.getValue()[0],a.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,f),f}removeIncorrectCodewords(i,o){for(let a=0;a<i.length;a++){let u=i[a];if(i[a]==null)continue;let c=u.getValue()%30,f=u.getRowNumber();if(f>o.getRowCount()){i[a]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==o.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(c/3)!==o.getErrorCorrectionLevel()||c%3!==o.getRowCountLowerPart())&&(i[a]=null);break;case 2:c+1!==o.getColumnCount()&&(i[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class tl{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Pe.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let a=this.detectionResultColumns[o].getCodewords();for(let u=0;u<a.length;u++)a[u]!=null&&(a[u].hasValidRowNumber()||this.adjustRowNumbers(o,u,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(i[a]!=null&&o[a]!=null&&i[a].getRowNumber()===o[a].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let c=this.detectionResultColumns[u].getCodewords()[a];c!=null&&(c.setRowNumber(i[a].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<o.length;a++){if(o[a]==null)continue;let u=o[a].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let h=this.detectionResultColumns[f].getCodewords()[a];h!=null&&(c=tl.adjustRowNumberIfValid(u,c,h),h.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let a=0;a<o.length;a++){if(o[a]==null)continue;let u=o[a].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let h=this.detectionResultColumns[f].getCodewords()[a];h!=null&&(c=tl.adjustRowNumberIfValid(u,c,h),h.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,a){if(!this.detectionResultColumns[i-1])return;let u=a[o],c=this.detectionResultColumns[i-1].getCodewords(),f=c;this.detectionResultColumns[i+1]!=null&&(f=this.detectionResultColumns[i+1].getCodewords());let h=new Array(14);h[2]=c[o],h[3]=f[o],o>0&&(h[0]=a[o-1],h[4]=c[o-1],h[5]=f[o-1]),o>1&&(h[8]=a[o-2],h[10]=c[o-2],h[11]=f[o-2]),o<a.length-1&&(h[1]=a[o+1],h[6]=c[o+1],h[7]=f[o+1]),o<a.length-2&&(h[9]=a[o+2],h[12]=c[o+2],h[13]=f[o+2]);for(let m of h)if(tl.adjustRowNumber(u,m))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Ka;for(let a=0;a<i.getCodewords().length;a++){o.format("CW %3d:",a);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){o.format("    |   ");continue}let c=this.detectionResultColumns[u].getCodewords()[a];if(c==null){o.format("    |   ");continue}o.format(" %3d|%3d",c.getRowNumber(),c.getValue())}o.format("%n")}return o.toString()}}class nl{constructor(i,o,a,u){this.rowNumber=nl.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(a),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==nl.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}nl.BARCODE_ROW_UNKNOWN=-1;class Gn{static initialize(){for(let i=0;i<Pe.SYMBOL_TABLE.length;i++){let o=Pe.SYMBOL_TABLE[i],a=o&1;for(let u=0;u<Pe.BARS_IN_MODULE;u++){let c=0;for(;(o&1)===a;)c+=1,o>>=1;a=o&1,Gn.RATIOS_TABLE[i]||(Gn.RATIOS_TABLE[i]=new Array(Pe.BARS_IN_MODULE)),Gn.RATIOS_TABLE[i][Pe.BARS_IN_MODULE-u-1]=Math.fround(c/Pe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=Gn.getDecodedCodewordValue(Gn.sampleBitCounts(i));return o!==-1?o:Gn.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=Fe.sum(i),a=new Int32Array(Pe.BARS_IN_MODULE),u=0,c=0;for(let f=0;f<Pe.MODULES_IN_CODEWORD;f++){let h=o/(2*Pe.MODULES_IN_CODEWORD)+f*o/Pe.MODULES_IN_CODEWORD;c+i[u]<=h&&(c+=i[u],u++),a[u]++}return a}static getDecodedCodewordValue(i){let o=Gn.getBitValue(i);return Pe.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let a=0;a<i.length;a++)for(let u=0;u<i[a];u++)o=o<<1|(a%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=Fe.sum(i),a=new Array(Pe.BARS_IN_MODULE);if(o>1)for(let f=0;f<a.length;f++)a[f]=Math.fround(i[f]/o);let u=dn.MAX_VALUE,c=-1;this.bSymbolTableReady||Gn.initialize();for(let f=0;f<Gn.RATIOS_TABLE.length;f++){let h=0,m=Gn.RATIOS_TABLE[f];for(let y=0;y<Pe.BARS_IN_MODULE;y++){let C=Math.fround(m[y]-a[y]);if(h+=Math.fround(C*C),h>=u)break}h<u&&(u=h,c=Pe.SYMBOL_TABLE[f])}return c}}Gn.bSymbolTableReady=!1,Gn.RATIOS_TABLE=new Array(Pe.SYMBOL_TABLE.length).map(S=>new Array(Pe.BARS_IN_MODULE));class rp{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class ip{static parseLong(i,o=void 0){return parseInt(i,o)}}class sp extends p{}sp.kind="NullPointerException";class tC{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,a){if(i==null)throw new sp;if(o<0||o>i.length||a<0||o+a>i.length||o+a<0)throw new P;if(a===0)return;for(let u=0;u<a;u++)this.write(i[o+u])}flush(){}close(){}}class nC extends p{}class rC extends tC{constructor(i=32){if(super(),this.count=0,i<0)throw new E("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new nC;a=T.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,a){if(o<0||o>i.length||a<0||o+a-i.length>0)throw new P;this.ensureCapacity(this.count+a),O.arraycopy(i,o,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var ht;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ht||(ht={}));function op(){if(typeof window<"u")return window.BigInt||null;if(typeof Qo<"u")return Qo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Mu;function Qi(S){if(typeof Mu>"u"&&(Mu=op()),Mu===null)throw new Error("BigInt is not supported!");return Mu(S)}function iC(){let S=[];S[0]=Qi(1);let i=Qi(900);S[1]=i;for(let o=2;o<16;o++)S[o]=S[o-1]*i;return S}class Z{static decode(i,o){let a=new ce(""),u=q.ISO8859_1;a.enableDecoding(u);let c=1,f=i[c++],h=new rp;for(;c<i[0];){switch(f){case Z.TEXT_COMPACTION_MODE_LATCH:c=Z.textCompaction(i,c,a);break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:c=Z.byteCompaction(f,i,u,c,a);break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[c++]);break;case Z.NUMERIC_COMPACTION_MODE_LATCH:c=Z.numericCompaction(i,c,a);break;case Z.ECI_CHARSET:q.getCharacterSetECIByValue(i[c++]);break;case Z.ECI_GENERAL_PURPOSE:c+=2;break;case Z.ECI_USER_DEFINED:c++;break;case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=Z.decodeMacroBlock(i,c,h);break;case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:throw new V;default:c--,c=Z.textCompaction(i,c,a);break}if(c<i.length)f=i[c++];else throw V.getFormatInstance()}if(a.length()===0)throw V.getFormatInstance();let m=new En(null,a.toString(),null,o);return m.setOther(h),m}static decodeMacroBlock(i,o,a){if(o+Z.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw V.getFormatInstance();let u=new Int32Array(Z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<Z.NUMBER_OF_SEQUENCE_CODEWORDS;h++,o++)u[h]=i[o];a.setSegmentIndex(T.parseInt(Z.decodeBase900toBase10(u,Z.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new ce;o=Z.textCompaction(i,o,c),a.setFileId(c.toString());let f=-1;for(i[o]===Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=o+1);o<i[0];)switch(i[o]){case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new ce;o=Z.textCompaction(i,o+1,h),a.setFileName(h.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new ce;o=Z.textCompaction(i,o+1,m),a.setSender(m.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new ce;o=Z.textCompaction(i,o+1,y),a.setAddressee(y.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new ce;o=Z.numericCompaction(i,o+1,C),a.setSegmentCount(T.parseInt(C.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new ce;o=Z.numericCompaction(i,o+1,A),a.setTimestamp(ip.parseLong(A.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new ce;o=Z.numericCompaction(i,o+1,R),a.setChecksum(T.parseInt(R.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new ce;o=Z.numericCompaction(i,o+1,L),a.setFileSize(ip.parseLong(L.toString()));break;default:throw V.getFormatInstance()}break;case Z.MACRO_PDF417_TERMINATOR:o++,a.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(f!==-1){let h=o-f;a.isLastSegment()&&h--,a.setOptionalData(_.copyOfRange(i,f,f+h))}return o}static textCompaction(i,o,a){let u=new Int32Array((i[0]-o)*2),c=new Int32Array((i[0]-o)*2),f=0,h=!1;for(;o<i[0]&&!h;){let m=i[o++];if(m<Z.TEXT_COMPACTION_MODE_LATCH)u[f]=m/30,u[f+1]=m%30,f+=2;else switch(m){case Z.TEXT_COMPACTION_MODE_LATCH:u[f++]=Z.TEXT_COMPACTION_MODE_LATCH;break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:o--,h=!0;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=i[o++],c[f]=m,f++;break}}return Z.decodeTextCompaction(u,c,f,a),o}static decodeTextCompaction(i,o,a,u){let c=ht.ALPHA,f=ht.ALPHA,h=0;for(;h<a;){let m=i[h],y="";switch(c){case ht.ALPHA:if(m<26)y=String.fromCharCode(65+m);else switch(m){case 26:y=" ";break;case Z.LL:c=ht.LOWER;break;case Z.ML:c=ht.MIXED;break;case Z.PS:f=c,c=ht.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[h]);break;case Z.TEXT_COMPACTION_MODE_LATCH:c=ht.ALPHA;break}break;case ht.LOWER:if(m<26)y=String.fromCharCode(97+m);else switch(m){case 26:y=" ";break;case Z.AS:f=c,c=ht.ALPHA_SHIFT;break;case Z.ML:c=ht.MIXED;break;case Z.PS:f=c,c=ht.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[h]);break;case Z.TEXT_COMPACTION_MODE_LATCH:c=ht.ALPHA;break}break;case ht.MIXED:if(m<Z.PL)y=Z.MIXED_CHARS[m];else switch(m){case Z.PL:c=ht.PUNCT;break;case 26:y=" ";break;case Z.LL:c=ht.LOWER;break;case Z.AL:c=ht.ALPHA;break;case Z.PS:f=c,c=ht.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[h]);break;case Z.TEXT_COMPACTION_MODE_LATCH:c=ht.ALPHA;break}break;case ht.PUNCT:if(m<Z.PAL)y=Z.PUNCT_CHARS[m];else switch(m){case Z.PAL:c=ht.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[h]);break;case Z.TEXT_COMPACTION_MODE_LATCH:c=ht.ALPHA;break}break;case ht.ALPHA_SHIFT:if(c=f,m<26)y=String.fromCharCode(65+m);else switch(m){case 26:y=" ";break;case Z.TEXT_COMPACTION_MODE_LATCH:c=ht.ALPHA;break}break;case ht.PUNCT_SHIFT:if(c=f,m<Z.PAL)y=Z.PUNCT_CHARS[m];else switch(m){case Z.PAL:c=ht.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[h]);break;case Z.TEXT_COMPACTION_MODE_LATCH:c=ht.ALPHA;break}break}y!==""&&u.append(y),h++}}static byteCompaction(i,o,a,u,c){let f=new rC,h=0,m=0,y=!1;switch(i){case Z.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),A=o[u++];for(;u<o[0]&&!y;)switch(C[h++]=A,m=900*m+A,A=o[u++],A){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:u--,y=!0;break;default:if(h%5===0&&h>0){for(let R=0;R<6;++R)f.write(Number(Qi(m)>>Qi(8*(5-R))));m=0,h=0}break}u===o[0]&&A<Z.TEXT_COMPACTION_MODE_LATCH&&(C[h++]=A);for(let R=0;R<h;R++)f.write(C[R]);break;case Z.BYTE_COMPACTION_MODE_LATCH_6:for(;u<o[0]&&!y;){let R=o[u++];if(R<Z.TEXT_COMPACTION_MODE_LATCH)h++,m=900*m+R;else switch(R){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:u--,y=!0;break}if(h%5===0&&h>0){for(let L=0;L<6;++L)f.write(Number(Qi(m)>>Qi(8*(5-L))));m=0,h=0}}break}return c.append(ye.decode(f.toByteArray(),a)),u}static numericCompaction(i,o,a){let u=0,c=!1,f=new Int32Array(Z.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!c;){let h=i[o++];if(o===i[0]&&(c=!0),h<Z.TEXT_COMPACTION_MODE_LATCH)f[u]=h,u++;else switch(h){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:o--,c=!0;break}(u%Z.MAX_NUMERIC_CODEWORDS===0||h===Z.NUMERIC_COMPACTION_MODE_LATCH||c)&&u>0&&(a.append(Z.decodeBase900toBase10(f,u)),u=0)}return o}static decodeBase900toBase10(i,o){let a=Qi(0);for(let c=0;c<o;c++)a+=Z.EXP900[o-c-1]*Qi(i[c]);let u=a.toString();if(u.charAt(0)!=="1")throw new V;return u.substring(1)}}Z.TEXT_COMPACTION_MODE_LATCH=900,Z.BYTE_COMPACTION_MODE_LATCH=901,Z.NUMERIC_COMPACTION_MODE_LATCH=902,Z.BYTE_COMPACTION_MODE_LATCH_6=924,Z.ECI_USER_DEFINED=925,Z.ECI_GENERAL_PURPOSE=926,Z.ECI_CHARSET=927,Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Z.MACRO_PDF417_TERMINATOR=922,Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Z.MAX_NUMERIC_CODEWORDS=15,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Z.PL=25,Z.LL=27,Z.AS=27,Z.ML=28,Z.AL=28,Z.PS=29,Z.PAL=29,Z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Z.EXP900=op()?iC():[],Z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class We{constructor(){}static decode(i,o,a,u,c,f,h){let m=new Xs(i,o,a,u,c),y=null,C=null,A;for(let j=!0;;j=!1){if(o!=null&&(y=We.getRowIndicatorColumn(i,m,o,!0,f,h)),u!=null&&(C=We.getRowIndicatorColumn(i,m,u,!1,f,h)),A=We.merge(y,C),A==null)throw W.getNotFoundInstance();let U=A.getBoundingBox();if(j&&U!=null&&(U.getMinY()<m.getMinY()||U.getMaxY()>m.getMaxY()))m=U;else break}A.setBoundingBox(m);let R=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,y),A.setDetectionResultColumn(R,C);let L=y!=null;for(let j=1;j<=R;j++){let U=L?j:R-j;if(A.getDetectionResultColumn(U)!==void 0)continue;let G;U===0||U===R?G=new np(m,U===0):G=new Ja(m),A.setDetectionResultColumn(U,G);let J=-1,ue=J;for(let fe=m.getMinY();fe<=m.getMaxY();fe++){if(J=We.getStartColumn(A,U,fe,L),J<0||J>m.getMaxX()){if(ue===-1)continue;J=ue}let oe=We.detectCodeword(i,m.getMinX(),m.getMaxX(),L,J,fe,f,h);oe!=null&&(G.setCodeword(fe,oe),ue=J,f=Math.min(f,oe.getWidth()),h=Math.max(h,oe.getWidth()))}}return We.createDecoderResult(A)}static merge(i,o){if(i==null&&o==null)return null;let a=We.getBarcodeMetadata(i,o);if(a==null)return null;let u=Xs.merge(We.adjustBoundingBox(i),We.adjustBoundingBox(o));return new tl(a,u)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let a=We.getMax(o),u=0;for(let h of o)if(u+=a-h,h>0)break;let c=i.getCodewords();for(let h=0;u>0&&c[h]==null;h++)u--;let f=0;for(let h=o.length-1;h>=0&&(f+=a-o[h],!(o[h]>0));h--);for(let h=c.length-1;f>0&&c[h]==null;h--)f--;return i.getBoundingBox().addMissingRows(u,f,i.isLeft())}static getMax(i){let o=-1;for(let a of i)o=Math.max(o,a);return o}static getBarcodeMetadata(i,o){let a;if(i==null||(a=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let u;return o==null||(u=o.getBarcodeMetadata())==null?a:a.getColumnCount()!==u.getColumnCount()&&a.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&a.getRowCount()!==u.getRowCount()?null:a}static getRowIndicatorColumn(i,o,a,u,c,f){let h=new np(o,u);for(let m=0;m<2;m++){let y=m===0?1:-1,C=Math.trunc(Math.trunc(a.getX()));for(let A=Math.trunc(Math.trunc(a.getY()));A<=o.getMaxY()&&A>=o.getMinY();A+=y){let R=We.detectCodeword(i,0,i.getWidth(),u,C,A,c,f);R!=null&&(h.setCodeword(A,R),u?C=R.getStartX():C=R.getEndX())}}return h}static adjustCodewordCount(i,o){let a=o[0][1],u=a.getValue(),c=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-We.getNumberOfECCodeWords(i.getBarcodeECLevel());if(u.length===0){if(c<1||c>Pe.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();a.setValue(c)}else u[0]!==c&&a.setValue(c)}static createDecoderResult(i){let o=We.createBarcodeMatrix(i);We.adjustCodewordCount(i,o);let a=new Array,u=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),c=[],f=new Array;for(let m=0;m<i.getBarcodeRowCount();m++)for(let y=0;y<i.getBarcodeColumnCount();y++){let C=o[m][y+1].getValue(),A=m*i.getBarcodeColumnCount()+y;C.length===0?a.push(A):C.length===1?u[A]=C[0]:(f.push(A),c.push(C))}let h=new Array(c.length);for(let m=0;m<h.length;m++)h[m]=c[m];return We.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),u,Pe.toIntArray(a),Pe.toIntArray(f),h)}static createDecoderResultFromAmbiguousValues(i,o,a,u,c){let f=new Int32Array(u.length),h=100;for(;h-- >0;){for(let m=0;m<f.length;m++)o[u[m]]=c[m][f[m]];try{return We.decodeCodewords(o,i,a)}catch(m){if(!(m instanceof I))throw m}if(f.length===0)throw I.getChecksumInstance();for(let m=0;m<f.length;m++)if(f[m]<c[m].length-1){f[m]++;break}else if(f[m]=0,m===f.length-1)throw I.getChecksumInstance()}throw I.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let u=0;u<o.length;u++)for(let c=0;c<o[u].length;c++)o[u][c]=new el;let a=0;for(let u of i.getDetectionResultColumns()){if(u!=null){for(let c of u.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=o.length)continue;o[f][a].setValue(c.getValue())}}}a++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,a,u){let c=u?1:-1,f=null;if(We.isValidBarcodeColumn(i,o-c)&&(f=i.getDetectionResultColumn(o-c).getCodeword(a)),f!=null)return u?f.getEndX():f.getStartX();if(f=i.getDetectionResultColumn(o).getCodewordNearby(a),f!=null)return u?f.getStartX():f.getEndX();if(We.isValidBarcodeColumn(i,o-c)&&(f=i.getDetectionResultColumn(o-c).getCodewordNearby(a)),f!=null)return u?f.getEndX():f.getStartX();let h=0;for(;We.isValidBarcodeColumn(i,o-c);){o-=c;for(let m of i.getDetectionResultColumn(o).getCodewords())if(m!=null)return(u?m.getEndX():m.getStartX())+c*h*(m.getEndX()-m.getStartX());h++}return u?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,a,u,c,f,h,m){c=We.adjustCodewordStartColumn(i,o,a,u,c,f);let y=We.getModuleBitCount(i,o,a,u,c,f);if(y==null)return null;let C,A=Fe.sum(y);if(u)C=c+A;else{for(let j=0;j<y.length/2;j++){let U=y[j];y[j]=y[y.length-1-j],y[y.length-1-j]=U}C=c,c=C-A}if(!We.checkCodewordSkew(A,h,m))return null;let R=Gn.getDecodedValue(y),L=Pe.getCodeword(R);return L===-1?null:new nl(c,C,We.getCodewordBucketNumber(R),L)}static getModuleBitCount(i,o,a,u,c,f){let h=c,m=new Int32Array(8),y=0,C=u?1:-1,A=u;for(;(u?h<a:h>=o)&&y<m.length;)i.get(h,f)===A?(m[y]++,h+=C):(y++,A=!A);return y===m.length||h===(u?a:o)&&y===m.length-1?m:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,a,u,c,f){let h=c,m=u?-1:1;for(let y=0;y<2;y++){for(;(u?h>=o:h<a)&&u===i.get(h,f);){if(Math.abs(c-h)>We.CODEWORD_SKEW_SIZE)return c;h+=m}m=-m,u=!u}return h}static checkCodewordSkew(i,o,a){return o-We.CODEWORD_SKEW_SIZE<=i&&i<=a+We.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,a){if(i.length===0)throw V.getFormatInstance();let u=1<<o+1,c=We.correctErrors(i,a,u);We.verifyCodewordCount(i,u);let f=Z.decode(i,""+o);return f.setErrorsCorrected(c),f.setErasures(a.length),f}static correctErrors(i,o,a){if(o!=null&&o.length>a/2+We.MAX_ERRORS||a<0||a>We.MAX_EC_CODEWORDS)throw I.getChecksumInstance();return We.errorCorrection.decode(i,a,o)}static verifyCodewordCount(i,o){if(i.length<4)throw V.getFormatInstance();let a=i[0];if(a>i.length)throw V.getFormatInstance();if(a===0)if(o<i.length)i[0]=i.length-o;else throw V.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),a=0,u=o.length-1;for(;!((i&1)!==a&&(a=i&1,u--,u<0));)o[u]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return We.getCodewordBucketNumber(We.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new Ka;for(let a=0;a<i.length;a++){o.format("Row %2d: ",a);for(let u=0;u<i[a].length;u++){let c=i[a][u];c.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}o.format("%n")}return o.toString()}}We.CODEWORD_SKEW_SIZE=2,We.MAX_ERRORS=3,We.MAX_EC_CODEWORDS=512,We.errorCorrection=new tp;class gn{decode(i,o=null){let a=gn.decode(i,o,!1);if(a==null||a.length===0||a[0]==null)throw W.getNotFoundInstance();return a[0]}decodeMultiple(i,o=null){try{return gn.decode(i,o,!0)}catch(a){throw a instanceof V||a instanceof I?W.getNotFoundInstance():a}}static decode(i,o,a){const u=new Array,c=He.detectMultiple(i,o,a);for(const f of c.getPoints()){const h=We.decode(c.getBits(),f[4],f[5],f[6],f[7],gn.getMinCodewordWidth(f),gn.getMaxCodewordWidth(f)),m=new Ee(h.getText(),h.getRawBytes(),void 0,f,we.PDF_417);m.putMetadata(st.ERROR_CORRECTION_LEVEL,h.getECLevel());const y=h.getOther();y!=null&&m.putMetadata(st.PDF417_EXTRA_METADATA,y),u.push(m)}return u.map(f=>f)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?T.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(gn.getMaxWidth(i[0],i[4]),gn.getMaxWidth(i[6],i[2])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN),Math.max(gn.getMaxWidth(i[1],i[5]),gn.getMaxWidth(i[7],i[3])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(gn.getMinWidth(i[0],i[4]),gn.getMinWidth(i[6],i[2])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN),Math.min(gn.getMinWidth(i[1],i[5]),gn.getMinWidth(i[7],i[3])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Du extends p{}Du.kind="ReaderException";class ap{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!r(i)&&i.get(Q.TRY_HARDER)===!0,a=r(i)?null:i.get(Q.POSSIBLE_FORMATS),u=new Array;if(!r(a)){const c=a.some(f=>f===we.UPC_A||f===we.UPC_E||f===we.EAN_13||f===we.EAN_8||f===we.CODABAR||f===we.CODE_39||f===we.CODE_93||f===we.CODE_128||f===we.ITF||f===we.RSS_14||f===we.RSS_EXPANDED);c&&!o&&u.push(new Fo(i,this.verbose)),a.includes(we.QR_CODE)&&u.push(new Yi),a.includes(we.DATA_MATRIX)&&u.push(new Xi),a.includes(we.AZTEC)&&u.push(new wr),a.includes(we.PDF_417)&&u.push(new gn),c&&o&&u.push(new Fo(i,this.verbose))}u.length===0&&(o||u.push(new Fo(i,this.verbose)),u.push(new Yi),u.push(new Xi),u.push(new wr),u.push(new gn),o&&u.push(new Fo(i,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Du("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(a){if(a instanceof Du)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class sC extends dt{constructor(i=null,o=500){const a=new ap;a.setHints(i),super(a,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class oC extends dt{constructor(i=500){super(new gn,i)}}class aC extends dt{constructor(i=500){super(new Yi,i)}}var dd;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(dd||(dd={}));var Jt=dd;class hd{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new gt(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let a=o[o.length-1];const u=this.field;for(let c=o.length;c<=i;c++){const f=a.multiply(new gt(u,Int32Array.from([1,u.exp(c-1+u.getGeneratorBase())])));o.push(f),a=f}}return o[i]}encode(i,o){if(o===0)throw new E("No error correction bytes");const a=i.length-o;if(a<=0)throw new E("No data bytes provided");const u=this.buildGenerator(o),c=new Int32Array(a);O.arraycopy(i,0,c,0,a);let f=new gt(this.field,c);f=f.multiplyByMonomial(o,1);const m=f.divide(u)[1].getCoefficients(),y=o-m.length;for(let C=0;C<y;C++)i[a+C]=0;O.arraycopy(m,0,i,a+y,m.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(i){return zt.applyMaskPenaltyRule1Internal(i,!0)+zt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const a=i.getArray(),u=i.getWidth(),c=i.getHeight();for(let f=0;f<c-1;f++){const h=a[f];for(let m=0;m<u-1;m++){const y=h[m];y===h[m+1]&&y===a[f+1][m]&&y===a[f+1][m+1]&&o++}}return zt.N2*o}static applyMaskPenaltyRule3(i){let o=0;const a=i.getArray(),u=i.getWidth(),c=i.getHeight();for(let f=0;f<c;f++)for(let h=0;h<u;h++){const m=a[f];h+6<u&&m[h]===1&&m[h+1]===0&&m[h+2]===1&&m[h+3]===1&&m[h+4]===1&&m[h+5]===0&&m[h+6]===1&&(zt.isWhiteHorizontal(m,h-4,h)||zt.isWhiteHorizontal(m,h+7,h+11))&&o++,f+6<c&&a[f][h]===1&&a[f+1][h]===0&&a[f+2][h]===1&&a[f+3][h]===1&&a[f+4][h]===1&&a[f+5][h]===0&&a[f+6][h]===1&&(zt.isWhiteVertical(a,h,f-4,f)||zt.isWhiteVertical(a,h,f+7,f+11))&&o++}return o*zt.N3}static isWhiteHorizontal(i,o,a){o=Math.max(o,0),a=Math.min(a,i.length);for(let u=o;u<a;u++)if(i[u]===1)return!1;return!0}static isWhiteVertical(i,o,a,u){a=Math.max(a,0),u=Math.min(u,i.length);for(let c=a;c<u;c++)if(i[c][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const a=i.getArray(),u=i.getWidth(),c=i.getHeight();for(let m=0;m<c;m++){const y=a[m];for(let C=0;C<u;C++)y[C]===1&&o++}const f=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-f)*10/f)*zt.N4}static getDataMaskBit(i,o,a){let u,c;switch(i){case 0:u=a+o&1;break;case 1:u=a&1;break;case 2:u=o%3;break;case 3:u=(a+o)%3;break;case 4:u=Math.floor(a/2)+Math.floor(o/3)&1;break;case 5:c=a*o,u=(c&1)+c%3;break;case 6:c=a*o,u=(c&1)+c%3&1;break;case 7:c=a*o,u=c%3+(a+o&1)&1;break;default:throw new E("Invalid mask pattern: "+i)}return u===0}static applyMaskPenaltyRule1Internal(i,o){let a=0;const u=o?i.getHeight():i.getWidth(),c=o?i.getWidth():i.getHeight(),f=i.getArray();for(let h=0;h<u;h++){let m=0,y=-1;for(let C=0;C<c;C++){const A=o?f[h][C]:f[C][h];A===y?m++:(m>=5&&(a+=zt.N1+(m-5)),m=1,y=A)}m>=5&&(a+=zt.N1+(m-5))}return a}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class ku{constructor(i,o){this.width=i,this.height=o;const a=new Array(o);for(let u=0;u!==o;u++)a[u]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,a){this.bytes[o][i]=a}setBoolean(i,o,a){this.bytes[o][i]=a?1:0}clear(i){for(const o of this.bytes)_.fill(o,i)}equals(i){if(!(i instanceof ku))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let a=0,u=this.height;a<u;++a){const c=this.bytes[a],f=o.bytes[a];for(let h=0,m=this.width;h<m;++h)if(c[h]!==f[h])return!1}return!0}toString(){const i=new ce;for(let o=0,a=this.height;o<a;++o){const u=this.bytes[o];for(let c=0,f=this.width;c<f;++c)switch(u[c]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Ys{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ce;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Ys.NUM_MASK_PATTERNS}}Ys.NUM_MASK_PATTERNS=8;class pt extends p{}pt.kind="WriterException";class ke{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,a,u,c){ke.clearMatrix(c),ke.embedBasicPatterns(a,c),ke.embedTypeInfo(o,u,c),ke.maybeEmbedVersionInfo(a,c),ke.embedDataBits(i,u,c)}static embedBasicPatterns(i,o){ke.embedPositionDetectionPatternsAndSeparators(o),ke.embedDarkDotAtLeftBottomCorner(o),ke.maybeEmbedPositionAdjustmentPatterns(i,o),ke.embedTimingPatterns(o)}static embedTypeInfo(i,o,a){const u=new k;ke.makeTypeInfoBits(i,o,u);for(let c=0,f=u.getSize();c<f;++c){const h=u.get(u.getSize()-1-c),m=ke.TYPE_INFO_COORDINATES[c],y=m[0],C=m[1];if(a.setBoolean(y,C,h),c<8){const A=a.getWidth()-c-1;a.setBoolean(A,8,h)}else{const R=a.getHeight()-7+(c-8);a.setBoolean(8,R,h)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const a=new k;ke.makeVersionInfoBits(i,a);let u=6*3-1;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const h=a.get(u);u--,o.setBoolean(c,o.getHeight()-11+f,h),o.setBoolean(o.getHeight()-11+f,c,h)}}static embedDataBits(i,o,a){let u=0,c=-1,f=a.getWidth()-1,h=a.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);h>=0&&h<a.getHeight();){for(let m=0;m<2;++m){const y=f-m;if(!ke.isEmpty(a.get(y,h)))continue;let C;u<i.getSize()?(C=i.get(u),++u):C=!1,o!==255&&zt.getDataMaskBit(o,y,h)&&(C=!C),a.setBoolean(y,h,C)}h+=c}c=-c,h+=c,f-=2}if(u!==i.getSize())throw new pt("Not all bits consumed: "+u+"/"+i.getSize())}static findMSBSet(i){return 32-T.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new E("0 polynomial");const a=ke.findMSBSet(o);for(i<<=a-1;ke.findMSBSet(i)>=a;)i^=o<<ke.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,o,a){if(!Ys.isValidMaskPattern(o))throw new pt("Invalid mask pattern");const u=i.getBits()<<3|o;a.appendBits(u,5);const c=ke.calculateBCHCode(u,ke.TYPE_INFO_POLY);a.appendBits(c,10);const f=new k;if(f.appendBits(ke.TYPE_INFO_MASK_PATTERN,15),a.xor(f),a.getSize()!==15)throw new pt("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const a=ke.calculateBCHCode(i.getVersionNumber(),ke.VERSION_INFO_POLY);if(o.appendBits(a,12),o.getSize()!==18)throw new pt("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const a=(o+1)%2;ke.isEmpty(i.get(o,6))&&i.setNumber(o,6,a),ke.isEmpty(i.get(6,o))&&i.setNumber(6,o,a)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new pt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,a){for(let u=0;u<8;++u){if(!ke.isEmpty(a.get(i+u,o)))throw new pt;a.setNumber(i+u,o,0)}}static embedVerticalSeparationPattern(i,o,a){for(let u=0;u<7;++u){if(!ke.isEmpty(a.get(i,o+u)))throw new pt;a.setNumber(i,o+u,0)}}static embedPositionAdjustmentPattern(i,o,a){for(let u=0;u<5;++u){const c=ke.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)a.setNumber(i+f,o+u,c[f])}}static embedPositionDetectionPattern(i,o,a){for(let u=0;u<7;++u){const c=ke.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)a.setNumber(i+f,o+u,c[f])}}static embedPositionDetectionPatternsAndSeparators(i){const o=ke.POSITION_DETECTION_PATTERN[0].length;ke.embedPositionDetectionPattern(0,0,i),ke.embedPositionDetectionPattern(i.getWidth()-o,0,i),ke.embedPositionDetectionPattern(0,i.getWidth()-o,i);const a=8;ke.embedHorizontalSeparationPattern(0,a-1,i),ke.embedHorizontalSeparationPattern(i.getWidth()-a,a-1,i),ke.embedHorizontalSeparationPattern(0,i.getWidth()-a,i);const u=7;ke.embedVerticalSeparationPattern(u,0,i),ke.embedVerticalSeparationPattern(i.getHeight()-u-1,0,i),ke.embedVerticalSeparationPattern(u,i.getHeight()-u,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const a=i.getVersionNumber()-1,u=ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let c=0,f=u.length;c!==f;c++){const h=u[c];if(h>=0)for(let m=0;m!==f;m++){const y=u[m];y>=0&&ke.isEmpty(o.get(y,h))&&ke.embedPositionAdjustmentPattern(y-2,h-2,o)}}}}ke.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ke.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ke.VERSION_INFO_POLY=7973,ke.TYPE_INFO_POLY=1335,ke.TYPE_INFO_MASK_PATTERN=21522;class lC{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Et{constructor(){}static calculateMaskPenalty(i){return zt.applyMaskPenaltyRule1(i)+zt.applyMaskPenaltyRule2(i)+zt.applyMaskPenaltyRule3(i)+zt.applyMaskPenaltyRule4(i)}static encode(i,o,a=null){let u=Et.DEFAULT_BYTE_MODE_ENCODING;const c=a!==null&&a.get(Jt.CHARACTER_SET)!==void 0;c&&(u=a.get(Jt.CHARACTER_SET).toString());const f=this.chooseMode(i,u),h=new k;if(f===De.BYTE&&(c||Et.DEFAULT_BYTE_MODE_ENCODING!==u)){const fe=q.getCharacterSetECIByName(u);fe!==void 0&&this.appendECI(fe,h)}this.appendModeInfo(f,h);const m=new k;this.appendBytes(i,f,m,u);let y;if(a!==null&&a.get(Jt.QR_VERSION)!==void 0){const fe=Number.parseInt(a.get(Jt.QR_VERSION).toString(),10);y=Te.getVersionForNumber(fe);const oe=this.calculateBitsNeeded(f,h,m,y);if(!this.willFit(oe,y,o))throw new pt("Data too big for requested version")}else y=this.recommendVersion(o,f,h,m);const C=new k;C.appendBitArray(h);const A=f===De.BYTE?m.getSizeInBytes():i.length;this.appendLengthInfo(A,y,f,C),C.appendBitArray(m);const R=y.getECBlocksForLevel(o),L=y.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(L,C);const j=this.interleaveWithECBytes(C,y.getTotalCodewords(),L,R.getNumBlocks()),U=new Ys;U.setECLevel(o),U.setMode(f),U.setVersion(y);const G=y.getDimensionForVersion(),J=new ku(G,G),ue=this.chooseMaskPattern(j,o,y,J);return U.setMaskPattern(ue),ke.buildMatrix(j,o,y,ue,J),U.setMatrix(J),U}static recommendVersion(i,o,a,u){const c=this.calculateBitsNeeded(o,a,u,Te.getVersionForNumber(1)),f=this.chooseVersion(c,i),h=this.calculateBitsNeeded(o,a,u,f);return this.chooseVersion(h,i)}static calculateBitsNeeded(i,o,a,u){return o.getSize()+i.getCharacterCountBits(u)+a.getSize()}static getAlphanumericCode(i){return i<Et.ALPHANUMERIC_TABLE.length?Et.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(q.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return De.KANJI;let a=!1,u=!1;for(let c=0,f=i.length;c<f;++c){const h=i.charAt(c);if(Et.isDigit(h))a=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)u=!0;else return De.BYTE}return u?De.ALPHANUMERIC:a?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=ye.encode(i,q.SJIS)}catch{return!1}const a=o.length;if(a%2!==0)return!1;for(let u=0;u<a;u+=2){const c=o[u]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(i,o,a,u){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let h=0;h<Ys.NUM_MASK_PATTERNS;h++){ke.buildMatrix(i,o,a,h,u);let m=this.calculateMaskPenalty(u);m<c&&(c=m,f=h)}return f}static chooseVersion(i,o){for(let a=1;a<=40;a++){const u=Te.getVersionForNumber(a);if(Et.willFit(i,u,o))return u}throw new pt("Data too big")}static willFit(i,o,a){const u=o.getTotalCodewords(),f=o.getECBlocksForLevel(a).getTotalECCodewords(),h=u-f,m=(i+7)/8;return h>=m}static terminateBits(i,o){const a=i*8;if(o.getSize()>a)throw new pt("data bits cannot fit in the QR Code"+o.getSize()+" > "+a);for(let f=0;f<4&&o.getSize()<a;++f)o.appendBit(!1);const u=o.getSize()&7;if(u>0)for(let f=u;f<8;f++)o.appendBit(!1);const c=i-o.getSizeInBytes();for(let f=0;f<c;++f)o.appendBits(f&1?17:236,8);if(o.getSize()!==a)throw new pt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,a,u,c,f){if(u>=a)throw new pt("Block ID too large");const h=i%a,m=a-h,y=Math.floor(i/a),C=y+1,A=Math.floor(o/a),R=A+1,L=y-A,j=C-R;if(L!==j)throw new pt("EC bytes mismatch");if(a!==m+h)throw new pt("RS blocks mismatch");if(i!==(A+L)*m+(R+j)*h)throw new pt("Total bytes mismatch");u<m?(c[0]=A,f[0]=L):(c[0]=R,f[0]=j)}static interleaveWithECBytes(i,o,a,u){if(i.getSizeInBytes()!==a)throw new pt("Number of bits and data bytes does not match");let c=0,f=0,h=0;const m=new Array;for(let C=0;C<u;++C){const A=new Int32Array(1),R=new Int32Array(1);Et.getNumDataBytesAndNumECBytesForBlockID(o,a,u,C,A,R);const L=A[0],j=new Uint8Array(L);i.toBytes(8*c,j,0,L);const U=Et.generateECBytes(j,R[0]);m.push(new lC(j,U)),f=Math.max(f,L),h=Math.max(h,U.length),c+=A[0]}if(a!==c)throw new pt("Data bytes does not match offset");const y=new k;for(let C=0;C<f;++C)for(const A of m){const R=A.getDataBytes();C<R.length&&y.appendBits(R[C],8)}for(let C=0;C<h;++C)for(const A of m){const R=A.getErrorCorrectionBytes();C<R.length&&y.appendBits(R[C],8)}if(o!==y.getSizeInBytes())throw new pt("Interleaving error: "+o+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(i,o){const a=i.length,u=new Int32Array(a+o);for(let f=0;f<a;f++)u[f]=i[f]&255;new hd(xe.QR_CODE_FIELD_256).encode(u,o);const c=new Uint8Array(o);for(let f=0;f<o;f++)c[f]=u[a+f];return c}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,a,u){const c=a.getCharacterCountBits(o);if(i>=1<<c)throw new pt(i+" is bigger than "+((1<<c)-1));u.appendBits(i,c)}static appendBytes(i,o,a,u){switch(o){case De.NUMERIC:Et.appendNumericBytes(i,a);break;case De.ALPHANUMERIC:Et.appendAlphanumericBytes(i,a);break;case De.BYTE:Et.append8BitBytes(i,a,u);break;case De.KANJI:Et.appendKanjiBytes(i,a);break;default:throw new pt("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=Et.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const a=i.length;let u=0;for(;u<a;){const c=Et.getDigit(i.charAt(u));if(u+2<a){const f=Et.getDigit(i.charAt(u+1)),h=Et.getDigit(i.charAt(u+2));o.appendBits(c*100+f*10+h,10),u+=3}else if(u+1<a){const f=Et.getDigit(i.charAt(u+1));o.appendBits(c*10+f,7),u+=2}else o.appendBits(c,4),u++}}static appendAlphanumericBytes(i,o){const a=i.length;let u=0;for(;u<a;){const c=Et.getAlphanumericCode(i.charCodeAt(u));if(c===-1)throw new pt;if(u+1<a){const f=Et.getAlphanumericCode(i.charCodeAt(u+1));if(f===-1)throw new pt;o.appendBits(c*45+f,11),u+=2}else o.appendBits(c,6),u++}}static append8BitBytes(i,o,a){let u;try{u=ye.encode(i,a)}catch(c){throw new pt(c)}for(let c=0,f=u.length;c!==f;c++){const h=u[c];o.appendBits(h,8)}}static appendKanjiBytes(i,o){let a;try{a=ye.encode(i,q.SJIS)}catch(c){throw new pt(c)}const u=a.length;for(let c=0;c<u;c+=2){const f=a[c]&255,h=a[c+1]&255,m=f<<8&4294967295|h;let y=-1;if(m>=33088&&m<=40956?y=m-33088:m>=57408&&m<=60351&&(y=m-49472),y===-1)throw new pt("Invalid byte sequence");const C=(y>>8)*192+(y&255);o.appendBits(C,13)}}static appendECI(i,o){o.appendBits(De.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}Et.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Et.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class Qs{write(i,o,a,u=null){if(i.length===0)throw new E("Found empty contents");if(o<0||a<0)throw new E("Requested dimensions are too small: "+o+"x"+a);let c=xt.L,f=Qs.QUIET_ZONE_SIZE;u!==null&&(u.get(Jt.ERROR_CORRECTION)!==void 0&&(c=xt.fromString(u.get(Jt.ERROR_CORRECTION).toString())),u.get(Jt.MARGIN)!==void 0&&(f=Number.parseInt(u.get(Jt.MARGIN).toString(),10)));const h=Et.encode(i,c,u);return this.renderResult(h,o,a,f)}writeToDom(i,o,a,u,c=null){typeof i=="string"&&(i=document.querySelector(i));const f=this.write(o,a,u,c);i&&i.appendChild(f)}renderResult(i,o,a,u){const c=i.getMatrix();if(c===null)throw new Ve;const f=c.getWidth(),h=c.getHeight(),m=f+u*2,y=h+u*2,C=Math.max(o,m),A=Math.max(a,y),R=Math.min(Math.floor(C/m),Math.floor(A/y)),L=Math.floor((C-f*R)/2),j=Math.floor((A-h*R)/2),U=this.createSVGElement(C,A);for(let G=0,J=j;G<h;G++,J+=R)for(let ue=0,fe=L;ue<f;ue++,fe+=R)if(c.get(ue,G)===1){const oe=this.createSvgRectElement(fe,J,R,R);U.appendChild(oe)}return U}createSVGElement(i,o){const a=document.createElementNS(Qs.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",o.toString()),a}createSvgRectElement(i,o,a,u){const c=document.createElementNS(Qs.SVG_NS,"rect");return c.setAttributeNS(null,"x",i.toString()),c.setAttributeNS(null,"y",o.toString()),c.setAttributeNS(null,"height",a.toString()),c.setAttributeNS(null,"width",u.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Qs.QUIET_ZONE_SIZE=4,Qs.SVG_NS="http://www.w3.org/2000/svg";class Uo{encode(i,o,a,u,c){if(i.length===0)throw new E("Found empty contents");if(o!==we.QR_CODE)throw new E("Can only encode QR_CODE, but got "+o);if(a<0||u<0)throw new E(`Requested dimensions are too small: ${a}x${u}`);let f=xt.L,h=Uo.QUIET_ZONE_SIZE;c!==null&&(c.get(Jt.ERROR_CORRECTION)!==void 0&&(f=xt.fromString(c.get(Jt.ERROR_CORRECTION).toString())),c.get(Jt.MARGIN)!==void 0&&(h=Number.parseInt(c.get(Jt.MARGIN).toString(),10)));const m=Et.encode(i,f,c);return Uo.renderResult(m,a,u,h)}static renderResult(i,o,a,u){const c=i.getMatrix();if(c===null)throw new Ve;const f=c.getWidth(),h=c.getHeight(),m=f+u*2,y=h+u*2,C=Math.max(o,m),A=Math.max(a,y),R=Math.min(Math.floor(C/m),Math.floor(A/y)),L=Math.floor((C-f*R)/2),j=Math.floor((A-h*R)/2),U=new _e(C,A);for(let G=0,J=j;G<h;G++,J+=R)for(let ue=0,fe=L;ue<f;ue++,fe+=R)c.get(ue,G)===1&&U.setRegion(fe,J,R,R);return U}}Uo.QUIET_ZONE_SIZE=4;class uC{encode(i,o,a,u,c){let f;switch(o){case we.QR_CODE:f=new Uo;break;default:throw new E("No encoder available for format "+o)}return f.encode(i,o,a,u,c)}}class ri extends ee{constructor(i,o,a,u,c,f,h,m){if(super(f,h),this.yuvData=i,this.dataWidth=o,this.dataHeight=a,this.left=u,this.top=c,u+f>o||c+h>a)throw new E("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(f,h)}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const a=this.getWidth();(o==null||o.length<a)&&(o=new Uint8ClampedArray(a));const u=(i+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,u,o,0,a),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const a=i*o,u=new Uint8ClampedArray(a);let c=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return O.arraycopy(this.yuvData,c,u,0,a),u;for(let f=0;f<o;f++){const h=f*i;O.arraycopy(this.yuvData,c,u,h,i),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,o,a,u){return new ri(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,a,u,!1)}renderThumbnail(){const i=this.getWidth()/ri.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/ri.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*o),u=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<o;f++){const h=f*i;for(let m=0;m<i;m++){const y=u[c+m*ri.THUMBNAIL_SCALE_FACTOR]&255;a[h+m]=4278190080|y*65793}c+=this.dataWidth*ri.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/ri.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ri.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const a=this.yuvData;for(let u=0,c=this.top*this.dataWidth+this.left;u<o;u++,c+=this.dataWidth){const f=c+i/2;for(let h=c,m=c+i-1;h<f;h++,m--){const y=a[h];a[h]=a[m],a[m]=y}}}invert(){return new de(this)}}ri.THUMBNAIL_SCALE_FACTOR=2;class gd extends ee{constructor(i,o,a,u,c,f,h){if(super(o,a),this.dataWidth=u,this.dataHeight=c,this.left=f,this.top=h,i.BYTES_PER_ELEMENT===4){const m=o*a,y=new Uint8ClampedArray(m);for(let C=0;C<m;C++){const A=i[C],R=A>>16&255,L=A>>7&510,j=A&255;y[C]=(R+L+j)/4&255}this.luminances=y}else this.luminances=i;if(u===void 0&&(this.dataWidth=o),c===void 0&&(this.dataHeight=a),f===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+a>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const a=this.getWidth();(o==null||o.length<a)&&(o=new Uint8ClampedArray(a));const u=(i+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,u,o,0,a),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const a=i*o,u=new Uint8ClampedArray(a);let c=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return O.arraycopy(this.luminances,c,u,0,a),u;for(let f=0;f<o;f++){const h=f*i;O.arraycopy(this.luminances,c,u,h,i),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,o,a,u){return new gd(this.luminances,a,u,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new de(this)}}class lp extends q{static forName(i){return this.getCharacterSetECIByName(i)}}class pd{}pd.ISO_8859_1=q.ISO8859_1;class up{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class cp{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class cC{constructor(i){this.previous=i}getPrevious(){return this.previous}}class zo extends cC{constructor(i,o,a){super(i),this.value=o,this.bitCount=a}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new zo(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new zo(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+T.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class md extends zo{constructor(i,o,a){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=a}appendTo(i,o){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):a===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+a],8)}addBinaryShift(i,o){return new md(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function fC(S,i,o){return new md(S,i,o)}function rl(S,i,o){return new zo(S,i,o)}const dC=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qi=0,Pu=1,Sr=2,fp=3,ii=4,hC=new zo(null,0,0),xd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function gC(S){for(let i of S)_.fill(i,-1);return S[qi][ii]=0,S[Pu][ii]=0,S[Pu][qi]=28,S[fp][ii]=0,S[Sr][ii]=0,S[Sr][qi]=15,S}const dp=gC(_.createInt32Array(6,6));class si{constructor(i,o,a,u){this.token=i,this.mode=o,this.binaryShiftByteCount=a,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let a=this.bitCount,u=this.token;if(i!==this.mode){let f=xd[this.mode][i];u=rl(u,f&65535,f>>16),a+=f>>16}let c=i===Sr?4:5;return u=rl(u,o,c),new si(u,i,0,a+c)}shiftAndAppend(i,o){let a=this.token,u=this.mode===Sr?4:5;return a=rl(a,dp[this.mode][i],u),a=rl(a,o,5),new si(a,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(i){let o=this.token,a=this.mode,u=this.bitCount;if(this.mode===ii||this.mode===Sr){let h=xd[a][qi];o=rl(o,h&65535,h>>16),u+=h>>16,a=qi}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new si(o,a,this.binaryShiftByteCount+1,u+c);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(i+1)),f}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=fC(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new si(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(xd[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=si.calculateBinaryShiftCost(i)-si.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let u=this.endBinaryShift(i.length).token;u!==null;u=u.getPrevious())o.unshift(u);let a=new k;for(const u of o)u.appendTo(a,i);return a}toString(){return re.format("%s bits=%d bytes=%d",dC[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}si.INITIAL_STATE=new si(hC,qi,0,0);function pC(S){const i=re.getCharCode(" "),o=re.getCharCode("."),a=re.getCharCode(",");S[qi][i]=1;const u=re.getCharCode("Z"),c=re.getCharCode("A");for(let R=c;R<=u;R++)S[qi][R]=R-c+2;S[Pu][i]=1;const f=re.getCharCode("z"),h=re.getCharCode("a");for(let R=h;R<=f;R++)S[Pu][R]=R-h+2;S[Sr][i]=1;const m=re.getCharCode("9"),y=re.getCharCode("0");for(let R=y;R<=m;R++)S[Sr][R]=R-y+2;S[Sr][a]=12,S[Sr][o]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<C.length;R++)S[fp][re.getCharCode(C[R])]=R;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<A.length;R++)re.getCharCode(A[R])>0&&(S[ii][re.getCharCode(A[R])]=R);return S}const yd=pC(_.createInt32Array(5,256));class il{constructor(i){this.text=i}encode(){const i=re.getCharCode(" "),o=re.getCharCode(`
`);let a=cp.singletonList(si.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case re.getCharCode("\r"):f=h===o?2:0;break;case re.getCharCode("."):f=h===i?3:0;break;case re.getCharCode(","):f=h===i?4:0;break;case re.getCharCode(":"):f=h===i?5:0;break;default:f=0}f>0?(a=il.updateStateListForPair(a,c,f),c++):a=this.updateStateListForChar(a,c)}return cp.min(a,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const a=[];for(let u of i)this.updateStateForChar(u,o,a);return il.simplifyStates(a)}updateStateForChar(i,o,a){let u=this.text[o]&255,c=yd[i.getMode()][u]>0,f=null;for(let h=0;h<=ii;h++){let m=yd[h][u];if(m>0){if(f==null&&(f=i.endBinaryShift(o)),!c||h===i.getMode()||h===Sr){const y=f.latchAndAppend(h,m);a.push(y)}if(!c&&dp[i.getMode()][h]>=0){const y=f.shiftAndAppend(h,m);a.push(y)}}}if(i.getBinaryShiftByteCount()>0||yd[i.getMode()][u]===0){let h=i.addBinaryShiftChar(o);a.push(h)}}static updateStateListForPair(i,o,a){const u=[];for(let c of i)this.updateStateForPair(c,o,a,u);return this.simplifyStates(u)}static updateStateForPair(i,o,a,u){let c=i.endBinaryShift(o);if(u.push(c.latchAndAppend(ii,a)),i.getMode()!==ii&&u.push(c.shiftAndAppend(ii,a)),a===3||a===4){let f=c.latchAndAppend(Sr,16-a).latchAndAppend(Sr,1);u.push(f)}if(i.getBinaryShiftByteCount()>0){let f=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);u.push(f)}}static simplifyStates(i){let o=[];for(const a of i){let u=!0;for(const c of o){if(c.isBetterThanOrEqualTo(a)){u=!1;break}a.isBetterThanOrEqualTo(c)&&(o=o.filter(f=>f!==c))}u&&o.push(a)}return o}}class tt{constructor(){}static encodeBytes(i){return tt.encode(i,tt.DEFAULT_EC_PERCENT,tt.DEFAULT_AZTEC_LAYERS)}static encode(i,o,a){let u=new il(i).encode(),c=T.truncDivision(u.getSize()*o,100)+11,f=u.getSize()+c,h,m,y,C,A;if(a!==tt.DEFAULT_AZTEC_LAYERS){if(h=a<0,m=Math.abs(a),m>(h?tt.MAX_NB_BITS_COMPACT:tt.MAX_NB_BITS))throw new E(re.format("Illegal value %s for layers",a));y=tt.totalBitsInLayer(m,h),C=tt.WORD_SIZE[m];let oe=y-y%C;if(A=tt.stuffBits(u,C),A.getSize()+c>oe)throw new E("Data to large for user specified layer");if(h&&A.getSize()>C*64)throw new E("Data to large for user specified layer")}else{C=0,A=null;for(let oe=0;;oe++){if(oe>tt.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(h=oe<=3,m=h?oe+1:oe,y=tt.totalBitsInLayer(m,h),f>y)continue;(A==null||C!==tt.WORD_SIZE[m])&&(C=tt.WORD_SIZE[m],A=tt.stuffBits(u,C));let Ze=y-y%C;if(!(h&&A.getSize()>C*64)&&A.getSize()+c<=Ze)break}}let R=tt.generateCheckWords(A,y,C),L=A.getSize()/C,j=tt.generateModeMessage(h,m,L),U=(h?11:14)+m*4,G=new Int32Array(U),J;if(h){J=U;for(let oe=0;oe<G.length;oe++)G[oe]=oe}else{J=U+1+2*T.truncDivision(T.truncDivision(U,2)-1,15);let oe=T.truncDivision(U,2),Ze=T.truncDivision(J,2);for(let Ue=0;Ue<oe;Ue++){let $n=Ue+T.truncDivision(Ue,15);G[oe-Ue-1]=Ze-$n-1,G[oe+Ue]=Ze+$n+1}}let ue=new _e(J);for(let oe=0,Ze=0;oe<m;oe++){let Ue=(m-oe)*4+(h?9:12);for(let $n=0;$n<Ue;$n++){let Br=$n*2;for(let Wn=0;Wn<2;Wn++)R.get(Ze+Br+Wn)&&ue.set(G[oe*2+Wn],G[oe*2+$n]),R.get(Ze+Ue*2+Br+Wn)&&ue.set(G[oe*2+$n],G[U-1-oe*2-Wn]),R.get(Ze+Ue*4+Br+Wn)&&ue.set(G[U-1-oe*2-Wn],G[U-1-oe*2-$n]),R.get(Ze+Ue*6+Br+Wn)&&ue.set(G[U-1-oe*2-$n],G[oe*2+Wn])}Ze+=Ue*8}if(tt.drawModeMessage(ue,h,J,j),h)tt.drawBullsEye(ue,T.truncDivision(J,2),5);else{tt.drawBullsEye(ue,T.truncDivision(J,2),7);for(let oe=0,Ze=0;oe<T.truncDivision(U,2)-1;oe+=15,Ze+=16)for(let Ue=T.truncDivision(J,2)&1;Ue<J;Ue+=2)ue.set(T.truncDivision(J,2)-Ze,Ue),ue.set(T.truncDivision(J,2)+Ze,Ue),ue.set(Ue,T.truncDivision(J,2)-Ze),ue.set(Ue,T.truncDivision(J,2)+Ze)}let fe=new up;return fe.setCompact(h),fe.setSize(J),fe.setLayers(m),fe.setCodeWords(L),fe.setMatrix(ue),fe}static drawBullsEye(i,o,a){for(let u=0;u<a;u+=2)for(let c=o-u;c<=o+u;c++)i.set(c,o-u),i.set(c,o+u),i.set(o-u,c),i.set(o+u,c);i.set(o-a,o-a),i.set(o-a+1,o-a),i.set(o-a,o-a+1),i.set(o+a,o-a),i.set(o+a,o-a+1),i.set(o+a,o+a-1)}static generateModeMessage(i,o,a){let u=new k;return i?(u.appendBits(o-1,2),u.appendBits(a-1,6),u=tt.generateCheckWords(u,28,4)):(u.appendBits(o-1,5),u.appendBits(a-1,11),u=tt.generateCheckWords(u,40,4)),u}static drawModeMessage(i,o,a,u){let c=T.truncDivision(a,2);if(o)for(let f=0;f<7;f++){let h=c-3+f;u.get(f)&&i.set(h,c-5),u.get(f+7)&&i.set(c+5,h),u.get(20-f)&&i.set(h,c+5),u.get(27-f)&&i.set(c-5,h)}else for(let f=0;f<10;f++){let h=c-5+f+T.truncDivision(f,5);u.get(f)&&i.set(h,c-7),u.get(f+10)&&i.set(c+7,h),u.get(29-f)&&i.set(h,c+7),u.get(39-f)&&i.set(c-7,h)}}static generateCheckWords(i,o,a){let u=i.getSize()/a,c=new hd(tt.getGF(a)),f=T.truncDivision(o,a),h=tt.bitsToWords(i,a,f);c.encode(h,f-u);let m=o%a,y=new k;y.appendBits(0,m);for(const C of Array.from(h))y.appendBits(C,a);return y}static bitsToWords(i,o,a){let u=new Int32Array(a),c,f;for(c=0,f=i.getSize()/o;c<f;c++){let h=0;for(let m=0;m<o;m++)h|=i.get(c*o+m)?1<<o-m-1:0;u[c]=h}return u}static getGF(i){switch(i){case 4:return xe.AZTEC_PARAM;case 6:return xe.AZTEC_DATA_6;case 8:return xe.AZTEC_DATA_8;case 10:return xe.AZTEC_DATA_10;case 12:return xe.AZTEC_DATA_12;default:throw new E("Unsupported word size "+i)}}static stuffBits(i,o){let a=new k,u=i.getSize(),c=(1<<o)-2;for(let f=0;f<u;f+=o){let h=0;for(let m=0;m<o;m++)(f+m>=u||i.get(f+m))&&(h|=1<<o-1-m);(h&c)===c?(a.appendBits(h&c,o),f--):h&c?a.appendBits(h,o):(a.appendBits(h|1,o),f--)}return a}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}tt.DEFAULT_EC_PERCENT=33,tt.DEFAULT_AZTEC_LAYERS=0,tt.MAX_NB_BITS=32,tt.MAX_NB_BITS_COMPACT=4,tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Lu{encode(i,o,a,u){return this.encodeWithHints(i,o,a,u,null)}encodeWithHints(i,o,a,u,c){let f=pd.ISO_8859_1,h=tt.DEFAULT_EC_PERCENT,m=tt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(Jt.CHARACTER_SET)&&(f=lp.forName(c.get(Jt.CHARACTER_SET).toString())),c.has(Jt.ERROR_CORRECTION)&&(h=T.parseInt(c.get(Jt.ERROR_CORRECTION).toString())),c.has(Jt.AZTEC_LAYERS)&&(m=T.parseInt(c.get(Jt.AZTEC_LAYERS).toString()))),Lu.encodeLayers(i,o,a,u,f,h,m)}static encodeLayers(i,o,a,u,c,f,h){if(o!==we.AZTEC)throw new E("Can only encode AZTEC, but got "+o);let m=tt.encode(re.getBytes(i,c),f,h);return Lu.renderResult(m,a,u)}static renderResult(i,o,a){let u=i.getMatrix();if(u==null)throw new Ve;let c=u.getWidth(),f=u.getHeight(),h=Math.max(o,c),m=Math.max(a,f),y=Math.min(h/c,m/f),C=(h-c*y)/2,A=(m-f*y)/2,R=new _e(h,m);for(let L=0,j=A;L<f;L++,j+=y)for(let U=0,G=C;U<c;U++,G+=y)u.get(U,L)&&R.setRegion(G,j,y,y);return R}}n.AbstractExpandedDecoder=rd,n.ArgumentException=v,n.ArithmeticException=Qe,n.AztecCode=up,n.AztecCodeReader=wr,n.AztecCodeWriter=Lu,n.AztecDecoder=$e,n.AztecDetector=on,n.AztecDetectorResult=ne,n.AztecEncoder=tt,n.AztecHighLevelEncoder=il,n.AztecPoint=je,n.BarcodeFormat=we,n.Binarizer=N,n.BinaryBitmap=b,n.BitArray=k,n.BitMatrix=_e,n.BitSource=ad,n.BrowserAztecCodeReader=Jr,n.BrowserBarcodeReader=WE,n.BrowserCodeReader=dt,n.BrowserDatamatrixCodeReader=YE,n.BrowserMultiFormatReader=sC,n.BrowserPDF417Reader=oC,n.BrowserQRCodeReader=aC,n.BrowserQRCodeSvgWriter=Qs,n.CharacterSetECI=q,n.ChecksumException=I,n.Code128Reader=he,n.Code39Reader=Tt,n.DataMatrixDecodedBitStreamParser=Wi,n.DataMatrixReader=Xi,n.DecodeHintType=Q,n.DecoderResult=En,n.DefaultGridSampler=Ne,n.DetectorResult=X,n.EAN13Reader=Gs,n.EncodeHintType=Jt,n.Exception=p,n.FormatException=V,n.GenericGF=xe,n.GenericGFPoly=gt,n.GlobalHistogramBinarizer=Oe,n.GridSampler=ge,n.GridSamplerInstance=Xe,n.HTMLCanvasElementLuminanceSource=pe,n.HybridBinarizer=Y,n.ITFReader=ut,n.IllegalArgumentException=E,n.IllegalStateException=Ve,n.InvertedLuminanceSource=de,n.LuminanceSource=ee,n.MathUtils=Fe,n.MultiFormatOneDReader=Fo,n.MultiFormatReader=ap,n.MultiFormatWriter=uC,n.NotFoundException=W,n.OneDReader=jt,n.PDF417DecodedBitStreamParser=Z,n.PDF417DecoderErrorCorrection=tp,n.PDF417Reader=gn,n.PDF417ResultMetadata=rp,n.PerspectiveTransform=ae,n.PlanarYUVLuminanceSource=ri,n.QRCodeByteMatrix=ku,n.QRCodeDataMask=Er,n.QRCodeDecodedBitStreamParser=Rt,n.QRCodeDecoderErrorCorrectionLevel=xt,n.QRCodeDecoderFormatInformation=Sn,n.QRCodeEncoder=Et,n.QRCodeEncoderQRCode=Ys,n.QRCodeMaskUtil=zt,n.QRCodeMatrixUtil=ke,n.QRCodeMode=De,n.QRCodeReader=Yi,n.QRCodeVersion=Te,n.QRCodeWriter=Uo,n.RGBLuminanceSource=gd,n.RSS14Reader=Ut,n.RSSExpandedReader=se,n.ReaderException=Du,n.ReedSolomonDecoder=lt,n.ReedSolomonEncoder=hd,n.ReedSolomonException=wt,n.Result=Ee,n.ResultMetadataType=st,n.ResultPoint=B,n.StringUtils=re,n.UnsupportedOperationException=ie,n.VideoInputDevice=Me,n.WhiteRectangleDetector=me,n.WriterException=pt,n.ZXingArrays=_,n.ZXingCharset=lp,n.ZXingInteger=T,n.ZXingStandardCharsets=pd,n.ZXingStringBuilder=ce,n.ZXingStringEncoding=ye,n.ZXingSystem=O,n.createAbstractExpandedDecoder=Jg,Object.defineProperty(n,"__esModule",{value:!0})})})(M1,M1.exports);var St=M1.exports;const fI=$1(St),dI=fx({__proto__:null,default:fI},[St]);var S2=function(){function e(t,n,r){if(this.formatMap=new Map([[Se.QR_CODE,St.BarcodeFormat.QR_CODE],[Se.AZTEC,St.BarcodeFormat.AZTEC],[Se.CODABAR,St.BarcodeFormat.CODABAR],[Se.CODE_39,St.BarcodeFormat.CODE_39],[Se.CODE_93,St.BarcodeFormat.CODE_93],[Se.CODE_128,St.BarcodeFormat.CODE_128],[Se.DATA_MATRIX,St.BarcodeFormat.DATA_MATRIX],[Se.MAXICODE,St.BarcodeFormat.MAXICODE],[Se.ITF,St.BarcodeFormat.ITF],[Se.EAN_13,St.BarcodeFormat.EAN_13],[Se.EAN_8,St.BarcodeFormat.EAN_8],[Se.PDF_417,St.BarcodeFormat.PDF_417],[Se.RSS_14,St.BarcodeFormat.RSS_14],[Se.RSS_EXPANDED,St.BarcodeFormat.RSS_EXPANDED],[Se.UPC_A,St.BarcodeFormat.UPC_A],[Se.UPC_E,St.BarcodeFormat.UPC_E],[Se.UPC_EAN_EXTENSION,St.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!dI)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),l=new Map;l.set(St.DecodeHintType.POSSIBLE_FORMATS,s),l.set(St.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(l){s(l)}})},e.prototype.decode=function(t){var n=new St.MultiFormatReader(this.verbose,this.hints),r=new St.HTMLCanvasElementLuminanceSource(t),s=new St.BinaryBitmap(new St.HybridBinarizer(r)),l=n.decode(s);return{text:l.text,format:Bv.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var l=s[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),hI=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function g(v){try{p(r.next(v))}catch(E){d(E)}}function x(v){try{p(r.throw(v))}catch(E){d(E)}}function p(v){v.done?l(v.value):s(v.value).then(g,x)}p((r=r.apply(e,t||[])).next())})},gI=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,s,l,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(p){return function(v){return x([p,v])}}function x(p){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(l=p[0]&2?s.return:p[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,p[1])).done)return l;switch(s=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(v){p=[6,v],s=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},A2=function(){function e(t,n,r){if(this.formatMap=new Map([[Se.QR_CODE,"qr_code"],[Se.AZTEC,"aztec"],[Se.CODABAR,"codabar"],[Se.CODE_39,"code_39"],[Se.CODE_93,"code_93"],[Se.CODE_128,"code_128"],[Se.DATA_MATRIX,"data_matrix"],[Se.ITF,"itf"],[Se.EAN_13,"ean_13"],[Se.EAN_8,"ean_8"],[Se.PDF_417,"pdf417"],[Se.UPC_A,"upc_a"],[Se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return hI(this,void 0,void 0,function(){var n,r;return gI(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Bv.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,l=t;s<l.length;s++){var d=l[s],g=d.boundingBox.width*d.boundingBox.height;g>r&&(r=g,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var l=s[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),_2=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function g(v){try{p(r.next(v))}catch(E){d(E)}}function x(v){try{p(r.throw(v))}catch(E){d(E)}}function p(v){v.done?l(v.value):s(v.value).then(g,x)}p((r=r.apply(e,t||[])).next())})},b2=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,s,l,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(p){return function(v){return x([p,v])}}function x(p){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(l=p[0]&2?s.return:p[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,p[1])).done)return l;switch(s=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(v){p=[6,v],s=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},pI=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&A2.isSupported()?(this.primaryDecoder=new A2(t,r,s),this.secondaryDecoder=new S2(t,r,s)):this.primaryDecoder=new S2(t,r,s)}return e.prototype.decodeAsync=function(t){return _2(this,void 0,void 0,function(){var n;return b2(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return _2(this,void 0,void 0,function(){var n,r;return b2(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),lg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),df=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function g(v){try{p(r.next(v))}catch(E){d(E)}}function x(v){try{p(r.throw(v))}catch(E){d(E)}}function p(v){v.done?l(v.value):s(v.value).then(g,x)}p((r=r.apply(e,t||[])).next())})},hf=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,s,l,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(p){return function(v){return x([p,v])}}function x(p){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(l=p[0]&2?s.return:p[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,p[1])).done)return l;switch(s=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(v){p=[6,v],s=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},zv=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),mI=function(e){lg(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(zv),xI=function(e){lg(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(mI),yI=function(e){lg(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(zv),wI=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new xI(this.track)},e.prototype.torchFeature=function(){return new yI(this.track)},e}(),vI=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return df(this,void 0,void 0,function(){var l,d;return hf(this,function(g){switch(g.label){case 0:return l=new e(t,n,s),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:g.sent(),g.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return df(this,void 0,void 0,function(){return hf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),l=s.length,d=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++d,d>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new wI(this.getFirstTrackOrFail())},e}(),EI=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return df(this,void 0,void 0,function(){return hf(this,function(s){return[2,vI.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return df(this,void 0,void 0,function(){var n,r;return hf(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),I2=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function g(v){try{p(r.next(v))}catch(E){d(E)}}function x(v){try{p(r.throw(v))}catch(E){d(E)}}function p(v){v.done?l(v.value):s(v.value).then(g,x)}p((r=r.apply(e,t||[])).next())})},N2=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,s,l,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(p){return function(v){return x([p,v])}}function x(p){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(l=p[0]&2?s.return:p[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,p[1])).done)return l;switch(s=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(v){p=[6,v],s=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},CI=function(){function e(){}return e.failIfNotSupported=function(){return I2(this,void 0,void 0,function(){return N2(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return I2(this,void 0,void 0,function(){return N2(this,function(n){return[2,EI.create(t)]})})},e}(),SI=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function g(v){try{p(r.next(v))}catch(E){d(E)}}function x(v){try{p(r.throw(v))}catch(E){d(E)}}function p(v){v.done?l(v.value):s(v.value).then(g,x)}p((r=r.apply(e,t||[])).next())})},AI=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,s,l,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(p){return function(v){return x([p,v])}}function x(p){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(l=p[0]&2?s.return:p[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,p[1])).done)return l;switch(s=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(v){p=[6,v],s=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},_I=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=ca.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=ca.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return SI(this,void 0,void 0,function(){var t,n,r,s,l,d,g;return AI(this,function(x){switch(x.label){case 0:return t=function(p){for(var v=p.getVideoTracks(),E=0,b=v;E<b.length;E++){var I=b[E];I.enabled=!1,I.stop(),p.removeTrack(I)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),s=[],l=0,d=r;l<d.length;l++)g=d[l],g.kind==="videoinput"&&s.push({id:g.deviceId,label:g.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(l){for(var d=[],g=0,x=l;g<x.length;g++){var p=x[g];p.kind==="video"&&d.push({id:p.id,label:p.label})}t(d)},s=MediaStreamTrack;s.getSources(r)})},e}(),Ht;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ht||(Ht={}));var bI=function(){function e(){this.state=Ht.NOT_STARTED,this.onGoingTransactionNewState=Ht.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ht.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ht.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ht.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ht.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ht.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ht.UNKNOWN:throw"Transition from unknown is not allowed";case Ht.NOT_STARTED:this.failIfNewStateIs(t,[Ht.PAUSED]);break;case Ht.SCANNING:break;case Ht.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var l=s[r];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),II=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ht.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ht.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ht.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ht.PAUSED},e}(),NI=function(){function e(){}return e.create=function(){return new II(new bI)},e}(),TI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),or=function(e){TI(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Hr),RI=function(){function e(t,n){this.logger=n,this.fps=or.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=or.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Uv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ui(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),T2=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new jv(this.verbose),this.qrcode=new pI(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=NI.create()}return e.prototype.start=function(t,n,r,s){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;s?d=s:d=this.verbose?this.logger.log:function(){};var g=RI.create(n,this.logger);this.clearElement();var x=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=x,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:or.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var E=this,b=this.stateManagerProxy.startTransition(Ht.SCANNING);return new Promise(function(I,N){var O=p?g.videoConstraints:E.createVideoConstraints(t);if(!O){b.cancel(),N("videoConstraints should be defined");return}var P={};(!p||g.aspectRatio)&&(P.aspectRatio=g.aspectRatio);var M={onRenderSurfaceReady:function(_,T){E.setupUi(_,T,g),E.isScanning=!0,E.foreverScan(g,r,d)}};CI.failIfNotSupported().then(function(_){_.create(O).then(function(T){return T.render(l.element,P,M).then(function(k){E.renderedCamera=k,b.execute(),I(null)}).catch(function(k){b.cancel(),N(k)})}).catch(function(T){b.cancel(),N(ca.errorGettingUserMedia(T))})}).catch(function(_){b.cancel(),N(ca.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ht.PAUSED),this.showPausedState(),(ui(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Ht.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Ht.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var l=document.getElementById(or.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ui(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,l){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var g=d.width,x=d.height,p=document.getElementById(r.elementId),v=p.clientWidth?p.clientWidth:or.DEFAULT_WIDTH,E=Math.max(p.clientHeight?p.clientHeight:x,or.FILE_SCAN_MIN_HEIGHT),b=r.computeCanvasDrawConfig(g,x,v,E);if(n){var I=r.createCanvasElement(v,E,"qr-canvas-visible");I.style.display="inline-block",p.appendChild(I);var N=I.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=v,N.canvas.height=E,N.drawImage(d,0,0,g,x,b.x,b.y,b.width,b.height)}var O=or.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(d.width,b.width),M=Math.max(d.height,b.height),_=P+2*O,T=M+2*O,k=r.createCanvasElement(_,T);p.appendChild(k);var H=k.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=_,H.canvas.height=T,H.drawImage(d,0,0,g,x,O,O,P,M);try{r.qrcode.decodeRobustlyAsync(k).then(function(Q){s(E2.createFromQrcodeResult(Q))}).catch(l)}catch(Q){l("QR code parse error, error = ".concat(Q))}},d.onerror=l,d.onabort=l,d.onstalled=l,d.onsuspend=l,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return _I.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Uv.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Se.QR_CODE,Se.AZTEC,Se.CODABAR,Se.CODE_39,Se.CODE_93,Se.CODE_128,Se.DATA_MATRIX,Se.MAXICODE,Se.ITF,Se.EAN_13,Se.EAN_8,Se.PDF_417,Se.RSS_14,Se.RSS_EXPANDED,Se.UPC_A,Se.UPC_E,Se.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,l=t.formatsToSupport;s<l.length;s++){var d=l[s];uI(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ui(t))return!0;if(!ui(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ui(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ui(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,l=r.qrbox;this.validateQrboxConfig(l);var d=this.toQrdimensions(t,n,l),g=function(p){if(p<or.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(or.MIN_QR_BOX_SIZE,"px.")},x=function(p){return p>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};g(d.width),g(d.height),d.width=x(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=ui(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var l=this.toQrdimensions(t,n,s);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&l.height<=n,g={x:0,y:0,width:t,height:n},x=d?this.getShadedRegionBounds(t,n,l):g,p=this.createCanvasElement(x.width,x.height),v={willReadFrequently:!0},E=p.getContext("2d",v);E.canvas.width=x.width,E.canvas.height=x.height,this.element.append(p),d&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=E,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=ca.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,E2.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var l=ca.codeParseError(s);return n(l,Fv.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),d=l.videoWidth/l.clientWidth,g=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*d,p=this.qrRegion.height*g,v=this.qrRegion.x*d,E=this.qrRegion.y*g;this.context.drawImage(l,v,E,x,p,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(I){!I&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){b()})):b()}).catch(function(I){s.logger.logError("Error happend while scanning context",I),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},l="exact",d=function(N){if(N in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var p=t.facingMode;if(typeof p=="string"){if(d(p))return{facingMode:p}}else if(typeof p=="object")if(l in p){if(d(p["".concat(l)]))return{facingMode:{exact:p["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var v=typeof p;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var E=t.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(l in E)return{deviceId:{exact:E["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var b=typeof E;throw"Invalid type of 'deviceId' = ".concat(b)}}}var I=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(I)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var l=(r-t)/2,d=(s-n)/2;return{x:l,y:d,width:t,height:n}}else{var g=t,x=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?or.BORDER_SHADER_MATCH_COLOR:or.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,l=n,d=document.createElement("canvas");return d.style.width="".concat(s,"px"),d.style.height="".concat(l,"px"),d.style.display="none",d.id=ui(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var l=document.createElement("div");l.style.position="absolute";var d=(n-s.width)/2,g=(r-s.height)/2;if(l.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(or.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var x=5,p=40;this.insertShaderBorders(l,p,x,-x,null,0,!0),this.insertShaderBorders(l,p,x,-x,null,0,!1),this.insertShaderBorders(l,p,x,null,-x,0,!0),this.insertShaderBorders(l,p,x,null,-x,0,!1),this.insertShaderBorders(l,x,p+x,-x,null,-x,!0),this.insertShaderBorders(l,x,p+x,null,-x,-x,!0),this.insertShaderBorders(l,x,p+x,-x,null,-x,!1),this.insertShaderBorders(l,x,p+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,r,s,l,d,g){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=or.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),s!==null&&(x.style.top="".concat(s,"px")),l!==null&&(x.style.bottom="".concat(l,"px")),g?x.style.left="".concat(d,"px"):x.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),ug="data:image/svg+xml;base64,",OI=ug+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",MI=ug+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",R2=ug+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",DI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",O2=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),kI=function(){function e(){this.data=O2.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=O2.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),PI=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=C2.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var l=document.createElement("a");l.innerText=C2.reportIssues(),l.href="https://github.com/mebjas/html5-qrcode/issues",l.target="new",l.style.color="white",this.infoDiv.appendChild(l),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),LI=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=R2,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=DI,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=R2,this.infoIcon.style.opacity="0.6")},e}(),BI=function(){function e(){var t=this;this.infoDiv=new PI,this.infoIcon=new LI(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),FI=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function g(v){try{p(r.next(v))}catch(E){d(E)}}function x(v){try{p(r.throw(v))}catch(E){d(E)}}function p(v){v.done?l(v.value):s(v.value).then(g,x)}p((r=r.apply(e,t||[])).next())})},jI=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,s,l,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(p){return function(v){return x([p,v])}}function x(p){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(l=p[0]&2?s.return:p[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,p[1])).done)return l;switch(s=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(v){p=[6,v],s=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},M2=function(){function e(){}return e.hasPermissions=function(){return FI(this,void 0,void 0,function(){var t,n,r,s;return jI(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=l.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),Ki=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===ks.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===ks.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Hr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Hr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var l=s[r];if(!Hr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(l))throw"Unsupported scan type ".concat(l)}return t},e}(),cr=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),ki=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(cr.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),Vv=function(e,t,n,r){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function g(v){try{p(r.next(v))}catch(E){d(E)}}function x(v){try{p(r.throw(v))}catch(E){d(E)}}function p(v){v.done?l(v.value):s(v.value).then(g,x)}p((r=r.apply(e,t||[])).next())})},Hv=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,s,l,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(p){return function(v){return x([p,v])}}function x(p){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(l=p[0]&2?s.return:p[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,p[1])).done)return l;switch(s=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(v){p=[6,v],s=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},D2=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Vv(this,void 0,void 0,function(){var t,n;return Hv(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?ct.torchOffButton():ct.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?ct.torchOnFailedMessage():ct.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),UI=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=ki.createElement("button",cr.TORCH_BUTTON_ID),this.torchController=new D2(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=ct.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(l){return Vv(r,void 0,void 0,function(){return Hv(this,function(d){switch(d.label){case 0:return[4,s.torchController.flipState()];case 1:return d.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(cr.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(cr.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(cr.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(cr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new D2(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=ct.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var l=new e(n,s);return l.render(t,r),l},e}(),zI=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=ki.createElement("button",cr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=ki.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var l=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var x=g.target;if(!(x.files&&x.files.length===0)){var p=x.files,v=p[0],E=v.name;l.setImageNameToButton(E),r(v)}}});var d=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(d),this.fileBasedScanRegion.addEventListener("dragenter",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder();var x=g.dataTransfer;if(x){var p=x.files;if(!p||p.length===0)return;for(var v=!1,E=0;E<p.length;++E){var b=p.item(E);if(b){var I=/image.*/;if(b.type.match(I)){v=!0;var N=b.name;l.setImageNameToButton(N),r(b),d.innerText=ct.dragAndDropMessage();break}}}v||(d.innerText=ct.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=ct.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,l=t.substring(s-8,s);t="".concat(r,"....").concat(l)}var d=ct.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=d},e.prototype.setInitialValueToButton=function(){var t=ct.fileSelectionChooseImage()+" - "+ct.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),VI=function(){function e(t){this.selectElement=ki.createElement("select",cr.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=ct.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var l=1,d=0,g=this.cameras;d<g.length;d++){var x=g[d],p=x.id,v=x.label==null?p:x.label;(!v||v==="")&&(v=[ct.anonymousCameraPrefix(),l++].join(" "));var E=document.createElement("option");E.value=p,E.innerText=v,this.options.push(E),this.selectElement.appendChild(E)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),HI=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ki.createElement("input",cr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=ct.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=ct.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),ar;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ar||(ar={}));function GI(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function $I(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var WI=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Ki(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new jv(this.verbose),this.persistedDataManager=new kI,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(l,d){if(t)t(l,d);else{if(r.lastMatchFound===l)return;r.lastMatchFound=l,r.setHeaderMessage(ct.lastMatch(l),ar.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(l,d){n&&n(l,d)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new T2(this.getScanRegionId(),$I(this.config,this.verbose))},e.prototype.pause=function(t){(ui(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(l){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(l){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",l),s(l)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Hr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Hr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Hr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Hr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Hr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Hr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Hr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Ki.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),l=this.getDashboardId();s.id=l,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new BI;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(ct.cameraPermissionRequesting());var l=function(){r||s.createPermissionButton(t,n)};T2.getCameras().then(function(d){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),d&&d.length>0?(t.removeChild(n),s.renderCameraSelection(d)):(s.setHeaderMessage(ct.noCameraFound(),ar.STATUS_WARNING),l())}).catch(function(d){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:l(),s.setHeaderMessage(d,ar.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=ki.createElement("button",this.getCameraPermissionButtonId());s.innerText=ct.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Ki.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){M2.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Ki.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Ki.isFileScanType(this.currentScanType),r=this,s=function(l){if(!r.html5Qrcode)throw"html5Qrcode not defined";Ki.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(ct.loadingImage()),r.html5Qrcode.scanFileV2(l,!0).then(function(d){r.resetHeaderMessage(),r.qrCodeSuccessCallback(d.decodedText,d)}).catch(function(d){r.setHeaderMessage(d,ar.STATUS_WARNING),r.qrCodeErrorCallback(d,Fv.createFrom(d))}))};this.fileSelectionUi=zI.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var l=HI.create(s,!1),d=function(O){var P=O.zoomFeature();if(P.isSupported()){l.setOnCameraZoomValueChangeCallback(function(_){P.apply(_)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=cI(M,P.min(),P.max()),l.setValues(P.min(),P.max(),M,P.step()),l.show()}},g=VI.create(s,t),x=document.createElement("span"),p=ki.createElement("button",cr.CAMERA_START_BUTTON_ID);p.innerText=ct.scanButtonStartScanningText(),x.appendChild(p);var v=ki.createElement("button",cr.CAMERA_STOP_BUTTON_ID);v.innerText=ct.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,x.appendChild(v);var E,b=function(O){if(!O.torchFeature().isSupported()){E&&E.hide();return}E?E.updateTorchCapability(O.torchFeature()):E=UI.create(x,O.torchFeature(),{display:"none",marginLeft:"5px"},function(P){r.setHeaderMessage(P,ar.STATUS_WARNING)}),E.show()};s.appendChild(x);var I=function(O){O||(p.style.display="none"),p.innerText=ct.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,O&&(p.style.display="inline-block")};if(p.addEventListener("click",function(O){p.innerText=ct.scanButtonScanningStarting(),g.disable(),p.disabled=!0,p.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var P=g.getValue();r.persistedDataManager.setLastUsedCameraId(P),r.html5Qrcode.start(P,GI(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(M){v.disabled=!1,v.style.display="inline-block",I(!1);var _=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&b(_),n.config.showZoomSliderIfSupported===!0&&d(_)}).catch(function(M){r.showHideScanTypeSwapLink(!0),g.enable(),I(!0),r.setHeaderMessage(M,ar.STATUS_WARNING)})}),g.hasSingleItem()&&p.click(),v.addEventListener("click",function(O){if(!r.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,r.html5Qrcode.stop().then(function(P){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),p.disabled=!1,v.style.display="none",p.style.display="inline-block",E&&(E.reset(),E.hide()),l.removeOnCameraZoomValueChangeCallback(),l.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(P){v.disabled=!1,r.setHeaderMessage(P,ar.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var N=r.persistedDataManager.getLastUsedCameraId();g.hasValue(N)?(g.setValue(N),p.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=ct.textIfCameraScanSelected(),r=ct.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");l.style.textAlign="center";var d=ki.createElement("span",this.getDashboardSectionSwapLinkId());d.style.textDecoration="underline",d.style.cursor="pointer",d.innerText=Ki.isCameraScanType(this.currentScanType)?n:r,d.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Ki.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),d.innerText=r,t.currentScanType=ks.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),d.innerText=n,t.currentScanType=ks.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),l.appendChild(d),s.appendChild(l)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){M2.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=ar.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case ar.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case ar.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case ar.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=OI,this.cameraScanImage.alt=ct.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=MI,this.fileScanImage.alt=ct.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return cr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return cr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const Gv=({onClose:e,onScan:t})=>{const n=z.useRef(null);return z.useEffect(()=>{const r=new WI("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);return r.render(s=>{t(s),r.clear(),e()},s=>{}),n.current=r,()=>{n.current&&n.current.clear().catch(s=>{console.error("Failed to clear html5-qrcode scanner. ",s)})}},[t,e]),w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 relative",children:[w.jsx("button",{onClick:()=>{n.current&&n.current.clear(),e()},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:w.jsx(Uf,{className:"w-6 h-6"})}),w.jsx("h3",{className:"text-lg font-bold mb-4 text-center",children:"Scan Barcode / QR Code"}),w.jsx("div",{id:"reader",className:"w-full"}),w.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Align the code within the frame."})]})})},XI=({onSuccess:e})=>{const[t,n]=z.useState({name:"",genericName:"",category:"",manufacturer:"",storageCondition:"Room Temp",minStockLevel:0}),[r,s]=z.useState(!1),[l,d]=z.useState({batchNumber:"",expiryDate:"",quantity:0,mrp:0,costPrice:0}),[g,x]=z.useState(!1),[p,v]=z.useState({packSize:0,numPacks:0}),[E,b]=z.useState(!1),[I,N]=z.useState({type:"",text:""}),[O,P]=z.useState(!1);z.useEffect(()=>{if(g){const k=(Number(p.packSize)||0)*(Number(p.numPacks)||0);d(H=>({...H,quantity:k}))}},[g,p]);const M=k=>{n({...t,[k.target.name]:k.target.value})},_=k=>{d({...l,[k.target.name]:k.target.value})},T=async k=>{k.preventDefault(),b(!0),N({type:"",text:""});const H={...t,minStockLevel:Number(t.minStockLevel)||0};r&&(H.initialBatch={...l,quantity:Number(l.quantity),mrp:Number(l.mrp),costPrice:Number(l.costPrice)});try{const Q=localStorage.getItem("token"),V=await fetch("/api/inventory/products",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify(H)}),te=await V.json();if(!V.ok)throw new Error(te.message||"Failed to create product");N({type:"success",text:"Product created successfully!"}),n({name:"",genericName:"",category:"",manufacturer:"",storageCondition:"Room Temp",minStockLevel:0}),s(!1),x(!1),v({packSize:0,numPacks:0}),d({batchNumber:"",expiryDate:"",quantity:0,mrp:0,costPrice:0}),e&&e()}catch(Q){N({type:"error",text:Q.message})}finally{b(!1)}};return w.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6 border border-gray-200",children:[w.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[w.jsx(Dv,{className:"w-5 h-5 text-blue-600"}),"Create New Product"]}),I.text&&w.jsxs("div",{className:`p-4 mb-4 rounded-md flex items-center gap-2 ${I.type==="error"?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:[I.type==="error"?w.jsx(L8,{className:"w-5 h-5"}):w.jsx(F8,{className:"w-5 h-5"}),I.text]}),w.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name *"}),w.jsx("input",{type:"text",name:"name",required:!0,value:t.name,onChange:M,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",placeholder:"e.g. Panadol"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Generic Name"}),w.jsx("input",{type:"text",name:"genericName",value:t.genericName,onChange:M,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",placeholder:"e.g. Paracetamol"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),w.jsx("input",{type:"text",name:"category",value:t.category,onChange:M,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",placeholder:"e.g. Analgesic"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manufacturer"}),w.jsx("input",{type:"text",name:"manufacturer",value:t.manufacturer,onChange:M,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",placeholder:"e.g. GSK"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Storage Condition"}),w.jsxs("select",{name:"storageCondition",value:t.storageCondition,onChange:M,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",children:[w.jsx("option",{value:"Room Temp",children:"Room Temp"}),w.jsx("option",{value:"Cold Chain",children:"Cold Chain"}),w.jsx("option",{value:"Refrigerated",children:"Refrigerated"}),w.jsx("option",{value:"Frozen",children:"Frozen"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Minimum Stock Level"}),w.jsx("input",{type:"number",name:"minStockLevel",min:"0",value:t.minStockLevel,onChange:M,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),w.jsx("div",{className:"md:col-span-2",children:w.jsxs("div",{className:"flex items-center mb-4",children:[w.jsx("input",{id:"addInitialStock",name:"addInitialStock",type:"checkbox",checked:r,onChange:k=>s(k.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),w.jsx("label",{htmlFor:"addInitialStock",className:"ml-2 block text-sm text-gray-900",children:"Add Initial Stock"})]})}),r&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"md:col-span-2 border-t pt-4 mt-2",children:w.jsx("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Initial Batch Details"})}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Batch Number *"}),w.jsxs("div",{className:"flex mt-1",children:[w.jsx("input",{type:"text",name:"batchNumber",required:r,value:l.batchNumber,onChange:_,className:"block w-full rounded-l-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"}),w.jsx("button",{type:"button",onClick:()=>P(!0),className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm hover:bg-gray-100",title:"Scan Barcode",children:w.jsx(Pv,{className:"h-4 w-4"})})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiry Date *"}),w.jsx("input",{type:"date",name:"expiryDate",required:r,value:l.expiryDate,onChange:_,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Quantity (Units) *"}),w.jsxs("div",{className:"flex items-center mb-2 mt-1",children:[w.jsx("input",{type:"checkbox",id:"usePackCalcProd",className:"mr-2",checked:g,onChange:k=>x(k.target.checked)}),w.jsx("label",{htmlFor:"usePackCalcProd",className:"text-xs text-gray-500",children:"Calculate from Packs"})]}),g&&w.jsxs("div",{className:"flex space-x-2 mb-2",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("input",{type:"number",min:"0",placeholder:"Size",className:"w-full text-xs border rounded p-1",value:p.packSize||"",onChange:k=>v({...p,packSize:k.target.value})}),w.jsx("span",{className:"text-[10px] text-gray-400",children:"Units/Pack"})]}),w.jsxs("div",{className:"flex-1",children:[w.jsx("input",{type:"number",min:"0",placeholder:"Count",className:"w-full text-xs border rounded p-1",value:p.numPacks||"",onChange:k=>v({...p,numPacks:k.target.value})}),w.jsx("span",{className:"text-[10px] text-gray-400",children:"No. Packs"})]})]}),w.jsx("input",{type:"number",name:"quantity",min:"0",readOnly:g,required:r,value:l.quantity,onChange:_,className:rs("mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",g&&"bg-gray-100 cursor-not-allowed")})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"MRP (Per Unit) *"}),w.jsx("input",{type:"number",name:"mrp",step:"0.01",min:"0",required:r,value:l.mrp,onChange:_,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cost Price (Per Unit) *"}),w.jsx("input",{type:"number",name:"costPrice",step:"0.01",min:"0",required:r,value:l.costPrice,onChange:_,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),w.jsx("div",{className:"hidden md:block"})]}),w.jsx("div",{className:"md:col-span-2",children:w.jsx("button",{type:"submit",disabled:E,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:E?"Creating Product...":"Create Product"})})]}),O&&w.jsx(Gv,{onClose:()=>P(!1),onScan:k=>{d(H=>({...H,batchNumber:k})),P(!1)}})]})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function vs(e,t){return typeof e=="function"?e(t):e}function pr(e,t){return n=>{t.setState(r=>({...r,[e]:vs(n,r[e])}))}}function zf(e){return e instanceof Function}function YI(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function QI(e,t){const n=[],r=s=>{s.forEach(l=>{n.push(l);const d=t(l);d!=null&&d.length&&r(d)})};return r(e),n}function Le(e,t,n){let r=[],s;return l=>{let d;n.key&&n.debug&&(d=Date.now());const g=e(l);if(!(g.length!==r.length||g.some((v,E)=>r[E]!==v)))return s;r=g;let p;if(n.key&&n.debug&&(p=Date.now()),s=t(...g),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const v=Math.round((Date.now()-d)*100)/100,E=Math.round((Date.now()-p)*100)/100,b=E/16,I=(N,O)=>{for(N=String(N);N.length<O;)N=" "+N;return N};console.info(`%c ${I(E,5)} /${I(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function Be(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function qI(e,t,n,r){const s=()=>{var d;return(d=l.getValue())!=null?d:e.options.renderFallbackValue},l={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:Le(()=>[e,n,t,l],(d,g,x,p)=>({table:d,column:g,row:x,cell:p,getValue:p.getValue,renderValue:p.renderValue}),Be(e.options,"debugCells"))};return e._features.forEach(d=>{d.createCell==null||d.createCell(l,n,t,e)},{}),l}function ZI(e,t,n,r){var s,l;const g={...e._getDefaultColumnDef(),...t},x=g.accessorKey;let p=(s=(l=g.id)!=null?l:x?typeof String.prototype.replaceAll=="function"?x.replaceAll(".","_"):x.replace(/\./g,"_"):void 0)!=null?s:typeof g.header=="string"?g.header:void 0,v;if(g.accessorFn?v=g.accessorFn:x&&(x.includes(".")?v=b=>{let I=b;for(const O of x.split(".")){var N;I=(N=I)==null?void 0:N[O]}return I}:v=b=>b[g.accessorKey]),!p)throw new Error;let E={id:`${String(p)}`,accessorFn:v,parent:r,depth:n,columnDef:g,columns:[],getFlatColumns:Le(()=>[!0],()=>{var b;return[E,...(b=E.columns)==null?void 0:b.flatMap(I=>I.getFlatColumns())]},Be(e.options,"debugColumns")),getLeafColumns:Le(()=>[e._getOrderColumnsFn()],b=>{var I;if((I=E.columns)!=null&&I.length){let N=E.columns.flatMap(O=>O.getLeafColumns());return b(N)}return[E]},Be(e.options,"debugColumns"))};for(const b of e._features)b.createColumn==null||b.createColumn(E,e);return E}const bn="debugHeaders";function k2(e,t,n){var r;let l={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const d=[],g=x=>{x.subHeaders&&x.subHeaders.length&&x.subHeaders.map(g),d.push(x)};return g(l),d},getContext:()=>({table:e,header:l,column:t})};return e._features.forEach(d=>{d.createHeader==null||d.createHeader(l,e)}),l}const KI={createTable:e=>{e.getHeaderGroups=Le(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var l,d;const g=(l=r==null?void 0:r.map(E=>n.find(b=>b.id===E)).filter(Boolean))!=null?l:[],x=(d=s==null?void 0:s.map(E=>n.find(b=>b.id===E)).filter(Boolean))!=null?d:[],p=n.filter(E=>!(r!=null&&r.includes(E.id))&&!(s!=null&&s.includes(E.id)));return sc(t,[...g,...p,...x],e)},Be(e.options,bn)),e.getCenterHeaderGroups=Le(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(l=>!(r!=null&&r.includes(l.id))&&!(s!=null&&s.includes(l.id))),sc(t,n,e,"center")),Be(e.options,bn)),e.getLeftHeaderGroups=Le(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const l=(s=r==null?void 0:r.map(d=>n.find(g=>g.id===d)).filter(Boolean))!=null?s:[];return sc(t,l,e,"left")},Be(e.options,bn)),e.getRightHeaderGroups=Le(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const l=(s=r==null?void 0:r.map(d=>n.find(g=>g.id===d)).filter(Boolean))!=null?s:[];return sc(t,l,e,"right")},Be(e.options,bn)),e.getFooterGroups=Le(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Be(e.options,bn)),e.getLeftFooterGroups=Le(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Be(e.options,bn)),e.getCenterFooterGroups=Le(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Be(e.options,bn)),e.getRightFooterGroups=Le(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Be(e.options,bn)),e.getFlatHeaders=Le(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Be(e.options,bn)),e.getLeftFlatHeaders=Le(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Be(e.options,bn)),e.getCenterFlatHeaders=Le(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Be(e.options,bn)),e.getRightFlatHeaders=Le(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Be(e.options,bn)),e.getCenterLeafHeaders=Le(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Be(e.options,bn)),e.getLeftLeafHeaders=Le(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Be(e.options,bn)),e.getRightLeafHeaders=Le(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Be(e.options,bn)),e.getLeafHeaders=Le(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,l,d,g,x,p;return[...(s=(l=t[0])==null?void 0:l.headers)!=null?s:[],...(d=(g=n[0])==null?void 0:g.headers)!=null?d:[],...(x=(p=r[0])==null?void 0:p.headers)!=null?x:[]].map(v=>v.getLeafHeaders()).flat()},Be(e.options,bn))}};function sc(e,t,n,r){var s,l;let d=0;const g=function(b,I){I===void 0&&(I=1),d=Math.max(d,I),b.filter(N=>N.getIsVisible()).forEach(N=>{var O;(O=N.columns)!=null&&O.length&&g(N.columns,I+1)},0)};g(e);let x=[];const p=(b,I)=>{const N={depth:I,id:[r,`${I}`].filter(Boolean).join("_"),headers:[]},O=[];b.forEach(P=>{const M=[...O].reverse()[0],_=P.column.depth===N.depth;let T,k=!1;if(_&&P.column.parent?T=P.column.parent:(T=P.column,k=!0),M&&(M==null?void 0:M.column)===T)M.subHeaders.push(P);else{const H=k2(n,T,{id:[r,I,T.id,P==null?void 0:P.id].filter(Boolean).join("_"),isPlaceholder:k,placeholderId:k?`${O.filter(Q=>Q.column===T).length}`:void 0,depth:I,index:O.length});H.subHeaders.push(P),O.push(H)}N.headers.push(P),P.headerGroup=N}),x.push(N),I>0&&p(O,I-1)},v=t.map((b,I)=>k2(n,b,{depth:d,index:I}));p(v,d-1),x.reverse();const E=b=>b.filter(N=>N.column.getIsVisible()).map(N=>{let O=0,P=0,M=[0];N.subHeaders&&N.subHeaders.length?(M=[],E(N.subHeaders).forEach(T=>{let{colSpan:k,rowSpan:H}=T;O+=k,M.push(H)})):O=1;const _=Math.min(...M);return P=P+_,N.colSpan=O,N.rowSpan=P,{colSpan:O,rowSpan:P}});return E((s=(l=x[0])==null?void 0:l.headers)!=null?s:[]),x}const JI=(e,t,n,r,s,l,d)=>{let g={id:t,index:r,original:n,depth:s,parentId:d,_valuesCache:{},_uniqueValuesCache:{},getValue:x=>{if(g._valuesCache.hasOwnProperty(x))return g._valuesCache[x];const p=e.getColumn(x);if(p!=null&&p.accessorFn)return g._valuesCache[x]=p.accessorFn(g.original,r),g._valuesCache[x]},getUniqueValues:x=>{if(g._uniqueValuesCache.hasOwnProperty(x))return g._uniqueValuesCache[x];const p=e.getColumn(x);if(p!=null&&p.accessorFn)return p.columnDef.getUniqueValues?(g._uniqueValuesCache[x]=p.columnDef.getUniqueValues(g.original,r),g._uniqueValuesCache[x]):(g._uniqueValuesCache[x]=[g.getValue(x)],g._uniqueValuesCache[x])},renderValue:x=>{var p;return(p=g.getValue(x))!=null?p:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>QI(g.subRows,x=>x.subRows),getParentRow:()=>g.parentId?e.getRow(g.parentId,!0):void 0,getParentRows:()=>{let x=[],p=g;for(;;){const v=p.getParentRow();if(!v)break;x.push(v),p=v}return x.reverse()},getAllCells:Le(()=>[e.getAllLeafColumns()],x=>x.map(p=>qI(e,g,p,p.id)),Be(e.options,"debugRows")),_getAllCellsByColumnId:Le(()=>[g.getAllCells()],x=>x.reduce((p,v)=>(p[v.column.id]=v,p),{}),Be(e.options,"debugRows"))};for(let x=0;x<e._features.length;x++){const p=e._features[x];p==null||p.createRow==null||p.createRow(g,e)}return g},eN={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},$v=(e,t,n)=>{var r,s;const l=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(l))};$v.autoRemove=e=>qr(e);const Wv=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Wv.autoRemove=e=>qr(e);const Xv=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};Xv.autoRemove=e=>qr(e);const Yv=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Yv.autoRemove=e=>qr(e);const Qv=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});Qv.autoRemove=e=>qr(e)||!(e!=null&&e.length);const qv=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});qv.autoRemove=e=>qr(e)||!(e!=null&&e.length);const Zv=(e,t,n)=>e.getValue(t)===n;Zv.autoRemove=e=>qr(e);const Kv=(e,t,n)=>e.getValue(t)==n;Kv.autoRemove=e=>qr(e);const cg=(e,t,n)=>{let[r,s]=n;const l=e.getValue(t);return l>=r&&l<=s};cg.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,l=t===null||Number.isNaN(r)?-1/0:r,d=n===null||Number.isNaN(s)?1/0:s;if(l>d){const g=l;l=d,d=g}return[l,d]};cg.autoRemove=e=>qr(e)||qr(e[0])&&qr(e[1]);const bi={includesString:$v,includesStringSensitive:Wv,equalsString:Xv,arrIncludes:Yv,arrIncludesAll:Qv,arrIncludesSome:qv,equals:Zv,weakEquals:Kv,inNumberRange:cg};function qr(e){return e==null||e===""}const tN={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:pr("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?bi.includesString:typeof r=="number"?bi.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?bi.equals:Array.isArray(r)?bi.arrIncludes:bi.weakEquals},e.getFilterFn=()=>{var n,r;return zf(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:bi[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),l=r==null?void 0:r.find(v=>v.id===e.id),d=vs(n,l?l.value:void 0);if(P2(s,d,e)){var g;return(g=r==null?void 0:r.filter(v=>v.id!==e.id))!=null?g:[]}const x={id:e.id,value:d};if(l){var p;return(p=r==null?void 0:r.map(v=>v.id===e.id?x:v))!=null?p:[]}return r!=null&&r.length?[...r,x]:[x]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var l;return(l=vs(t,s))==null?void 0:l.filter(d=>{const g=n.find(x=>x.id===d.id);if(g){const x=g.getFilterFn();if(P2(x,d.value,g))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function P2(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const nN=(e,t,n)=>n.reduce((r,s)=>{const l=s.getValue(e);return r+(typeof l=="number"?l:0)},0),rN=(e,t,n)=>{let r;return n.forEach(s=>{const l=s.getValue(e);l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}),r},iN=(e,t,n)=>{let r;return n.forEach(s=>{const l=s.getValue(e);l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}),r},sN=(e,t,n)=>{let r,s;return n.forEach(l=>{const d=l.getValue(e);d!=null&&(r===void 0?d>=d&&(r=s=d):(r>d&&(r=d),s<d&&(s=d)))}),[r,s]},oN=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let l=s.getValue(e);l!=null&&(l=+l)>=l&&(++n,r+=l)}),n)return r/n},aN=(e,t)=>{if(!t.length)return;const n=t.map(l=>l.getValue(e));if(!YI(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((l,d)=>l-d);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},lN=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),uN=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,cN=(e,t)=>t.length,Jd={sum:nN,min:rN,max:iN,extent:sN,mean:oN,median:aN,unique:lN,uniqueCount:uN,count:cN},fN={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:pr("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Jd.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Jd.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return zf(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Jd[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function dN(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(l=>!t.includes(l.id));return n==="remove"?r:[...t.map(l=>e.find(d=>d.id===l)).filter(Boolean),...r]}const hN={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:pr("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Le(n=>[Bl(t,n)],n=>n.findIndex(r=>r.id===e.id),Be(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Bl(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=Bl(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Le(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let l=[];if(!(t!=null&&t.length))l=s;else{const d=[...t],g=[...s];for(;g.length&&d.length;){const x=d.shift(),p=g.findIndex(v=>v.id===x);p>-1&&l.push(g.splice(p,1)[0])}l=[...l,...g]}return dN(l,n,r)},Be(e.options,"debugTable"))}},e0=()=>({left:[],right:[]}),gN={getInitialState:e=>({columnPinning:e0(),...e}),getDefaultOptions:e=>({onColumnPinningChange:pr("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var l,d;if(n==="right"){var g,x;return{left:((g=s==null?void 0:s.left)!=null?g:[]).filter(E=>!(r!=null&&r.includes(E))),right:[...((x=s==null?void 0:s.right)!=null?x:[]).filter(E=>!(r!=null&&r.includes(E))),...r]}}if(n==="left"){var p,v;return{left:[...((p=s==null?void 0:s.left)!=null?p:[]).filter(E=>!(r!=null&&r.includes(E))),...r],right:((v=s==null?void 0:s.right)!=null?v:[]).filter(E=>!(r!=null&&r.includes(E)))}}return{left:((l=s==null?void 0:s.left)!=null?l:[]).filter(E=>!(r!=null&&r.includes(E))),right:((d=s==null?void 0:s.right)!=null?d:[]).filter(E=>!(r!=null&&r.includes(E)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,l,d;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((l=(d=t.options.enableColumnPinning)!=null?d:t.options.enablePinning)!=null?l:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(g=>g.id),{left:r,right:s}=t.getState().columnPinning,l=n.some(g=>r==null?void 0:r.includes(g)),d=n.some(g=>s==null?void 0:s.includes(g));return l?"left":d?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Le(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const l=[...r??[],...s??[]];return n.filter(d=>!l.includes(d.column.id))},Be(t.options,"debugRows")),e.getLeftVisibleCells=Le(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(l=>n.find(d=>d.column.id===l)).filter(Boolean).map(l=>({...l,position:"left"})),Be(t.options,"debugRows")),e.getRightVisibleCells=Le(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(l=>n.find(d=>d.column.id===l)).filter(Boolean).map(l=>({...l,position:"right"})),Be(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?e0():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:e0())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,l;return!!((s=r.left)!=null&&s.length||(l=r.right)!=null&&l.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Le(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Be(e.options,"debugColumns")),e.getRightLeafColumns=Le(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Be(e.options,"debugColumns")),e.getCenterLeafColumns=Le(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(l=>!s.includes(l.id))},Be(e.options,"debugColumns"))}};function pN(e){return e||(typeof document<"u"?document:null)}const oc={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},t0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),mN={getDefaultColumnDef:()=>oc,getInitialState:e=>({columnSizing:{},columnSizingInfo:t0(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:pr("columnSizing",e),onColumnSizingInfoChange:pr("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const l=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:oc.minSize,(r=l??e.columnDef.size)!=null?r:oc.size),(s=e.columnDef.maxSize)!=null?s:oc.maxSize)},e.getStart=Le(n=>[n,Bl(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,l)=>s+l.getSize(),0),Be(t.options,"debugColumns")),e.getAfter=Le(n=>[n,Bl(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,l)=>s+l.getSize(),0),Be(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var l;n+=(l=s.column.getSize())!=null?l:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return l=>{if(!r||!s||(l.persist==null||l.persist(),n0(l)&&l.touches&&l.touches.length>1))return;const d=e.getSize(),g=e?e.getLeafHeaders().map(M=>[M.column.id,M.column.getSize()]):[[r.id,r.getSize()]],x=n0(l)?Math.round(l.touches[0].clientX):l.clientX,p={},v=(M,_)=>{typeof _=="number"&&(t.setColumnSizingInfo(T=>{var k,H;const Q=t.options.columnResizeDirection==="rtl"?-1:1,V=(_-((k=T==null?void 0:T.startOffset)!=null?k:0))*Q,te=Math.max(V/((H=T==null?void 0:T.startSize)!=null?H:0),-.999999);return T.columnSizingStart.forEach(q=>{let[ie,ye]=q;p[ie]=Math.round(Math.max(ye+ye*te,0)*100)/100}),{...T,deltaOffset:V,deltaPercentage:te}}),(t.options.columnResizeMode==="onChange"||M==="end")&&t.setColumnSizing(T=>({...T,...p})))},E=M=>v("move",M),b=M=>{v("end",M),t.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},I=pN(n),N={moveHandler:M=>E(M.clientX),upHandler:M=>{I==null||I.removeEventListener("mousemove",N.moveHandler),I==null||I.removeEventListener("mouseup",N.upHandler),b(M.clientX)}},O={moveHandler:M=>(M.cancelable&&(M.preventDefault(),M.stopPropagation()),E(M.touches[0].clientX),!1),upHandler:M=>{var _;I==null||I.removeEventListener("touchmove",O.moveHandler),I==null||I.removeEventListener("touchend",O.upHandler),M.cancelable&&(M.preventDefault(),M.stopPropagation()),b((_=M.touches[0])==null?void 0:_.clientX)}},P=xN()?{passive:!1}:!1;n0(l)?(I==null||I.addEventListener("touchmove",O.moveHandler,P),I==null||I.addEventListener("touchend",O.upHandler,P)):(I==null||I.addEventListener("mousemove",N.moveHandler,P),I==null||I.addEventListener("mouseup",N.upHandler,P)),t.setColumnSizingInfo(M=>({...M,startOffset:x,startSize:d,deltaOffset:0,deltaPercentage:0,columnSizingStart:g,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?t0():(n=e.initialState.columnSizingInfo)!=null?n:t0())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let ac=null;function xN(){if(typeof ac=="boolean")return ac;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return ac=e,ac}function n0(e){return e.type==="touchstart"}const yN={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:pr("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(l=>l.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Le(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Be(t.options,"debugRows")),e.getVisibleCells=Le(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],Be(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Le(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),Be(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,l)=>({...s,[l.id]:n||!(l.getCanHide!=null&&l.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Bl(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const wN={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},vN={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:pr("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,l;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((l=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?l:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>bi.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return zf(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:bi[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},EN={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:pr("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,l;e.setExpanded(r?{}:(s=(l=e.initialState)==null?void 0:l.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(l=>{const d=l.split(".");r=Math.max(r,d.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const l=r===!0?!0:!!(r!=null&&r[e.id]);let d={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(g=>{d[g]=!0}):d=r,n=(s=n)!=null?s:!l,!l&&n)return{...d,[e.id]:!0};if(l&&!n){const{[e.id]:g,...x}=d;return x}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},D1=0,k1=10,r0=()=>({pageIndex:D1,pageSize:k1}),CN={getInitialState:e=>({...e,pagination:{...r0(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:pr("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=l=>vs(r,l);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?r0():(s=e.initialState.pagination)!=null?s:r0())},e.setPageIndex=r=>{e.setPagination(s=>{let l=vs(r,s.pageIndex);const d=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return l=Math.max(0,Math.min(l,d)),{...s,pageIndex:l}})},e.resetPageIndex=r=>{var s,l;e.setPageIndex(r?D1:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?s:D1)},e.resetPageSize=r=>{var s,l;e.setPageSize(r?k1:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?s:k1)},e.setPageSize=r=>{e.setPagination(s=>{const l=Math.max(1,vs(r,s.pageSize)),d=s.pageSize*s.pageIndex,g=Math.floor(d/l);return{...s,pageIndex:g,pageSize:l}})},e.setPageCount=r=>e.setPagination(s=>{var l;let d=vs(r,(l=e.options.pageCount)!=null?l:-1);return typeof d=="number"&&(d=Math.max(-1,d)),{...s,pageCount:d}}),e.getPageOptions=Le(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((l,d)=>d)),s},Be(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},i0=()=>({top:[],bottom:[]}),SN={getInitialState:e=>({rowPinning:i0(),...e}),getDefaultOptions:e=>({onRowPinningChange:pr("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const l=r?e.getLeafRows().map(x=>{let{id:p}=x;return p}):[],d=s?e.getParentRows().map(x=>{let{id:p}=x;return p}):[],g=new Set([...d,e.id,...l]);t.setRowPinning(x=>{var p,v;if(n==="bottom"){var E,b;return{top:((E=x==null?void 0:x.top)!=null?E:[]).filter(O=>!(g!=null&&g.has(O))),bottom:[...((b=x==null?void 0:x.bottom)!=null?b:[]).filter(O=>!(g!=null&&g.has(O))),...Array.from(g)]}}if(n==="top"){var I,N;return{top:[...((I=x==null?void 0:x.top)!=null?I:[]).filter(O=>!(g!=null&&g.has(O))),...Array.from(g)],bottom:((N=x==null?void 0:x.bottom)!=null?N:[]).filter(O=>!(g!=null&&g.has(O)))}}return{top:((p=x==null?void 0:x.top)!=null?p:[]).filter(O=>!(g!=null&&g.has(O))),bottom:((v=x==null?void 0:x.bottom)!=null?v:[]).filter(O=>!(g!=null&&g.has(O)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,l=n.some(g=>r==null?void 0:r.includes(g)),d=n.some(g=>s==null?void 0:s.includes(g));return l?"top":d?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const l=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(d=>{let{id:g}=d;return g});return(r=l==null?void 0:l.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?i0():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:i0())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,l;return!!((s=r.top)!=null&&s.length||(l=r.bottom)!=null&&l.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(d=>{const g=e.getRow(d,!0);return g.getIsAllParentsExpanded()?g:null}):(n??[]).map(d=>t.find(g=>g.id===d))).filter(Boolean).map(d=>({...d,position:r}))},e.getTopRows=Le(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Be(e.options,"debugRows")),e.getBottomRows=Le(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Be(e.options,"debugRows")),e.getCenterRows=Le(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(l=>!s.has(l.id))},Be(e.options,"debugRows"))}},AN={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:pr("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(l=>{l.getCanSelect()&&(r[l.id]=!0)}):s.forEach(l=>{delete r[l.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(l=>{P1(s,l.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Le(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?s0(e,n):{rows:[],flatRows:[],rowsById:{}},Be(e.options,"debugTable")),e.getFilteredSelectedRowModel=Le(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?s0(e,n):{rows:[],flatRows:[],rowsById:{}},Be(e.options,"debugTable")),e.getGroupedSelectedRowModel=Le(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?s0(e,n):{rows:[],flatRows:[],rowsById:{}},Be(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(l=>{var d;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return l;const g={...l};return P1(g,e.id,n,(d=r==null?void 0:r.selectChildren)!=null?d:!0,t),g})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return fg(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return L1(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return L1(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},P1=(e,t,n,r,s)=>{var l;const d=s.getRow(t,!0);n?(d.getCanMultiSelect()||Object.keys(e).forEach(g=>delete e[g]),d.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(l=d.subRows)!=null&&l.length&&d.getCanSelectSubRows()&&d.subRows.forEach(g=>P1(e,g.id,n,r,s))};function s0(e,t){const n=e.getState().rowSelection,r=[],s={},l=function(d,g){return d.map(x=>{var p;const v=fg(x,n);if(v&&(r.push(x),s[x.id]=x),(p=x.subRows)!=null&&p.length&&(x={...x,subRows:l(x.subRows)}),v)return x}).filter(Boolean)};return{rows:l(t.rows),flatRows:r,rowsById:s}}function fg(e,t){var n;return(n=t[e.id])!=null?n:!1}function L1(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,l=!1;return e.subRows.forEach(d=>{if(!(l&&!s)&&(d.getCanSelect()&&(fg(d,t)?l=!0:s=!1),d.subRows&&d.subRows.length)){const g=L1(d,t);g==="all"?l=!0:(g==="some"&&(l=!0),s=!1)}}),s?"all":l?"some":!1}const B1=/([0-9]+)/gm,_N=(e,t,n)=>Jv(Ps(e.getValue(n)).toLowerCase(),Ps(t.getValue(n)).toLowerCase()),bN=(e,t,n)=>Jv(Ps(e.getValue(n)),Ps(t.getValue(n))),IN=(e,t,n)=>dg(Ps(e.getValue(n)).toLowerCase(),Ps(t.getValue(n)).toLowerCase()),NN=(e,t,n)=>dg(Ps(e.getValue(n)),Ps(t.getValue(n))),TN=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},RN=(e,t,n)=>dg(e.getValue(n),t.getValue(n));function dg(e,t){return e===t?0:e>t?1:-1}function Ps(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Jv(e,t){const n=e.split(B1).filter(Boolean),r=t.split(B1).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),l=r.shift(),d=parseInt(s,10),g=parseInt(l,10),x=[d,g].sort();if(isNaN(x[0])){if(s>l)return 1;if(l>s)return-1;continue}if(isNaN(x[1]))return isNaN(d)?-1:1;if(d>g)return 1;if(g>d)return-1}return n.length-r.length}const ml={alphanumeric:_N,alphanumericCaseSensitive:bN,text:IN,textCaseSensitive:NN,datetime:TN,basic:RN},ON={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:pr("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const l=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(l)==="[object Date]")return ml.datetime;if(typeof l=="string"&&(r=!0,l.split(B1).length>1))return ml.alphanumeric}return r?ml.text:ml.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return zf(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:ml[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),l=typeof n<"u"&&n!==null;t.setSorting(d=>{const g=d==null?void 0:d.find(I=>I.id===e.id),x=d==null?void 0:d.findIndex(I=>I.id===e.id);let p=[],v,E=l?n:s==="desc";if(d!=null&&d.length&&e.getCanMultiSort()&&r?g?v="toggle":v="add":d!=null&&d.length&&x!==d.length-1?v="replace":g?v="toggle":v="replace",v==="toggle"&&(l||s||(v="remove")),v==="add"){var b;p=[...d,{id:e.id,desc:E}],p.splice(0,p.length-((b=t.options.maxMultiSortColCount)!=null?b:Number.MAX_SAFE_INTEGER))}else v==="toggle"?p=d.map(I=>I.id===e.id?{...I,desc:E}:I):v==="remove"?p=d.filter(I=>I.id!==e.id):p=[{id:e.id,desc:E}];return p})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const l=e.getFirstSortDir(),d=e.getIsSorted();return d?d!==l&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:d==="desc"?"asc":"desc":l},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},MN=[KI,yN,hN,gN,eN,tN,wN,vN,ON,fN,EN,CN,SN,AN,mN];function DN(e){var t,n;const r=[...MN,...(t=e._features)!=null?t:[]];let s={_features:r};const l=s._features.reduce((b,I)=>Object.assign(b,I.getDefaultOptions==null?void 0:I.getDefaultOptions(s)),{}),d=b=>s.options.mergeOptions?s.options.mergeOptions(l,b):{...l,...b};let x={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(b=>{var I;x=(I=b.getInitialState==null?void 0:b.getInitialState(x))!=null?I:x});const p=[];let v=!1;const E={_features:r,options:{...l,...e},initialState:x,_queue:b=>{p.push(b),v||(v=!0,Promise.resolve().then(()=>{for(;p.length;)p.shift()();v=!1}).catch(I=>setTimeout(()=>{throw I})))},reset:()=>{s.setState(s.initialState)},setOptions:b=>{const I=vs(b,s.options);s.options=d(I)},getState:()=>s.options.state,setState:b=>{s.options.onStateChange==null||s.options.onStateChange(b)},_getRowId:(b,I,N)=>{var O;return(O=s.options.getRowId==null?void 0:s.options.getRowId(b,I,N))!=null?O:`${N?[N.id,I].join("."):I}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(b,I)=>{let N=(I?s.getPrePaginationRowModel():s.getRowModel()).rowsById[b];if(!N&&(N=s.getCoreRowModel().rowsById[b],!N))throw new Error;return N},_getDefaultColumnDef:Le(()=>[s.options.defaultColumn],b=>{var I;return b=(I=b)!=null?I:{},{header:N=>{const O=N.header.column.columnDef;return O.accessorKey?O.accessorKey:O.accessorFn?O.id:null},cell:N=>{var O,P;return(O=(P=N.renderValue())==null||P.toString==null?void 0:P.toString())!=null?O:null},...s._features.reduce((N,O)=>Object.assign(N,O.getDefaultColumnDef==null?void 0:O.getDefaultColumnDef()),{}),...b}},Be(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:Le(()=>[s._getColumnDefs()],b=>{const I=function(N,O,P){return P===void 0&&(P=0),N.map(M=>{const _=ZI(s,M,P,O),T=M;return _.columns=T.columns?I(T.columns,_,P+1):[],_})};return I(b)},Be(e,"debugColumns")),getAllFlatColumns:Le(()=>[s.getAllColumns()],b=>b.flatMap(I=>I.getFlatColumns()),Be(e,"debugColumns")),_getAllFlatColumnsById:Le(()=>[s.getAllFlatColumns()],b=>b.reduce((I,N)=>(I[N.id]=N,I),{}),Be(e,"debugColumns")),getAllLeafColumns:Le(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(b,I)=>{let N=b.flatMap(O=>O.getLeafColumns());return I(N)},Be(e,"debugColumns")),getColumn:b=>s._getAllFlatColumnsById()[b]};Object.assign(s,E);for(let b=0;b<s._features.length;b++){const I=s._features[b];I==null||I.createTable==null||I.createTable(s)}return s}function kN(){return e=>Le(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,l,d){l===void 0&&(l=0);const g=[];for(let p=0;p<s.length;p++){const v=JI(e,e._getRowId(s[p],p,d),s[p],p,l,void 0,d==null?void 0:d.id);if(n.flatRows.push(v),n.rowsById[v.id]=v,g.push(v),e.options.getSubRows){var x;v.originalSubRows=e.options.getSubRows(s[p],p),(x=v.originalSubRows)!=null&&x.length&&(v.subRows=r(v.originalSubRows,l+1,v))}}return g};return n.rows=r(t),n},Be(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function PN(){return e=>Le(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:LN(n),Be(e.options,"debugTable"))}function LN(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function BN(){return e=>Le(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],l=r.filter(x=>{var p;return(p=e.getColumn(x.id))==null?void 0:p.getCanSort()}),d={};l.forEach(x=>{const p=e.getColumn(x.id);p&&(d[x.id]={sortUndefined:p.columnDef.sortUndefined,invertSorting:p.columnDef.invertSorting,sortingFn:p.getSortingFn()})});const g=x=>{const p=x.map(v=>({...v}));return p.sort((v,E)=>{for(let I=0;I<l.length;I+=1){var b;const N=l[I],O=d[N.id],P=O.sortUndefined,M=(b=N==null?void 0:N.desc)!=null?b:!1;let _=0;if(P){const T=v.getValue(N.id),k=E.getValue(N.id),H=T===void 0,Q=k===void 0;if(H||Q){if(P==="first")return H?-1:1;if(P==="last")return H?1:-1;_=H&&Q?0:H?P:-P}}if(_===0&&(_=O.sortingFn(v,E,N.id)),_!==0)return M&&(_*=-1),O.invertSorting&&(_*=-1),_}return v.index-E.index}),p.forEach(v=>{var E;s.push(v),(E=v.subRows)!=null&&E.length&&(v.subRows=g(v.subRows))}),p};return{rows:g(n.rows),flatRows:s,rowsById:n.rowsById}},Be(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function L2(e,t){return e?FN(e)?z.createElement(e,t):e:null}function FN(e){return jN(e)||typeof e=="function"||UN(e)}function jN(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function UN(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function zN(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=z.useState(()=>({current:DN(t)})),[r,s]=z.useState(()=>n.current.initialState);return n.current.setOptions(l=>({...l,...e,state:{...r,...e.state},onStateChange:d=>{s(d),e.onStateChange==null||e.onStateChange(d)}})),n.current}var Vf={},eE={exports:{}},VN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HN=VN,GN=HN;function tE(){}function nE(){}nE.resetWarningCache=tE;var $N=function(){function e(r,s,l,d,g,x){if(x!==GN){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nE,resetWarningCache:tE};return n.PropTypes=n,n};eE.exports=$N();var hg=eE.exports,rE={L:1,M:0,Q:3,H:2},iE={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},WN=iE;function sE(e){this.mode=WN.MODE_8BIT_BYTE,this.data=e}sE.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var XN=sE,lc=rE;function pi(e,t){this.totalCount=e,this.dataCount=t}pi.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];pi.getRSBlocks=function(e,t){var n=pi.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,s=new Array,l=0;l<r;l++)for(var d=n[l*3+0],g=n[l*3+1],x=n[l*3+2],p=0;p<d;p++)s.push(new pi(g,x));return s};pi.getRsBlockTable=function(e,t){switch(t){case lc.L:return pi.RS_BLOCK_TABLE[(e-1)*4+0];case lc.M:return pi.RS_BLOCK_TABLE[(e-1)*4+1];case lc.Q:return pi.RS_BLOCK_TABLE[(e-1)*4+2];case lc.H:return pi.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var YN=pi;function oE(){this.buffer=new Array,this.length=0}oE.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var QN=oE,Xr={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Xr.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Xr.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var yn=0;yn<8;yn++)Xr.EXP_TABLE[yn]=1<<yn;for(var yn=8;yn<256;yn++)Xr.EXP_TABLE[yn]=Xr.EXP_TABLE[yn-4]^Xr.EXP_TABLE[yn-5]^Xr.EXP_TABLE[yn-6]^Xr.EXP_TABLE[yn-8];for(var yn=0;yn<255;yn++)Xr.LOG_TABLE[Xr.EXP_TABLE[yn]]=yn;var aE=Xr,qs=aE;function Mc(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}Mc.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=qs.gexp(qs.glog(this.get(n))+qs.glog(e.get(r)));return new Mc(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=qs.glog(this.get(0))-qs.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=qs.gexp(qs.glog(e.get(r))+t);return new Mc(n,0).mod(e)}};var lE=Mc,Ar=iE,B2=lE,qN=aE,Ji={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},mn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;mn.getBCHDigit(t)-mn.getBCHDigit(mn.G15)>=0;)t^=mn.G15<<mn.getBCHDigit(t)-mn.getBCHDigit(mn.G15);return(e<<10|t)^mn.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;mn.getBCHDigit(t)-mn.getBCHDigit(mn.G18)>=0;)t^=mn.G18<<mn.getBCHDigit(t)-mn.getBCHDigit(mn.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return mn.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Ji.PATTERN000:return(t+n)%2==0;case Ji.PATTERN001:return t%2==0;case Ji.PATTERN010:return n%3==0;case Ji.PATTERN011:return(t+n)%3==0;case Ji.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Ji.PATTERN101:return t*n%2+t*n%3==0;case Ji.PATTERN110:return(t*n%2+t*n%3)%2==0;case Ji.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new B2([1],0),n=0;n<e;n++)t=t.multiply(new B2([1,qN.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Ar.MODE_NUMBER:return 10;case Ar.MODE_ALPHA_NUM:return 9;case Ar.MODE_8BIT_BYTE:return 8;case Ar.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Ar.MODE_NUMBER:return 12;case Ar.MODE_ALPHA_NUM:return 11;case Ar.MODE_8BIT_BYTE:return 16;case Ar.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Ar.MODE_NUMBER:return 14;case Ar.MODE_ALPHA_NUM:return 13;case Ar.MODE_8BIT_BYTE:return 16;case Ar.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var s=0;s<t;s++){for(var l=0,d=e.isDark(r,s),g=-1;g<=1;g++)if(!(r+g<0||t<=r+g))for(var x=-1;x<=1;x++)s+x<0||t<=s+x||g==0&&x==0||d==e.isDark(r+g,s+x)&&l++;l>5&&(n+=3+l-5)}for(var r=0;r<t-1;r++)for(var s=0;s<t-1;s++){var p=0;e.isDark(r,s)&&p++,e.isDark(r+1,s)&&p++,e.isDark(r,s+1)&&p++,e.isDark(r+1,s+1)&&p++,(p==0||p==4)&&(n+=3)}for(var r=0;r<t;r++)for(var s=0;s<t-6;s++)e.isDark(r,s)&&!e.isDark(r,s+1)&&e.isDark(r,s+2)&&e.isDark(r,s+3)&&e.isDark(r,s+4)&&!e.isDark(r,s+5)&&e.isDark(r,s+6)&&(n+=40);for(var s=0;s<t;s++)for(var r=0;r<t-6;r++)e.isDark(r,s)&&!e.isDark(r+1,s)&&e.isDark(r+2,s)&&e.isDark(r+3,s)&&e.isDark(r+4,s)&&!e.isDark(r+5,s)&&e.isDark(r+6,s)&&(n+=40);for(var v=0,s=0;s<t;s++)for(var r=0;r<t;r++)e.isDark(r,s)&&v++;var E=Math.abs(100*v/t/t-50)/5;return n+=E*10,n}},ZN=mn,KN=XN,uE=YN,cE=QN,zs=ZN,JN=lE;function xi(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var yr=xi.prototype;yr.addData=function(e){var t=new KN(e);this.dataList.push(t),this.dataCache=null};yr.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};yr.getModuleCount=function(){return this.moduleCount};yr.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=uE.getRSBlocks(e,this.errorCorrectLevel),n=new cE,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),zs.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};yr.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=xi.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};yr.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};yr.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=zs.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};yr.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),s=1;this.make();for(var l=0;l<this.modules.length;l++)for(var d=l*s,g=0;g<this.modules[l].length;g++){var x=g*s,p=this.modules[l][g];p&&(r.beginFill(0,100),r.moveTo(x,d),r.lineTo(x+s,d),r.lineTo(x+s,d+s),r.lineTo(x,d+s),r.endFill())}return r};yr.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};yr.setupPositionAdjustPattern=function(){for(var e=zs.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],s=e[n];if(this.modules[r][s]==null)for(var l=-2;l<=2;l++)for(var d=-2;d<=2;d++)l==-2||l==2||d==-2||d==2||l==0&&d==0?this.modules[r+l][s+d]=!0:this.modules[r+l][s+d]=!1}};yr.setupTypeNumber=function(e){for(var t=zs.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};yr.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=zs.getBCHTypeInfo(n),s=0;s<15;s++){var l=!e&&(r>>s&1)==1;s<6?this.modules[s][8]=l:s<8?this.modules[s+1][8]=l:this.modules[this.moduleCount-15+s][8]=l}for(var s=0;s<15;s++){var l=!e&&(r>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=l:s<9?this.modules[8][15-s-1+1]=l:this.modules[8][15-s-1]=l}this.modules[this.moduleCount-8][8]=!e};yr.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,s=7,l=0,d=this.moduleCount-1;d>0;d-=2)for(d==6&&d--;;){for(var g=0;g<2;g++)if(this.modules[r][d-g]==null){var x=!1;l<e.length&&(x=(e[l]>>>s&1)==1);var p=zs.getMask(t,r,d-g);p&&(x=!x),this.modules[r][d-g]=x,s--,s==-1&&(l++,s=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};xi.PAD0=236;xi.PAD1=17;xi.createData=function(e,t,n){for(var r=uE.getRSBlocks(e,t),s=new cE,l=0;l<n.length;l++){var d=n[l];s.put(d.mode,4),s.put(d.getLength(),zs.getLengthInBits(d.mode,e)),d.write(s)}for(var g=0,l=0;l<r.length;l++)g+=r[l].dataCount;if(s.getLengthInBits()>g*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+g*8+")");for(s.getLengthInBits()+4<=g*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=g*8||(s.put(xi.PAD0,8),s.getLengthInBits()>=g*8));)s.put(xi.PAD1,8);return xi.createBytes(s,r)};xi.createBytes=function(e,t){for(var n=0,r=0,s=0,l=new Array(t.length),d=new Array(t.length),g=0;g<t.length;g++){var x=t[g].dataCount,p=t[g].totalCount-x;r=Math.max(r,x),s=Math.max(s,p),l[g]=new Array(x);for(var v=0;v<l[g].length;v++)l[g][v]=255&e.buffer[v+n];n+=x;var E=zs.getErrorCorrectPolynomial(p),b=new JN(l[g],E.getLength()-1),I=b.mod(E);d[g]=new Array(E.getLength()-1);for(var v=0;v<d[g].length;v++){var N=v+I.getLength()-d[g].length;d[g][v]=N>=0?I.get(N):0}}for(var O=0,v=0;v<t.length;v++)O+=t[v].totalCount;for(var P=new Array(O),M=0,v=0;v<r;v++)for(var g=0;g<t.length;g++)v<l[g].length&&(P[M++]=l[g][v]);for(var v=0;v<s;v++)for(var g=0;g<t.length;g++)v<d[g].length&&(P[M++]=d[g][v]);return P};var eT=xi,gg={};Object.defineProperty(gg,"__esModule",{value:!0});var tT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nT=hg,_r=dE(nT),fE=z,uc=dE(fE);function dE(e){return e&&e.__esModule?e:{default:e}}function rT(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var iT={bgColor:_r.default.oneOfType([_r.default.object,_r.default.string]).isRequired,bgD:_r.default.string.isRequired,fgColor:_r.default.oneOfType([_r.default.object,_r.default.string]).isRequired,fgD:_r.default.string.isRequired,size:_r.default.number.isRequired,title:_r.default.string,viewBoxSize:_r.default.number.isRequired,xmlns:_r.default.string},pg=(0,fE.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,s=e.fgD,l=e.fgColor,d=e.size,g=e.title,x=e.viewBoxSize,p=e.xmlns,v=p===void 0?"http://www.w3.org/2000/svg":p,E=rT(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return uc.default.createElement("svg",tT({},E,{height:d,ref:t,viewBox:"0 0 "+x+" "+x,width:d,xmlns:v}),g?uc.default.createElement("title",null,g):null,uc.default.createElement("path",{d:r,fill:n}),uc.default.createElement("path",{d:s,fill:l}))});pg.displayName="QRCodeSvg";pg.propTypes=iT;gg.default=pg;Object.defineProperty(Vf,"__esModule",{value:!0});Vf.QRCode=void 0;var sT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oT=hg,Si=Cu(oT),aT=rE,lT=Cu(aT),uT=eT,cT=Cu(uT),hE=z,fT=Cu(hE),dT=gg,hT=Cu(dT);function Cu(e){return e&&e.__esModule?e:{default:e}}function gT(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var pT={bgColor:Si.default.oneOfType([Si.default.object,Si.default.string]),fgColor:Si.default.oneOfType([Si.default.object,Si.default.string]),level:Si.default.string,size:Si.default.number,value:Si.default.string.isRequired},Hf=(0,hE.forwardRef)(function(e,t){var n=e.bgColor,r=n===void 0?"#FFFFFF":n,s=e.fgColor,l=s===void 0?"#000000":s,d=e.level,g=d===void 0?"L":d,x=e.size,p=x===void 0?256:x,v=e.value,E=gT(e,["bgColor","fgColor","level","size","value"]),b=new cT.default(-1,lT.default[g]);b.addData(v),b.make();var I=b.modules;return fT.default.createElement(hT.default,sT({},E,{bgColor:r,bgD:I.map(function(N,O){return N.map(function(P,M){return P?"":"M "+M+" "+O+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:l,fgD:I.map(function(N,O){return N.map(function(P,M){return P?"M "+M+" "+O+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:p,viewBoxSize:I.length}))});Vf.QRCode=Hf;Hf.displayName="QRCode";Hf.propTypes=pT;var mT=Vf.default=Hf,mg={},Gf={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});function xT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var yT=function e(t,n){xT(this,e),this.data=t,this.text=n.text||t,this.options=n};zn.default=yT;Object.defineProperty(Gf,"__esModule",{value:!0});Gf.CODE39=void 0;var wT=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vT=zn,ET=CT(vT);function CT(e){return e&&e.__esModule?e:{default:e}}function ST(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _T(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bT=function(e){_T(t,e);function t(n,r){return ST(this,t),n=n.toUpperCase(),r.mod43&&(n+=TT(RT(n))),AT(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return wT(t,[{key:"encode",value:function(){for(var r=o0("*"),s=0;s<this.data.length;s++)r+=o0(this.data[s])+"0";return r+=o0("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),t}(ET.default),gE=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],IT=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function o0(e){return NT(pE(e))}function NT(e){return IT[e].toString(2)}function TT(e){return gE[e]}function pE(e){return gE.indexOf(e)}function RT(e){for(var t=0,n=0;n<e.length;n++)t+=pE(e[n]);return t=t%43,t}Gf.CODE39=bT;var yi={},xg={},Xa={},_t={};Object.defineProperty(_t,"__esModule",{value:!0});var xl;function a0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mE=_t.SET_A=0,xE=_t.SET_B=1,yE=_t.SET_C=2;_t.SHIFT=98;var OT=_t.START_A=103,MT=_t.START_B=104,DT=_t.START_C=105;_t.MODULO=103;_t.STOP=106;_t.FNC1=207;_t.SET_BY_CODE=(xl={},a0(xl,OT,mE),a0(xl,MT,xE),a0(xl,DT,yE),xl);_t.SWAP={101:mE,100:xE,99:yE};_t.A_START_CHAR="";_t.B_START_CHAR="";_t.C_START_CHAR="";_t.A_CHARS="[\0-_-]";_t.B_CHARS="[ --]";_t.C_CHARS="(*[0-9]{2}*)";_t.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Xa,"__esModule",{value:!0});var kT=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),PT=zn,LT=BT(PT),sr=_t;function BT(e){return e&&e.__esModule?e:{default:e}}function FT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function UT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zT=function(e){UT(t,e);function t(n,r){FT(this,t);var s=jT(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.substring(1),r));return s.bytes=n.split("").map(function(l){return l.charCodeAt(0)}),s}return kT(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,s=r.shift()-105,l=sr.SET_BY_CODE[s];if(l===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(sr.FNC1);var d=t.next(r,1,l);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(s)+d.result+t.getBar((d.checksum+s)%sr.MODULO)+t.getBar(sr.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return sr.BARS[r]?sr.BARS[r].toString():""}},{key:"correctIndex",value:function(r,s){if(s===sr.SET_A){var l=r.shift();return l<32?l+64:l-32}else return s===sr.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,s,l){if(!r.length)return{result:"",checksum:0};var d=void 0,g=void 0;if(r[0]>=200){g=r.shift()-105;var x=sr.SWAP[g];x!==void 0?d=t.next(r,s+1,x):((l===sr.SET_A||l===sr.SET_B)&&g===sr.SHIFT&&(r[0]=l===sr.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),d=t.next(r,s+1,l))}else g=t.correctIndex(r,l),d=t.next(r,s+1,l);var p=t.getBar(g),v=g*s;return{result:p+d.result,checksum:v+d.checksum}}}]),t}(LT.default);Xa.default=zT;var yg={};Object.defineProperty(yg,"__esModule",{value:!0});var Os=_t,wE=function(t){return t.match(new RegExp("^"+Os.A_CHARS+"*"))[0].length},vE=function(t){return t.match(new RegExp("^"+Os.B_CHARS+"*"))[0].length},EE=function(t){return t.match(new RegExp("^"+Os.C_CHARS+"*"))[0]};function wg(e,t){var n=t?Os.A_CHARS:Os.B_CHARS,r=e.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+""+CE(e.substring(r[1].length));var s=e.match(new RegExp("^"+n+"+"))[0];return s.length===e.length?e:s+String.fromCharCode(t?205:206)+wg(e.substring(s.length),!t)}function CE(e){var t=EE(e),n=t.length;if(n===e.length)return e;e=e.substring(n);var r=wE(e)>=vE(e);return t+String.fromCharCode(r?206:205)+wg(e,r)}yg.default=function(e){var t=void 0,n=EE(e).length;if(n>=2)t=Os.C_START_CHAR+CE(e);else{var r=wE(e)>vE(e);t=(r?Os.A_START_CHAR:Os.B_START_CHAR)+wg(e,r)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(s,l){return""+l})};Object.defineProperty(xg,"__esModule",{value:!0});var VT=Xa,HT=SE(VT),GT=yg,$T=SE(GT);function SE(e){return e&&e.__esModule?e:{default:e}}function WT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function XT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var YT=function(e){XT(t,e);function t(n,r){if(WT(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var s=l0(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,$T.default)(n),r));else var s=l0(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));return l0(s)}return t}(HT.default);xg.default=YT;var vg={};Object.defineProperty(vg,"__esModule",{value:!0});var QT=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),qT=Xa,ZT=KT(qT),F2=_t;function KT(e){return e&&e.__esModule?e:{default:e}}function JT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e6(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function t6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n6=function(e){t6(t,e);function t(n,r){return JT(this,t),e6(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,F2.A_START_CHAR+n,r))}return QT(t,[{key:"valid",value:function(){return new RegExp("^"+F2.A_CHARS+"+$").test(this.data)}}]),t}(ZT.default);vg.default=n6;var Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});var r6=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i6=Xa,s6=o6(i6),j2=_t;function o6(e){return e&&e.__esModule?e:{default:e}}function a6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l6(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function u6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c6=function(e){u6(t,e);function t(n,r){return a6(this,t),l6(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,j2.B_START_CHAR+n,r))}return r6(t,[{key:"valid",value:function(){return new RegExp("^"+j2.B_CHARS+"+$").test(this.data)}}]),t}(s6.default);Eg.default=c6;var Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});var f6=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d6=Xa,h6=g6(d6),U2=_t;function g6(e){return e&&e.__esModule?e:{default:e}}function p6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m6(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function x6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y6=function(e){x6(t,e);function t(n,r){return p6(this,t),m6(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,U2.C_START_CHAR+n,r))}return f6(t,[{key:"valid",value:function(){return new RegExp("^"+U2.C_CHARS+"+$").test(this.data)}}]),t}(h6.default);Cg.default=y6;Object.defineProperty(yi,"__esModule",{value:!0});yi.CODE128C=yi.CODE128B=yi.CODE128A=yi.CODE128=void 0;var w6=xg,v6=$f(w6),E6=vg,C6=$f(E6),S6=Eg,A6=$f(S6),_6=Cg,b6=$f(_6);function $f(e){return e&&e.__esModule?e:{default:e}}yi.CODE128=v6.default;yi.CODE128A=C6.default;yi.CODE128B=A6.default;yi.CODE128C=b6.default;var Zn={},Sg={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.SIDE_BIN="101";Pr.MIDDLE_BIN="01010";Pr.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Pr.EAN2_STRUCTURE=["LL","LG","GL","GG"];Pr.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Pr.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var Wf={},Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});var I6=Pr,N6=function(t,n,r){var s=t.split("").map(function(d,g){return I6.BINARIES[n[g]]}).map(function(d,g){return d?d[t[g]]:""});if(r){var l=t.length-1;s=s.map(function(d,g){return g<l?d+r:d})}return s.join("")};Oo.default=N6;Object.defineProperty(Wf,"__esModule",{value:!0});var T6=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Wo=Pr,R6=Oo,z2=AE(R6),O6=zn,M6=AE(O6);function AE(e){return e&&e.__esModule?e:{default:e}}function D6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k6(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function P6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L6=function(e){P6(t,e);function t(n,r){D6(this,t);var s=k6(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));return s.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,s.guardHeight=r.height+s.fontSize/2+r.textMargin,s}return T6(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,s){return this.text.substr(r,s)}},{key:"leftEncode",value:function(r,s){return(0,z2.default)(r,s)}},{key:"rightText",value:function(r,s){return this.text.substr(r,s)}},{key:"rightEncode",value:function(r,s){return(0,z2.default)(r,s)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},s={height:this.guardHeight};return[{data:Wo.SIDE_BIN,options:s},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Wo.MIDDLE_BIN,options:s},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Wo.SIDE_BIN,options:s}]}},{key:"encodeFlat",value:function(){var r=[Wo.SIDE_BIN,this.leftEncode(),Wo.MIDDLE_BIN,this.rightEncode(),Wo.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),t}(M6.default);Wf.default=L6;Object.defineProperty(Sg,"__esModule",{value:!0});var B6=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),yl=function e(t,n,r){t===null&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,n);if(s===void 0){var l=Object.getPrototypeOf(t);return l===null?void 0:e(l,n,r)}else{if("value"in s)return s.value;var d=s.get;return d===void 0?void 0:d.call(r)}},F6=Pr,j6=Wf,U6=z6(j6);function z6(e){return e&&e.__esModule?e:{default:e}}function V6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H6(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function G6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V2=function(t){var n=t.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,s,l){return l%2?r+s*3:r+s},0);return(10-n%10)%10},$6=function(e){G6(t,e);function t(n,r){V6(this,t),n.search(/^[0-9]{12}$/)!==-1&&(n+=V2(n));var s=H6(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));return s.lastChar=r.lastChar,s}return B6(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===V2(this.data)}},{key:"leftText",value:function(){return yl(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),s=F6.EAN13_STRUCTURE[this.data[0]];return yl(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,r,s)}},{key:"rightText",value:function(){return yl(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return yl(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=yl(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),t}(U6.default);Sg.default=$6;var Ag={};Object.defineProperty(Ag,"__esModule",{value:!0});var W6=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),cc=function e(t,n,r){t===null&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,n);if(s===void 0){var l=Object.getPrototypeOf(t);return l===null?void 0:e(l,n,r)}else{if("value"in s)return s.value;var d=s.get;return d===void 0?void 0:d.call(r)}},X6=Wf,Y6=Q6(X6);function Q6(e){return e&&e.__esModule?e:{default:e}}function q6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z6(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function K6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var H2=function(t){var n=t.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,s,l){return l%2?r+s:r+s*3},0);return(10-n%10)%10},J6=function(e){K6(t,e);function t(n,r){return q6(this,t),n.search(/^[0-9]{7}$/)!==-1&&(n+=H2(n)),Z6(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return W6(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===H2(this.data)}},{key:"leftText",value:function(){return cc(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return cc(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return cc(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return cc(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),t}(Y6.default);Ag.default=J6;var _g={};Object.defineProperty(_g,"__esModule",{value:!0});var eR=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tR=Pr,nR=Oo,rR=_E(nR),iR=zn,sR=_E(iR);function _E(e){return e&&e.__esModule?e:{default:e}}function oR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var uR=function(t){var n=t.split("").map(function(r){return+r}).reduce(function(r,s,l){return l%2?r+s*9:r+s*3},0);return n%10},cR=function(e){lR(t,e);function t(n,r){return oR(this,t),aR(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return eR(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=tR.EAN5_STRUCTURE[uR(this.data)];return{data:"1011"+(0,rR.default)(this.data,r,"01"),text:this.text}}}]),t}(sR.default);_g.default=cR;var bg={};Object.defineProperty(bg,"__esModule",{value:!0});var fR=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),dR=Pr,hR=Oo,gR=bE(hR),pR=zn,mR=bE(pR);function bE(e){return e&&e.__esModule?e:{default:e}}function xR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function wR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vR=function(e){wR(t,e);function t(n,r){return xR(this,t),yR(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return fR(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=dR.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,gR.default)(this.data,r,"01"),text:this.text}}}]),t}(mR.default);bg.default=vR;var Su={};Object.defineProperty(Su,"__esModule",{value:!0});var ER=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Su.checksum=F1;var CR=Oo,Xo=IE(CR),SR=zn,AR=IE(SR);function IE(e){return e&&e.__esModule?e:{default:e}}function _R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function IR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var NR=function(e){IR(t,e);function t(n,r){_R(this,t),n.search(/^[0-9]{11}$/)!==-1&&(n+=F1(n));var s=bR(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));return s.displayValue=r.displayValue,r.fontSize>r.width*10?s.fontSize=r.width*10:s.fontSize=r.fontSize,s.guardHeight=r.height+s.fontSize/2+r.textMargin,s}return ER(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==F1(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Xo.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Xo.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Xo.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Xo.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Xo.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Xo.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),t}(AR.default);function F1(e){var t=0,n;for(n=1;n<11;n+=2)t+=parseInt(e[n]);for(n=0;n<11;n+=2)t+=parseInt(e[n])*3;return(10-t%10)%10}Su.default=NR;var Ig={};Object.defineProperty(Ig,"__esModule",{value:!0});var TR=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),RR=Oo,OR=NE(RR),MR=zn,DR=NE(MR),kR=Su;function NE(e){return e&&e.__esModule?e:{default:e}}function PR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function LR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var BR=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],FR=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],jR=function(e){LR(t,e);function t(n,r){PR(this,t);var s=u0(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));if(s.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)s.middleDigits=n,s.upcA=G2(n,"0"),s.text=r.text||""+s.upcA[0]+n+s.upcA[s.upcA.length-1],s.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(s.middleDigits=n.substring(1,n.length-1),s.upcA=G2(s.middleDigits,n[0]),s.upcA[s.upcA.length-1]===n[n.length-1])s.isValid=!0;else return u0(s);else return u0(s);return s.displayValue=r.displayValue,r.fontSize>r.width*10?s.fontSize=r.width*10:s.fontSize=r.fontSize,s.guardHeight=r.height+s.fontSize/2+r.textMargin,s}return TR(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],s=this.upcA[this.upcA.length-1],l=FR[parseInt(s)][parseInt(r)];return(0,OR.default)(this.middleDigits,l)}}]),t}(DR.default);function G2(e,t){for(var n=parseInt(e[e.length-1]),r=BR[n],s="",l=0,d=0;d<r.length;d++){var g=r[d];g==="X"?s+=e[l++]:s+=g}return s=""+t+s,""+s+(0,kR.checksum)(s)}Ig.default=jR;Object.defineProperty(Zn,"__esModule",{value:!0});Zn.UPCE=Zn.UPC=Zn.EAN2=Zn.EAN5=Zn.EAN8=Zn.EAN13=void 0;var UR=Sg,zR=Ya(UR),VR=Ag,HR=Ya(VR),GR=_g,$R=Ya(GR),WR=bg,XR=Ya(WR),YR=Su,QR=Ya(YR),qR=Ig,ZR=Ya(qR);function Ya(e){return e&&e.__esModule?e:{default:e}}Zn.EAN13=zR.default;Zn.EAN8=HR.default;Zn.EAN5=$R.default;Zn.EAN2=XR.default;Zn.UPC=QR.default;Zn.UPCE=ZR.default;var Ba={},Xf={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.START_BIN="1010";Au.END_BIN="11101";Au.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(Xf,"__esModule",{value:!0});var KR=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fc=Au,JR=zn,eO=tO(JR);function tO(e){return e&&e.__esModule?e:{default:e}}function nO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function iO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var sO=function(e){iO(t,e);function t(){return nO(this,t),rO(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return KR(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,s=this.data.match(/.{2}/g).map(function(l){return r.encodePair(l)}).join("");return{data:fc.START_BIN+s+fc.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var s=fc.BINARIES[r[1]];return fc.BINARIES[r[0]].split("").map(function(l,d){return(l==="1"?"111":"1")+(s[d]==="1"?"000":"0")}).join("")}}]),t}(eO.default);Xf.default=sO;var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});var oO=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),aO=Xf,lO=uO(aO);function uO(e){return e&&e.__esModule?e:{default:e}}function cO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function dO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $2=function(t){var n=t.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,s,l){return r+s*(3-l%2*2)},0);return Math.ceil(n/10)*10-n},hO=function(e){dO(t,e);function t(n,r){return cO(this,t),n.search(/^[0-9]{13}$/)!==-1&&(n+=$2(n)),fO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return oO(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===$2(this.data)}}]),t}(lO.default);Ng.default=hO;Object.defineProperty(Ba,"__esModule",{value:!0});Ba.ITF14=Ba.ITF=void 0;var gO=Xf,pO=TE(gO),mO=Ng,xO=TE(mO);function TE(e){return e&&e.__esModule?e:{default:e}}Ba.ITF=pO.default;Ba.ITF14=xO.default;var Rr={},Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});var yO=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wO=zn,vO=EO(wO);function EO(e){return e&&e.__esModule?e:{default:e}}function CO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function AO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _O=function(e){AO(t,e);function t(n,r){return CO(this,t),SO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return yO(t,[{key:"encode",value:function(){for(var r="110",s=0;s<this.data.length;s++){var l=parseInt(this.data[s]),d=l.toString(2);d=bO(d,4-d.length);for(var g=0;g<d.length;g++)r+=d[g]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t}(vO.default);function bO(e,t){for(var n=0;n<t;n++)e="0"+e;return e}Mo.default=_O;var Tg={},Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.mod10=IO;Do.mod11=NO;function IO(e){for(var t=0,n=0;n<e.length;n++){var r=parseInt(e[n]);(n+e.length)%2===0?t+=r:t+=r*2%10+Math.floor(r*2/10)}return(10-t%10)%10}function NO(e){for(var t=0,n=[2,3,4,5,6,7],r=0;r<e.length;r++){var s=parseInt(e[e.length-1-r]);t+=n[r%n.length]*s}return(11-t%11)%11}Object.defineProperty(Tg,"__esModule",{value:!0});var TO=Mo,RO=MO(TO),OO=Do;function MO(e){return e&&e.__esModule?e:{default:e}}function DO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function PO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var LO=function(e){PO(t,e);function t(n,r){return DO(this,t),kO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n+(0,OO.mod10)(n),r))}return t}(RO.default);Tg.default=LO;var Rg={};Object.defineProperty(Rg,"__esModule",{value:!0});var BO=Mo,FO=UO(BO),jO=Do;function UO(e){return e&&e.__esModule?e:{default:e}}function zO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function HO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var GO=function(e){HO(t,e);function t(n,r){return zO(this,t),VO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n+(0,jO.mod11)(n),r))}return t}(FO.default);Rg.default=GO;var Og={};Object.defineProperty(Og,"__esModule",{value:!0});var $O=Mo,WO=XO($O),W2=Do;function XO(e){return e&&e.__esModule?e:{default:e}}function YO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ZO=function(e){qO(t,e);function t(n,r){return YO(this,t),n+=(0,W2.mod10)(n),n+=(0,W2.mod10)(n),QO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return t}(WO.default);Og.default=ZO;var Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});var KO=Mo,JO=e5(KO),X2=Do;function e5(e){return e&&e.__esModule?e:{default:e}}function t5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n5(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function r5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i5=function(e){r5(t,e);function t(n,r){return t5(this,t),n+=(0,X2.mod11)(n),n+=(0,X2.mod10)(n),n5(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return t}(JO.default);Mg.default=i5;Object.defineProperty(Rr,"__esModule",{value:!0});Rr.MSI1110=Rr.MSI1010=Rr.MSI11=Rr.MSI10=Rr.MSI=void 0;var s5=Mo,o5=_u(s5),a5=Tg,l5=_u(a5),u5=Rg,c5=_u(u5),f5=Og,d5=_u(f5),h5=Mg,g5=_u(h5);function _u(e){return e&&e.__esModule?e:{default:e}}Rr.MSI=o5.default;Rr.MSI10=l5.default;Rr.MSI11=c5.default;Rr.MSI1010=d5.default;Rr.MSI1110=g5.default;var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.pharmacode=void 0;var p5=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m5=zn,x5=y5(m5);function y5(e){return e&&e.__esModule?e:{default:e}}function w5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v5(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function E5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C5=function(e){E5(t,e);function t(n,r){w5(this,t);var s=v5(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));return s.number=parseInt(n,10),s}return p5(t,[{key:"encode",value:function(){for(var r=this.number,s="";!isNaN(r)&&r!=0;)r%2===0?(s="11100"+s,r=(r-2)/2):(s="100"+s,r=(r-1)/2);return s=s.slice(0,-2),{data:s,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(x5.default);Yf.pharmacode=C5;var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.codabar=void 0;var S5=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A5=zn,_5=b5(A5);function b5(e){return e&&e.__esModule?e:{default:e}}function I5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N5(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function T5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R5=function(e){T5(t,e);function t(n,r){I5(this,t),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var s=N5(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.toUpperCase(),r));return s.text=s.options.text||s.text.replace(/[A-D]/g,""),s}return S5(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],s=this.getEncodings(),l=0;l<this.data.length;l++)r.push(s[this.data.charAt(l)]),l!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(_5.default);Qf.codabar=R5;var Fa={},qf={},bu={};Object.defineProperty(bu,"__esModule",{value:!0});bu.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];bu.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];bu.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(qf,"__esModule",{value:!0});var O5=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),dc=bu,M5=zn,D5=k5(M5);function k5(e){return e&&e.__esModule?e:{default:e}}function P5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L5(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function B5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F5=function(e){B5(t,e);function t(n,r){return P5(this,t),L5(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return O5(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(g){return dc.MULTI_SYMBOLS[g]||g}),s=r.map(function(g){return t.getEncoding(g)}).join(""),l=t.checksum(r,20),d=t.checksum(r.concat(l),15);return{text:this.text,data:t.getEncoding("")+s+t.getEncoding(l)+t.getEncoding(d)+t.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(r){return dc.BINARIES[t.symbolValue(r)]}},{key:"getSymbol",value:function(r){return dc.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return dc.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,s){var l=r.slice().reverse().reduce(function(d,g,x){var p=x%s+1;return d+t.symbolValue(g)*p},0);return t.getSymbol(l%47)}}]),t}(D5.default);qf.default=F5;var Dg={};Object.defineProperty(Dg,"__esModule",{value:!0});var j5=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U5=qf,z5=V5(U5);function V5(e){return e&&e.__esModule?e:{default:e}}function H5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G5(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var W5=function(e){$5(t,e);function t(n,r){return H5(this,t),G5(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return j5(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(z5.default);Dg.default=W5;Object.defineProperty(Fa,"__esModule",{value:!0});Fa.CODE93FullASCII=Fa.CODE93=void 0;var X5=qf,Y5=RE(X5),Q5=Dg,q5=RE(Q5);function RE(e){return e&&e.__esModule?e:{default:e}}Fa.CODE93=Y5.default;Fa.CODE93FullASCII=q5.default;var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.GenericBarcode=void 0;var Z5=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),K5=zn,J5=eM(K5);function eM(e){return e&&e.__esModule?e:{default:e}}function tM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function rM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var iM=function(e){rM(t,e);function t(n,r){return tM(this,t),nM(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r))}return Z5(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(J5.default);Zf.GenericBarcode=iM;Object.defineProperty(mg,"__esModule",{value:!0});var sM=Gf,hc=yi,Yo=Zn,Y2=Ba,wl=Rr,oM=Yf,aM=Qf,Q2=Fa,lM=Zf;mg.default={CODE39:sM.CODE39,CODE128:hc.CODE128,CODE128A:hc.CODE128A,CODE128B:hc.CODE128B,CODE128C:hc.CODE128C,EAN13:Yo.EAN13,EAN8:Yo.EAN8,EAN5:Yo.EAN5,EAN2:Yo.EAN2,UPC:Yo.UPC,UPCE:Yo.UPCE,ITF14:Y2.ITF14,ITF:Y2.ITF,MSI:wl.MSI,MSI10:wl.MSI10,MSI11:wl.MSI11,MSI1010:wl.MSI1010,MSI1110:wl.MSI1110,pharmacode:oM.pharmacode,codabar:aM.codabar,CODE93:Q2.CODE93,CODE93FullASCII:Q2.CODE93FullASCII,GenericBarcode:lM.GenericBarcode};var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});var uM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Qa.default=function(e,t){return uM({},e,t)};var kg={};Object.defineProperty(kg,"__esModule",{value:!0});kg.default=cM;function cM(e){var t=[];function n(r){if(Array.isArray(r))for(var s=0;s<r.length;s++)n(r[s]);else r.text=r.text||"",r.data=r.data||"",t.push(r)}return n(e),t}var Pg={};Object.defineProperty(Pg,"__esModule",{value:!0});Pg.default=fM;function fM(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}var Lg={},Bg={},Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.default=dM;function dM(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&(n=t[n],typeof e[n]=="string"&&(e[n]=parseInt(e[n],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}var Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});var hM={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Jf.default=hM;Object.defineProperty(Bg,"__esModule",{value:!0});var gM=Kf,pM=OE(gM),mM=Jf,q2=OE(mM);function OE(e){return e&&e.__esModule?e:{default:e}}function xM(e){var t={};for(var n in q2.default)q2.default.hasOwnProperty(n)&&(e.hasAttribute("jsbarcode-"+n.toLowerCase())&&(t[n]=e.getAttribute("jsbarcode-"+n.toLowerCase())),e.hasAttribute("data-"+n.toLowerCase())&&(t[n]=e.getAttribute("data-"+n.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,pM.default)(t),t}Bg.default=xM;var Fg={},jg={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.getTotalWidthOfEncodings=fr.calculateEncodingAttributes=fr.getBarcodePadding=fr.getEncodingHeight=fr.getMaximumHeightOfEncodings=void 0;var yM=Qa,wM=vM(yM);function vM(e){return e&&e.__esModule?e:{default:e}}function ME(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function DE(e,t,n){if(n.displayValue&&t<e){if(n.textAlign=="center")return Math.floor((e-t)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(e-t)}return 0}function EM(e,t,n){for(var r=0;r<e.length;r++){var s=e[r],l=(0,wM.default)(t,s.options),d;l.displayValue?d=AM(s.text,l,n):d=0;var g=s.data.length*l.width;s.width=Math.ceil(Math.max(d,g)),s.height=ME(s,l),s.barcodePadding=DE(d,g,l)}}function CM(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t}function SM(e){for(var t=0,n=0;n<e.length;n++)e[n].height>t&&(t=e[n].height);return t}function AM(e,t,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var s=r.measureText(e);if(!s)return 0;var l=s.width;return l}fr.getMaximumHeightOfEncodings=SM;fr.getEncodingHeight=ME;fr.getBarcodePadding=DE;fr.calculateEncodingAttributes=EM;fr.getTotalWidthOfEncodings=CM;Object.defineProperty(jg,"__esModule",{value:!0});var _M=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bM=Qa,IM=NM(bM),c0=fr;function NM(e){return e&&e.__esModule?e:{default:e}}function TM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var RM=function(){function e(t,n,r){TM(this,e),this.canvas=t,this.encodings=n,this.options=r}return _M(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,IM.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,c0.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,c0.getTotalWidthOfEncodings)(this.encodings),s=(0,c0.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=s,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var s=this.canvas.getContext("2d"),l=r.data,d;n.textPosition=="top"?d=n.marginTop+n.fontSize+n.textMargin:d=n.marginTop,s.fillStyle=n.lineColor;for(var g=0;g<l.length;g++){var x=g*n.width+r.barcodePadding;l[g]==="1"?s.fillRect(x,d,n.width,n.height):l[g]&&s.fillRect(x,d,n.width,n.height*l[g])}}},{key:"drawCanvasText",value:function(n,r){var s=this.canvas.getContext("2d"),l=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var d,g;n.textPosition=="top"?g=n.marginTop+n.fontSize-n.textMargin:g=n.height+n.textMargin+n.marginTop+n.fontSize,s.font=l,n.textAlign=="left"||r.barcodePadding>0?(d=0,s.textAlign="left"):n.textAlign=="right"?(d=r.width-1,s.textAlign="right"):(d=r.width/2,s.textAlign="center"),s.fillText(r.text,d,g)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),e}();jg.default=RM;var Ug={};Object.defineProperty(Ug,"__esModule",{value:!0});var OM=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),MM=Qa,DM=kM(MM),f0=fr;function kM(e){return e&&e.__esModule?e:{default:e}}function PM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var gc="http://www.w3.org/2000/svg",LM=function(){function e(t,n,r){PM(this,e),this.svg=t,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return OM(e,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var s=this.encodings[r],l=(0,DM.default)(this.options,s.options),d=this.createGroup(n,l.marginTop,this.svg);this.setGroupOptions(d,l),this.drawSvgBarcode(d,l,s),this.drawSVGText(d,l,s),n+=s.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,f0.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,f0.getTotalWidthOfEncodings)(this.encodings),r=(0,f0.getMaximumHeightOfEncodings)(this.encodings),s=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(s,r),this.options.background&&this.drawRect(0,0,s,r,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(n,r,s){var l=s.data,d;r.textPosition=="top"?d=r.fontSize+r.textMargin:d=0;for(var g=0,x=0,p=0;p<l.length;p++)x=p*r.width+s.barcodePadding,l[p]==="1"?g++:g>0&&(this.drawRect(x-r.width*g,d,r.width*g,r.height,n),g=0);g>0&&this.drawRect(x-r.width*(g-1),d,r.width*g,r.height,n)}},{key:"drawSVGText",value:function(n,r,s){var l=this.document.createElementNS(gc,"text");if(r.displayValue){var d,g;l.setAttribute("font-family",r.font),l.setAttribute("font-size",r.fontSize),r.fontOptions.includes("bold")&&l.setAttribute("font-weight","bold"),r.fontOptions.includes("italic")&&l.setAttribute("font-style","italic"),r.textPosition=="top"?g=r.fontSize-r.textMargin:g=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||s.barcodePadding>0?(d=0,l.setAttribute("text-anchor","start")):r.textAlign=="right"?(d=s.width-1,l.setAttribute("text-anchor","end")):(d=s.width/2,l.setAttribute("text-anchor","middle")),l.setAttribute("x",d),l.setAttribute("y",g),l.appendChild(this.document.createTextNode(s.text)),n.appendChild(l)}}},{key:"setSvgAttributes",value:function(n,r){var s=this.svg;s.setAttribute("width",n+"px"),s.setAttribute("height",r+"px"),s.setAttribute("x","0px"),s.setAttribute("y","0px"),s.setAttribute("viewBox","0 0 "+n+" "+r),s.setAttribute("xmlns",gc),s.setAttribute("version","1.1")}},{key:"createGroup",value:function(n,r,s){var l=this.document.createElementNS(gc,"g");return l.setAttribute("transform","translate("+n+", "+r+")"),s.appendChild(l),l}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("fill",r.lineColor)}},{key:"drawRect",value:function(n,r,s,l,d){var g=this.document.createElementNS(gc,"rect");return g.setAttribute("x",n),g.setAttribute("y",r),g.setAttribute("width",s),g.setAttribute("height",l),d.appendChild(g),g}}]),e}();Ug.default=LM;var zg={};Object.defineProperty(zg,"__esModule",{value:!0});var BM=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function FM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var jM=function(){function e(t,n,r){FM(this,e),this.object=t,this.encodings=n,this.options=r}return BM(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();zg.default=jM;Object.defineProperty(Fg,"__esModule",{value:!0});var UM=jg,zM=Vg(UM),VM=Ug,HM=Vg(VM),GM=zg,$M=Vg(GM);function Vg(e){return e&&e.__esModule?e:{default:e}}Fg.default={CanvasRenderer:zM.default,SVGRenderer:HM.default,ObjectRenderer:$M.default};var qa={};Object.defineProperty(qa,"__esModule",{value:!0});function Hg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $g(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var WM=function(e){$g(t,e);function t(n,r){Hg(this,t);var s=Gg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.name="InvalidInputException",s.symbology=n,s.input=r,s.message='"'+s.input+'" is not a valid input for '+s.symbology,s}return t}(Error),XM=function(e){$g(t,e);function t(){Hg(this,t);var n=Gg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return t}(Error),YM=function(e){$g(t,e);function t(){Hg(this,t);var n=Gg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return t}(Error);qa.InvalidInputException=WM;qa.InvalidElementException=XM;qa.NoElementException=YM;Object.defineProperty(Lg,"__esModule",{value:!0});var QM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qM=Bg,j1=kE(qM),ZM=Fg,_l=kE(ZM),KM=qa;function kE(e){return e&&e.__esModule?e:{default:e}}function Wg(e){if(typeof e=="string")return JM(e);if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(Wg(e[n]));return t}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return eD(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,j1.default)(e),renderer:_l.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,j1.default)(e),renderer:_l.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:_l.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":QM(e))==="object"&&!e.nodeName)return{element:e,renderer:_l.default.ObjectRenderer};throw new KM.InvalidElementException}}function JM(e){var t=document.querySelectorAll(e);if(t.length!==0){for(var n=[],r=0;r<t.length;r++)n.push(Wg(t[r]));return n}}function eD(e){var t=document.createElement("canvas");return{element:t,options:(0,j1.default)(e),renderer:_l.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}Lg.default=Wg;var Xg={};Object.defineProperty(Xg,"__esModule",{value:!0});var tD=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function nD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var rD=function(){function e(t){nD(this,e),this.api=t}return tD(e,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(s){return this.handleCatch(s),this.api}}}]),e}();Xg.default=rD;var iD=mg,vo=Vs(iD),sD=Qa,Iu=Vs(sD),oD=kg,PE=Vs(oD),aD=Pg,Z2=Vs(aD),lD=Lg,uD=Vs(lD),cD=Kf,fD=Vs(cD),dD=Xg,hD=Vs(dD),LE=qa,gD=Jf,BE=Vs(gD);function Vs(e){return e&&e.__esModule?e:{default:e}}var Li=function(){},ed=function(t,n,r){var s=new Li;if(typeof t>"u")throw Error("No element to render on was provided.");return s._renderProperties=(0,uD.default)(t),s._encodings=[],s._options=BE.default,s._errorHandler=new hD.default(s),typeof n<"u"&&(r=r||{},r.format||(r.format=jE()),s.options(r)[r.format](n,r).render()),s};ed.getModule=function(e){return vo.default[e]};for(var K2 in vo.default)vo.default.hasOwnProperty(K2)&&pD(vo.default,K2);function pD(e,t){Li.prototype[t]=Li.prototype[t.toUpperCase()]=Li.prototype[t.toLowerCase()]=function(n,r){var s=this;return s._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var l=(0,Iu.default)(s._options,r);l=(0,fD.default)(l);var d=e[t],g=FE(n,d,l);return s._encodings.push(g),s})}}function FE(e,t,n){e=""+e;var r=new t(e,n);if(!r.valid())throw new LE.InvalidInputException(r.constructor.name,e);var s=r.encode();s=(0,PE.default)(s);for(var l=0;l<s.length;l++)s[l].options=(0,Iu.default)(n,s[l].options);return s}function jE(){return vo.default.CODE128?"CODE128":Object.keys(vo.default)[0]}Li.prototype.options=function(e){return this._options=(0,Iu.default)(this._options,e),this};Li.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this};Li.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var n=(0,Iu.default)(this._options,e.options);n.format=="auto"&&(n.format=jE()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,s=vo.default[n.format.toUpperCase()],l=FE(r,s,n);U1(e,l,n)})}}};Li.prototype.render=function(){if(!this._renderProperties)throw new LE.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)U1(this._renderProperties[e],this._encodings,this._options);else U1(this._renderProperties,this._encodings,this._options);return this};Li.prototype._defaults=BE.default;function U1(e,t,n){t=(0,PE.default)(t);for(var r=0;r<t.length;r++)t[r].options=(0,Iu.default)(n,t[r].options),(0,Z2.default)(t[r].options);(0,Z2.default)(n);var s=e.renderer,l=new s(e.element,t,n);l.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=ed);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,t){var n=[];return jQuery(this).each(function(){n.push(this)}),ed(n,e,t)});var mD=ed;function Dc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dc=function(n){return typeof n}:Dc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dc(e)}var Zo=Yg(z),xD=Yg(mD),Ot=Yg(hg);function Yg(e){return e&&e.__esModule?e:{default:e}}function yD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vD(e,t,n){return t&&wD(e.prototype,t),e}function ED(e,t){return t&&(Dc(t)==="object"||typeof t=="function")?t:UE(e)}function z1(e){return z1=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},z1(e)}function UE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V1(e,t)}function V1(e,t){return V1=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},V1(e,t)}var H1,d0=Zo.default.version.split(/[.-]/);d0[0]==="0"&&(d0[1]==="13"||d0[1]==="12")?H1=function(t){return t.getDOMNode()}:H1=function(t){return t};var Qg=function(e){CD(t,e);function t(n){var r;return yD(this,t),r=ED(this,z1(t).call(this,n)),r.renderElementRef=Zo.default.createRef(),r.update=r.update.bind(UE(r)),r}return vD(t,[{key:"shouldComponentUpdate",value:function(r){var s=this;return Object.keys(t.propTypes).some(function(l){return s.props[l]!==r[l]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var r=H1(this.renderElementRef.current);try{new xD.default(r,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(s){window.console.error(s)}}},{key:"render",value:function(){var r=this.props,s=r.id,l=r.className;if(this.props.renderer==="svg")return Zo.default.createElement("svg",{ref:this.renderElementRef,id:s,className:l});if(this.props.renderer==="canvas")return Zo.default.createElement("canvas",{ref:this.renderElementRef,id:s,className:l});if(this.props.renderer==="img")return Zo.default.createElement("img",{ref:this.renderElementRef,id:s,className:l})}}]),t}(Zo.default.Component);Qg.propTypes={value:Ot.default.string.isRequired,text:Ot.default.string,renderer:Ot.default.string,format:Ot.default.string,width:Ot.default.number,height:Ot.default.number,displayValue:Ot.default.bool,fontOptions:Ot.default.string,font:Ot.default.string,textAlign:Ot.default.string,textPosition:Ot.default.string,textMargin:Ot.default.number,fontSize:Ot.default.number,background:Ot.default.string,lineColor:Ot.default.string,margin:Ot.default.number,marginTop:Ot.default.number,marginBottom:Ot.default.number,marginLeft:Ot.default.number,marginRight:Ot.default.number,id:Ot.default.string,className:Ot.default.string,ean128:Ot.default.bool};Qg.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};var SD=Qg;const AD=$1(SD);var zE={exports:{}};(function(e,t){(function(n,r){e.exports=r(z)})(typeof self<"u"?self:Qo,function(n){return function(){var r={155:function(_){_.exports=n}},s={};function l(_){var T=s[_];if(T!==void 0)return T.exports;var k=s[_]={exports:{}};return r[_](k,k.exports,l),k.exports}l.d=function(_,T){for(var k in T)l.o(T,k)&&!l.o(_,k)&&Object.defineProperty(_,k,{enumerable:!0,get:T[k]})},l.o=function(_,T){return Object.prototype.hasOwnProperty.call(_,T)},l.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var d={};l.r(d),l.d(d,{useReactToPrint:function(){return M}});var g=l(155);const x="printWindow";function p({level:_="error",messages:T,suppressErrors:k=!1}){k||(_==="error"?console.error(T):_==="warning"?console.warn(T):console.debug(T))}function v(_,T){if(T||!_){const k=document.getElementById(x);k&&document.body.removeChild(k)}}function E(_){return _ instanceof Error?_:new Error("Unknown Error")}function b(_,T){const{documentTitle:k,onAfterPrint:H,onPrintError:Q,preserveAfterPrint:V,print:te,suppressErrors:q}=T;setTimeout(()=>{var ie,ye;if(_.contentWindow){let re=function(){H==null||H(),v(V)};if(_.contentWindow.focus(),te)te(_).then(re).catch(ce=>{Q?Q("print",E(ce)):p({messages:["An error was thrown by the specified `print` function"],suppressErrors:q})});else{if(_.contentWindow.print){const ce=(ye=(ie=_.contentDocument)===null||ie===void 0?void 0:ie.title)!==null&&ye!==void 0?ye:"",_e=_.ownerDocument.title;k&&(_.ownerDocument.title=k,_.contentDocument&&(_.contentDocument.title=k)),_.contentWindow.print(),k&&(_.ownerDocument.title=_e,_.contentDocument&&(_.contentDocument.title=ce))}else p({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:q});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(ce=>{var _e,W;return((W=(_e=navigator.userAgent)!==null&&_e!==void 0?_e:navigator.vendor)!==null&&W!==void 0?W:"opera"in window&&window.opera).match(ce)})?setTimeout(re,500):re()}}else p({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:q})},500)}function I(_){const T=[],k=document.createTreeWalker(_,NodeFilter.SHOW_ELEMENT,null);let H=k.nextNode();for(;H;)T.push(H),H=k.nextNode();return T}function N(_,T,k){const H=I(_),Q=I(T);if(H.length===Q.length)for(let V=0;V<H.length;V++){const te=H[V],q=Q[V],ie=te.shadowRoot;if(ie!==null){const ye=q.attachShadow({mode:ie.mode});ye.innerHTML=ie.innerHTML,N(ie,ye,k)}}else p({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",_,T],suppressErrors:k})}const O=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function P(_,T,k,H){var Q,V,te,q,ie;const{contentNode:ye,clonedContentNode:re,clonedImgNodes:ce,clonedVideoNodes:_e,numResourcesToLoad:W,originalCanvasNodes:Oe}=k,{bodyClass:Y,fonts:ee,ignoreGlobalStyles:de,pageStyle:pe,nonce:Me,suppressErrors:be,copyShadowRoots:dt}=H;_.onload=null;const Ee=(Q=_.contentDocument)!==null&&Q!==void 0?Q:(V=_.contentWindow)===null||V===void 0?void 0:V.document;if(Ee){const Ke=Ee.body.appendChild(re);dt&&N(ye,Ke,!!be),ee&&(!((te=_.contentDocument)===null||te===void 0)&&te.fonts&&(!((q=_.contentWindow)===null||q===void 0)&&q.FontFace)?ee.forEach(Qe=>{const xe=new FontFace(Qe.family,Qe.source,{weight:Qe.weight,style:Qe.style});_.contentDocument.fonts.add(xe),xe.loaded.then(()=>{T(xe)}).catch(wt=>{T(xe,["Failed loading the font:",xe,"Load error:",E(wt)])})}):(ee.forEach(Qe=>{T(Qe)}),p({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:be})));const we=pe??O,Bt=Ee.createElement("style");Me&&(Bt.setAttribute("nonce",Me),Ee.head.setAttribute("nonce",Me)),Bt.appendChild(Ee.createTextNode(we)),Ee.head.appendChild(Bt),Y&&Ee.body.classList.add(...Y.split(" "));const st=Ee.querySelectorAll("canvas");for(let Qe=0;Qe<Oe.length;++Qe){const xe=Oe[Qe],wt=st[Qe];if(wt===void 0){p({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",xe],suppressErrors:be});continue}const Ve=wt.getContext("2d");Ve&&Ve.drawImage(xe,0,0)}for(let Qe=0;Qe<ce.length;Qe++){const xe=ce[Qe],wt=xe.getAttribute("src");if(wt){const Ve=new Image;Ve.onload=()=>{T(xe)},Ve.onerror=(lt,qe,$e,Fe,dn)=>{T(xe,["Error loading <img>",xe,"Error",dn])},Ve.src=wt}else T(xe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',xe])}for(let Qe=0;Qe<_e.length;Qe++){const xe=_e[Qe];xe.preload="auto";const wt=xe.getAttribute("poster");if(wt){const Ve=new Image;Ve.onload=()=>{T(xe)},Ve.onerror=(lt,qe,$e,Fe,dn)=>{T(xe,["Error loading video poster",wt,"for video",xe,"Error:",dn])},Ve.src=wt}else xe.readyState>=2?T(xe):xe.src?(xe.onloadeddata=()=>{T(xe)},xe.onerror=(Ve,lt,qe,$e,Fe)=>{T(xe,["Error loading video",xe,"Error",Fe])},xe.onstalled=()=>{T(xe,["Loading video stalled, skipping",xe])}):T(xe,["Error loading video, `src` is empty",xe])}const En="select",Ft=ye.querySelectorAll(En),gt=Ee.querySelectorAll(En);for(let Qe=0;Qe<Ft.length;Qe++)gt[Qe].value=Ft[Qe].value;if(!de){const Qe=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let xe=0,wt=Qe.length;xe<wt;++xe){const Ve=Qe[xe];if(Ve.tagName.toLowerCase()==="style"){const lt=Ee.createElement(Ve.tagName),qe=Ve.sheet;if(qe){let $e="";try{const Fe=qe.cssRules.length;for(let dn=0;dn<Fe;++dn)typeof qe.cssRules[dn].cssText=="string"&&($e+=`${qe.cssRules[dn].cssText}\r
`)}catch(Fe){p({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ve,`Original error: ${E(Fe).message}`],level:"warning"})}lt.setAttribute("id",`react-to-print-${xe}`),Me&&lt.setAttribute("nonce",Me),lt.appendChild(Ee.createTextNode($e)),Ee.head.appendChild(lt)}}else if(Ve.getAttribute("href"))if(Ve.hasAttribute("disabled"))p({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ve],level:"warning"}),T(Ve);else{const lt=Ee.createElement(Ve.tagName);for(let qe=0,$e=Ve.attributes.length;qe<$e;++qe){const Fe=Ve.attributes[qe];Fe&&lt.setAttribute(Fe.nodeName,(ie=Fe.nodeValue)!==null&&ie!==void 0?ie:"")}lt.onload=()=>{T(lt)},lt.onerror=(qe,$e,Fe,dn,B)=>{T(lt,["Failed to load",lt,"Error:",B])},Me&&lt.setAttribute("nonce",Me),Ee.head.appendChild(lt)}else p({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ve],level:"warning"}),T(Ve)}}}W===0&&b(_,H)}function M({bodyClass:_,contentRef:T,copyShadowRoots:k,documentTitle:H,fonts:Q,ignoreGlobalStyles:V,nonce:te,onAfterPrint:q,onBeforePrint:ie,onPrintError:ye,pageStyle:re,preserveAfterPrint:ce,print:_e,printIframeProps:W,suppressErrors:Oe}){return(0,g.useCallback)(ee=>{function de(){const pe={bodyClass:_,contentRef:T,copyShadowRoots:k,documentTitle:H,fonts:Q,ignoreGlobalStyles:V,nonce:te,onAfterPrint:q,onPrintError:ye,pageStyle:re,preserveAfterPrint:ce,print:_e,suppressErrors:Oe},Me=function(Ee){const Ke=document.createElement("iframe");return Ke.width=`${document.documentElement.clientWidth}px`,Ke.height=`${document.documentElement.clientHeight}px`,Ke.style.position="absolute",Ke.style.top=`-${document.documentElement.clientHeight+100}px`,Ke.style.left=`-${document.documentElement.clientWidth+100}px`,Ke.id=x,Ke.srcdoc="<!DOCTYPE html>",Ee&&(Ee.allow&&(Ke.allow=Ee.allow),Ee.referrerPolicy!==void 0&&(Ke.referrerPolicy=Ee.referrerPolicy),Ee.sandbox!==void 0&&(Ke.sandbox=Ee.sandbox)),Ke}(W),be=function(Ee,Ke){const{contentRef:we,fonts:Bt,ignoreGlobalStyles:st,suppressErrors:En}=Ke,Ft=function({contentRef:lt,optionalContent:qe,suppressErrors:$e}){return qe&&typeof qe=="function"?(lt&&p({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),qe()):lt?lt.current:void p({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:$e})}({contentRef:we,optionalContent:Ee,suppressErrors:En});if(!Ft)return;const gt=Ft.cloneNode(!0),Qe=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),xe=gt.querySelectorAll("img"),wt=gt.querySelectorAll("video"),Ve=Bt?Bt.length:0;return{contentNode:Ft,clonedContentNode:gt,clonedImgNodes:xe,clonedVideoNodes:wt,numResourcesToLoad:(st?0:Qe.length)+xe.length+wt.length+Ve,originalCanvasNodes:Ft.querySelectorAll("canvas")}}(ee,pe);if(!be)return void p({messages:["There is nothing to print"],suppressErrors:Oe});const dt=function(Ee,Ke,we){const{suppressErrors:Bt}=Ee,st=[],En=[];return function(Ft,gt){st.includes(Ft)?p({level:"debug",messages:["Tried to mark a resource that has already been handled",Ft],suppressErrors:Bt}):(gt?(p({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...gt],suppressErrors:Bt}),En.push(Ft)):st.push(Ft),st.length+En.length===Ke&&b(we,Ee))}}(pe,be.numResourcesToLoad,Me);(function(Ee,Ke,we,Bt){Ee.onload=()=>{P(Ee,Ke,we,Bt)},document.body.appendChild(Ee)})(Me,dt,be,pe)}v(ce,!0),ie?ie().then(()=>{de()}).catch(pe=>{ye==null||ye("onBeforePrint",E(pe))}):de()},[_,T,k,H,Q,V,te,q,ie,ye,re,ce,_e,Oe])}return d}()})})(zE);var _D=zE.exports;const bD=({isOpen:e,onClose:t,data:n})=>{var b;const[r,s]=z.useState("QR"),l=z.useRef(),d=_D.useReactToPrint({contentRef:l,documentTitle:`Label-${(n==null?void 0:n.batchNumber)||"Product"}`});if(!e||!n)return null;const g=((b=n.productId)==null?void 0:b.name)||n.name||"Unknown Product",x=n.batchNumber||"N/A",p=n.expiryDate?new Date(n.expiryDate).toLocaleDateString():"N/A",v=n.mrp?`Rs. ${n.mrp}`:"",E=x!=="N/A"?x:n.barcode||"NO_DATA";return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Generate Label"}),w.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:w.jsx(Uf,{size:24})})]}),w.jsxs("div",{className:"p-6 flex flex-col items-center space-y-4",children:[w.jsxs("div",{className:"flex space-x-2 bg-gray-100 p-1 rounded-lg",children:[w.jsx("button",{onClick:()=>s("QR"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${r==="QR"?"bg-white shadow text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"QR Code"}),w.jsx("button",{onClick:()=>s("BARCODE"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${r==="BARCODE"?"bg-white shadow text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Barcode"})]}),w.jsxs("div",{ref:l,className:"border-2 border-dashed border-gray-300 p-4 rounded bg-white flex flex-col items-center justify-center text-center w-full max-w-[300px]",style:{minHeight:"300px"},children:[w.jsx("h4",{className:"font-bold text-sm mb-1",children:g}),w.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Batch: ",x," | Exp: ",p]}),w.jsx("div",{className:"py-2",children:r==="QR"?w.jsx(mT,{value:E,size:128,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 256 256"}):w.jsx(AD,{value:E,width:1.5,height:50,fontSize:12})}),w.jsx("div",{className:"text-sm font-bold mt-2",children:v}),w.jsx("div",{className:"text-[10px] text-gray-400 mt-1",children:"Pharma ERP System"})]})]}),w.jsxs("div",{className:"flex justify-end p-4 border-t bg-gray-50 space-x-3",children:[w.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"}),w.jsxs("button",{onClick:d,className:"flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700",children:[w.jsx(kv,{size:16,className:"mr-2"}),"Print Label"]})]})]})})},ID=()=>{const[e,t]=z.useState([]),[n,r]=z.useState([]),[s,l]=z.useState(!0),[d,g]=z.useState(null),[x,p]=z.useState(""),[v,E]=z.useState(!1),[b,I]=z.useState(null),[N,O]=z.useState(null),[P,M]=z.useState({fromLocation:"",toLocation:"",quantity:0,reason:""}),[_,T]=z.useState(null),[k,H]=z.useState({location:"",quantity:0,reason:""}),Q=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}),V=async()=>{try{l(!0);const[Y,ee]=await Promise.all([fetch("/api/inventory/batches-list",{headers:Q()}),fetch("/api/inventory/locations",{headers:Q()})]);if(!Y.ok)throw new Error("Failed to fetch batches");t(await Y.json()),ee.ok&&r(await ee.json())}catch(Y){g(Y.message)}finally{l(!1)}};z.useEffect(()=>{V()},[]);const te=z.useMemo(()=>{if(!x)return e;const Y=x.toLowerCase();return e.filter(ee=>{var be,dt,Ee,Ke,we;const de=((dt=(be=ee.productId)==null?void 0:be.name)==null?void 0:dt.toLowerCase())||"",pe=((Ee=ee.batchNumber)==null?void 0:Ee.toLowerCase())||"",Me=((we=(Ke=ee.productId)==null?void 0:Ke.barcode)==null?void 0:we.toLowerCase())||"";return de.includes(Y)||pe.includes(Y)||Me.includes(Y)})},[e,x]),q=async Y=>{if(window.confirm("Are you sure you want to delete this batch? This cannot be undone."))try{if(!(await fetch(`/api/inventory/batches/${Y}`,{method:"DELETE",headers:Q()})).ok)throw new Error("Failed to delete");t(de=>de.filter(pe=>pe._id!==Y))}catch(ee){alert(ee.message)}},ie=Y=>{var de,pe;O(Y);const ee=(pe=(de=Y.stockDistribution)==null?void 0:de[0])==null?void 0:pe.location;M({fromLocation:(ee==null?void 0:ee._id)||ee||"",toLocation:"",quantity:0,reason:""})},ye=async Y=>{Y.preventDefault();try{const ee={batchId:N._id,fromLocationId:P.fromLocation,toLocationId:P.toLocation,quantity:Number(P.quantity),reason:P.reason},de=await fetch("/api/inventory/transfer",{method:"POST",headers:Q(),body:JSON.stringify(ee)});if(!de.ok)throw new Error((await de.json()).message||"Transfer failed");alert("Transfer Successful"),O(null),V()}catch(ee){alert(ee.message)}},re=Y=>{var Me,be,dt,Ee;T(Y);const ee=(be=(Me=Y.stockDistribution)==null?void 0:Me[0])==null?void 0:be.location,de=(ee==null?void 0:ee._id)||ee||"",pe=((Ee=(dt=Y.stockDistribution)==null?void 0:dt[0])==null?void 0:Ee.quantity)||0;H({location:de,quantity:pe,reason:""})},ce=Y=>{const ee=_.stockDistribution.find(de=>(de.location._id||de.location)===Y);H({...k,location:Y,quantity:ee?ee.quantity:0})},_e=async Y=>{Y.preventDefault();try{const ee={batchId:_._id,locationId:k.location,quantity:Number(k.quantity),reason:k.reason},de=await fetch("/api/inventory/adjust",{method:"POST",headers:Q(),body:JSON.stringify(ee)});if(!de.ok)throw new Error((await de.json()).message||"Adjustment failed");alert("Stock Adjusted Successfully"),T(null),V()}catch(ee){alert(ee.message)}},W=z.useMemo(()=>[{id:"expander",header:()=>null,cell:({row:Y})=>Y.getCanExpand()?w.jsx("button",{onClick:Y.getToggleExpandedHandler(),style:{cursor:"pointer"},children:Y.getIsExpanded()?w.jsx(M8,{className:"w-4 h-4"}):w.jsx(k8,{className:"w-4 h-4"})}):null},{header:"Product Name",accessorKey:"productId.name",cell:Y=>{var ee;return w.jsxs("div",{children:[w.jsx("div",{className:"font-medium",children:Y.getValue()||"Unknown"}),w.jsx("div",{className:"text-xs text-gray-400",children:(ee=Y.row.original.productId)==null?void 0:ee.barcode})]})}},{header:"Batch Number",accessorKey:"batchNumber"},{header:"Expiry Date",accessorKey:"expiryDate",cell:Y=>{const ee=Y.getValue();return ee?new Date(ee).toLocaleDateString():"N/A"}},{header:"Total Quantity",accessorKey:"quantity"},{header:"Actions",id:"actions",cell:({row:Y})=>w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{onClick:()=>I(Y.original),className:"text-gray-600 hover:text-gray-900",title:"Print Label",children:w.jsx(kv,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>ie(Y.original),className:"text-blue-600 hover:text-blue-900",title:"Transfer Stock",children:w.jsx(N8,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>re(Y.original),className:"text-orange-600 hover:text-orange-900",title:"Adjust Stock",children:w.jsx(Y8,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>q(Y.original._id),className:"text-red-600 hover:text-red-900",title:"Delete Batch",children:w.jsx(nI,{className:"w-5 h-5"})})]})}],[]),Oe=zN({data:te||[],columns:W,getRowCanExpand:()=>!0,getCoreRowModel:kN(),getSortedRowModel:BN(),getExpandedRowModel:PN()});return s?w.jsx("div",{children:"Loading..."}):d?w.jsxs("div",{className:"text-red-500",children:["Error: ",d]}):w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(Lv,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search by Product Name, Batch Number, or Barcode (Scan)...",value:x,onChange:Y=>p(Y.target.value),autoFocus:!0}),w.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:w.jsx("button",{onClick:()=>E(!0),className:"p-2 text-gray-500 hover:text-blue-600 focus:outline-none",title:"Scan Barcode",children:w.jsx(Pv,{className:"h-5 w-5"})})})]}),w.jsx("div",{className:"overflow-x-auto shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg bg-white",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[w.jsx("thead",{className:"bg-gray-50",children:Oe.getHeaderGroups().map(Y=>w.jsx("tr",{children:Y.headers.map(ee=>w.jsx("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:L2(ee.column.columnDef.header,ee.getContext())},ee.id))},Y.id))}),w.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[Oe.getRowModel().rows.map((Y,ee)=>{var de;return w.jsxs(Nn.Fragment,{children:[w.jsx("tr",{className:rs("hover:bg-gray-100",ee%2===0?"bg-gray-50":"bg-white"),children:Y.getVisibleCells().map(pe=>w.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:L2(pe.column.columnDef.cell,pe.getContext())},pe.id))}),Y.getIsExpanded()&&w.jsx("tr",{children:w.jsxs("td",{colSpan:W.length,className:"p-4 bg-gray-50",children:[w.jsx("h4",{className:"font-semibold text-xs text-gray-500 uppercase mb-2",children:"Location Breakdown"}),w.jsxs("table",{className:"min-w-full bg-white border rounded",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-gray-100 border-b",children:[w.jsx("th",{className:"py-2 px-4 text-left text-xs font-semibold text-gray-600",children:"Location"}),w.jsx("th",{className:"py-2 px-4 text-left text-xs font-semibold text-gray-600",children:"Quantity"})]})}),w.jsxs("tbody",{children:[(de=Y.original.stockDistribution)==null?void 0:de.map((pe,Me)=>{var be;return w.jsxs("tr",{className:"border-b last:border-0",children:[w.jsx("td",{className:"py-2 px-4 text-sm",children:((be=pe.location)==null?void 0:be.name)||"Unknown"}),w.jsx("td",{className:"py-2 px-4 text-sm font-mono",children:pe.quantity})]},Me)}),(!Y.original.stockDistribution||Y.original.stockDistribution.length===0)&&w.jsx("tr",{children:w.jsx("td",{colSpan:"2",className:"p-2 text-center text-sm text-gray-500",children:"No stock data"})})]})]})]})})]},Y.id)}),te.length===0&&w.jsx("tr",{children:w.jsx("td",{colSpan:W.length,className:"p-4 text-center text-gray-500",children:"No matching records found."})})]})]})}),N&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:w.jsxs("div",{className:"bg-white rounded p-6 max-w-md w-full",children:[w.jsx("h3",{className:"text-lg font-bold mb-4",children:"Transfer Stock"}),w.jsxs("p",{className:"text-sm mb-4",children:["Batch: ",N.batchNumber]}),w.jsxs("form",{onSubmit:ye,children:[w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block text-sm",children:"From Location"}),w.jsxs("select",{className:"w-full border p-2 rounded",value:P.fromLocation,onChange:Y=>M({...P,fromLocation:Y.target.value}),required:!0,children:[w.jsx("option",{value:"",children:"Select Location"}),N.stockDistribution.map(Y=>w.jsxs("option",{value:Y.location._id||Y.location,children:[Y.location.name||"Location "+(Y.location._id||Y.location)," (Qty: ",Y.quantity,")"]},Y.location._id||Y.location))]})]}),w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block text-sm",children:"To Location"}),w.jsxs("select",{className:"w-full border p-2 rounded",value:P.toLocation,onChange:Y=>M({...P,toLocation:Y.target.value}),required:!0,children:[w.jsx("option",{value:"",children:"Select Location"}),n.filter(Y=>Y._id!==P.fromLocation).map(Y=>w.jsx("option",{value:Y._id,children:Y.name},Y._id))]})]}),w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block text-sm",children:"Quantity"}),w.jsx("input",{type:"number",min:"1",className:"w-full border p-2 rounded",value:P.quantity,onChange:Y=>M({...P,quantity:Y.target.value}),required:!0})]}),w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block text-sm",children:"Reason"}),w.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:P.reason,onChange:Y=>M({...P,reason:Y.target.value})})]}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx("button",{type:"button",onClick:()=>O(null),className:"px-4 py-2 border rounded",children:"Cancel"}),w.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Transfer"})]})]})]})}),_&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:w.jsxs("div",{className:"bg-white rounded p-6 max-w-md w-full",children:[w.jsx("h3",{className:"text-lg font-bold mb-4",children:"Adjust Stock"}),w.jsxs("p",{className:"text-sm mb-4",children:["Batch: ",_.batchNumber]}),w.jsxs("form",{onSubmit:_e,children:[w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block text-sm",children:"Location"}),w.jsxs("select",{className:"w-full border p-2 rounded",value:k.location,onChange:Y=>ce(Y.target.value),required:!0,children:[w.jsx("option",{value:"",children:"Select Location"}),n.map(Y=>w.jsx("option",{value:Y._id,children:Y.name},Y._id))]})]}),w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block text-sm",children:"New Quantity"}),w.jsx("input",{type:"number",min:"0",className:"w-full border p-2 rounded",value:k.quantity,onChange:Y=>H({...k,quantity:Y.target.value}),required:!0}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the total actual physical quantity."})]}),w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block text-sm",children:"Reason *"}),w.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:k.reason,onChange:Y=>H({...k,reason:Y.target.value}),required:!0,placeholder:"e.g., Damaged, Found, Counting Error"})]}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx("button",{type:"button",onClick:()=>T(null),className:"px-4 py-2 border rounded",children:"Cancel"}),w.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-600 text-white rounded",children:"Adjust"})]})]})]})}),v&&w.jsx(Gv,{onClose:()=>E(!1),onScan:Y=>{p(Y),E(!1)}}),w.jsx(bD,{isOpen:!!b,onClose:()=>I(null),data:b})]})},ND=()=>{const[e,t]=z.useState([]),[n,r]=z.useState({lowStock:[],expiring:[]}),[s,l]=z.useState(!0),[d,g]=z.useState(null),[x,p]=z.useState(null),[v,E]=z.useState("manage"),b=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}),I=async()=>{try{const O=await fetch("/api/inventory",{headers:b()});if(!O.ok)throw new Error("Failed to fetch inventory");const P=await O.json();t(P)}catch(O){g(O.message)}finally{l(!1)}};z.useEffect(()=>{I()},[]);const N=async O=>{p(null);try{const P=await fetch("/api/inventory/batches",{method:"POST",headers:b(),body:JSON.stringify(O)}),M=await P.json();if(!P.ok)throw new Error(M.message||"Failed to add batch");alert("Batch added successfully!"),I()}catch(P){p(P.message)}};return w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[w.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate flex items-center",children:[w.jsx(W8,{className:"mr-3 h-8 w-8 text-blue-600"}),"Inventory Operations"]}),w.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add new stock batches or create new product definitions."})]})}),(n.lowStock.length>0||n.expiring.length>0)&&w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[n.lowStock.length>0&&w.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded shadow-sm",children:w.jsxs("div",{className:"flex",children:[w.jsx(AlertCircle,{className:"h-5 w-5 text-red-500 mr-2"}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Low Stock Alert"}),w.jsx("div",{className:"mt-2 text-sm text-red-700",children:w.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[n.lowStock.slice(0,3).map(O=>w.jsxs("li",{children:[O.name," (Qty: ",O.totalQuantity,")"]},O._id)),n.lowStock.length>3&&w.jsxs("li",{children:["...and ",n.lowStock.length-3," more"]})]})})]})]})}),n.expiring.length>0&&w.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded shadow-sm",children:w.jsxs("div",{className:"flex",children:[w.jsx(AlertTriangle,{className:"h-5 w-5 text-yellow-500 mr-2"}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Expiring Soon (90 Days)"}),w.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:w.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[n.expiring.slice(0,3).map(O=>{var P;return w.jsxs("li",{children:[(P=O.productId)==null?void 0:P.name," - ",new Date(O.expiryDate).toLocaleDateString()]},O._id)}),n.expiring.length>3&&w.jsxs("li",{children:["...and ",n.expiring.length-3," more"]})]})})]})]})})]}),d&&w.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-8",children:w.jsx("p",{className:"text-sm text-red-700",children:d})}),w.jsxs("div",{className:"flex space-x-4 mb-6",children:[w.jsxs("button",{onClick:()=>E("stock"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${v==="stock"?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:[w.jsx(R8,{className:"w-4 h-4 mr-2"}),"Add Stock (Batch)"]}),w.jsxs("button",{onClick:()=>E("product"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${v==="product"?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:[w.jsx(U8,{className:"w-4 h-4 mr-2"}),"Create New Product"]}),w.jsxs("button",{onClick:()=>E("manage"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${v==="manage"?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:[w.jsx(V8,{className:"w-4 h-4 mr-2"}),"Manage Stock"]})]}),w.jsx("div",{className:"space-y-8",children:w.jsxs("section",{children:[v==="product"&&w.jsx(XI,{onSuccess:I}),v==="stock"&&w.jsxs(w.Fragment,{children:[w.jsx(lI,{products:e,onSubmit:N,isLoading:s}),x&&w.jsx("div",{className:"mt-4 p-4 bg-red-50 text-red-700 rounded-md border border-red-200",children:x})]}),v==="manage"&&w.jsx(ID,{})]})})]})},TD=()=>{const e=qh(),[t,n]=z.useState(null),[r,s]=z.useState(null),[l,d]=z.useState(""),{data:g,isLoading:x,isError:p}=OA({queryKey:["users"],queryFn:async()=>(await io.get("/admin/users")).data}),v=Xd({mutationFn:async N=>{await io.delete(`/admin/users/${N}`)},onSuccess:()=>{e.invalidateQueries(["users"])}}),E=Xd({mutationFn:async({id:N,data:O})=>{await io.patch(`/admin/users/${N}`,O)},onSuccess:()=>{n(null),e.invalidateQueries(["users"])}}),b=Xd({mutationFn:async({id:N,newPassword:O})=>{await io.patch(`/admin/users/${N}/reset-password`,{newPassword:O})},onSuccess:()=>{s(null),alert("Password updated successfully")},onError:N=>{var O,P;alert(((P=(O=N.response)==null?void 0:O.data)==null?void 0:P.message)||"Failed to update password")}});if(x)return w.jsx("div",{className:"p-6",children:"Loading users..."});if(p)return w.jsx("div",{className:"p-6 text-red-500",children:"Error loading users."});const I=g.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())||N.email.toLowerCase().includes(l.toLowerCase()));return w.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[w.jsx("div",{className:"flex justify-between items-center mb-6",children:w.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"User Management"})}),w.jsxs("div",{className:"mb-6 relative",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(Lv,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search users by name or email...",value:l,onChange:N=>d(N.target.value)})]}),w.jsx("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:w.jsxs("table",{className:"w-full text-left border-collapse",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-gray-100 border-b border-gray-200",children:[w.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Name"}),w.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Email"}),w.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Modules"}),w.jsx("th",{className:"p-4 font-semibold text-gray-600 text-right",children:"Actions"})]})}),w.jsx("tbody",{children:I.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:"4",className:"p-4 text-center text-gray-500",children:g.length===0?"No employees found.":"No users match your search."})}):I.map(N=>w.jsx(RD,{user:N,onEdit:()=>n(N),onDelete:()=>{confirm(`Are you sure you want to delete ${N.name}?`)&&v.mutate(N._id)},onResetPassword:()=>s(N)},N._id))})]})}),t&&w.jsx(OD,{user:t,onClose:()=>n(null),onSave:N=>E.mutate({id:t._id,data:N})}),r&&w.jsx(MD,{user:r,onClose:()=>s(null),onSave:N=>b.mutate({id:r._id,newPassword:N})})]})},RD=({user:e,onEdit:t,onDelete:n,onResetPassword:r})=>w.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[w.jsx("td",{className:"p-4",children:e.name}),w.jsx("td",{className:"p-4",children:e.email}),w.jsx("td",{className:"p-4",children:w.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.allowedModules.map(s=>w.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-blue-800 bg-blue-100 rounded-full",children:s},s)),e.allowedModules.length===0&&w.jsx("span",{className:"text-gray-400 text-sm",children:"No access"})]})}),w.jsxs("td",{className:"p-4 text-right space-x-2",children:[w.jsx("button",{onClick:t,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"Edit User",children:w.jsx(q8,{size:18})}),w.jsx("button",{onClick:r,className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-full transition-colors",title:"Reset Password",children:w.jsx(G8,{size:18})}),w.jsx("button",{onClick:n,className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Delete User",children:w.jsx(iI,{size:18})})]})]}),OD=({user:e,onClose:t,onSave:n})=>{const{register:r,handleSubmit:s}=ag({defaultValues:{name:e.name,allowedModules:e.allowedModules}}),l=d=>{n(d)};return w.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold",children:"Edit User"}),w.jsx("button",{onClick:t,children:w.jsx(Uf,{size:20})})]}),w.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),w.jsx("input",{...r("name"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm border p-2"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allowed Modules"}),w.jsx("div",{className:"space-y-2",children:["INVENTORY","POS","FINANCE","REPORTING"].map(d=>w.jsxs("div",{className:"flex items-center",children:[w.jsx("input",{type:"checkbox",value:d,...r("allowedModules"),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),w.jsx("label",{className:"ml-2 text-sm text-gray-700",children:d})]},d))})]}),w.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[w.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-md",children:"Cancel"}),w.jsx("button",{type:"submit",className:"px-4 py-2 text-sm text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Save Changes"})]})]})]})})},MD=({user:e,onClose:t,onSave:n})=>{const{register:r,handleSubmit:s,formState:{errors:l}}=ag(),d=g=>{n(g.newPassword)};return w.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-bold",children:"Reset Password"}),w.jsxs("p",{className:"text-sm text-gray-500",children:["For ",e.name]})]}),w.jsx("button",{onClick:t,children:w.jsx(Uf,{size:20})})]}),w.jsxs("form",{onSubmit:s(d),className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),w.jsx("input",{type:"text",...r("newPassword",{required:"Password is required",minLength:{value:6,message:"Min 6 chars"}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm border p-2",placeholder:"Enter new password"}),l.newPassword&&w.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.newPassword.message})]}),w.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[w.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-md",children:"Cancel"}),w.jsx("button",{type:"submit",className:"px-4 py-2 text-sm text-white bg-red-600 hover:bg-red-700 rounded-md",children:"Reset Password"})]})]})]})})},DD=()=>{const{user:e,logout:t}=Lf(),n=pu(),r=()=>{t(),n("/login")};return e?w.jsx("nav",{className:"bg-slate-900 shadow-md border-b border-slate-800",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsxs(yo,{to:"/",className:"flex items-center flex-shrink-0 group",children:[w.jsx("div",{className:"h-8 w-8 bg-blue-600 rounded-lg flex items-center justify-center shadow-lg group-hover:bg-blue-500 transition-colors duration-200",children:w.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),w.jsx("span",{className:"ml-3 text-xl font-bold text-white tracking-tight group-hover:text-blue-400 transition-colors",children:"Pharma ERP"})]}),w.jsx("div",{className:"hidden md:block",children:w.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[w.jsx(yo,{to:"/",className:"text-gray-300 hover:bg-slate-800 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Dashboard"}),e.role==="admin"&&w.jsx(yo,{to:"/register-user",className:"text-gray-300 hover:bg-slate-800 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Register User"})]})})]}),w.jsx("div",{className:"hidden md:block",children:w.jsxs("div",{className:"ml-4 flex items-center md:ml-6",children:[w.jsxs("div",{className:"flex flex-col items-end mr-4",children:[w.jsx("span",{className:"text-sm font-medium text-white leading-none mb-1",children:e.name}),w.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider font-semibold",children:e.role})]}),w.jsx("div",{className:"h-9 w-9 rounded-full bg-slate-700 flex items-center justify-center text-white font-bold border-2 border-slate-600 shadow-sm",children:e.name?e.name.charAt(0).toUpperCase():"U"}),w.jsx("button",{onClick:r,className:"ml-5 bg-red-600 hover:bg-red-700 text-white px-4 py-1.5 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-red-500 shadow-sm",children:"Logout"})]})}),w.jsx("div",{className:"-mr-2 flex md:hidden",children:w.jsx("button",{className:"bg-slate-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-slate-700 focus:outline-none",children:w.jsx("svg",{className:"block h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]})})}):null},kD="modulepreload",PD=function(e){return"/"+e},J2={},LD=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=Promise.allSettled(n.map(x=>{if(x=PD(x),x in J2)return;J2[x]=!0;const p=x.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const E=document.createElement("link");if(E.rel=p?"stylesheet":kD,p||(E.as="script"),E.crossOrigin="",E.href=x,g&&E.setAttribute("nonce",g),document.head.appendChild(E),p)return new Promise((b,I)=>{E.addEventListener("load",b),E.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${x}`)))})}))}function l(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return s.then(d=>{for(const g of d||[])g.status==="rejected"&&l(g.reason);return t().catch(l)})};function BD(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:l,onRegisterError:d}=e;let g,x;const p=async(E=!0)=>{await x};async function v(){if("serviceWorker"in navigator){if(g=await LD(async()=>{const{Workbox:E}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:E}},[]).then(({Workbox:E})=>new E("/sw.js",{scope:"/",type:"classic"})).catch(E=>{d==null||d(E)}),!g)return;g.addEventListener("activated",E=>{(E.isUpdate||E.isExternal)&&window.location.reload()}),g.addEventListener("installed",E=>{E.isUpdate||r==null||r()}),g.register({immediate:t}).then(E=>{l?l("/sw.js",E):s==null||s(E)}).catch(E=>{d==null||d(E)})}}return x=v(),p}function FD(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:l,onRegisterError:d}=e,[g,x]=z.useState(!1),[p,v]=z.useState(!1),[E]=z.useState(()=>BD({immediate:t,onOfflineReady(){v(!0),r==null||r()},onNeedRefresh(){x(!0),n==null||n()},onRegistered:s,onRegisteredSW:l,onRegisterError:d}));return{needRefresh:[g,x],offlineReady:[p,v],updateServiceWorker:E}}function jD(){const{offlineReady:[e,t],needRefresh:[n,r],updateServiceWorker:s}=FD({onRegistered(l){console.log("SW Registered: "+l)},onRegisterError(l){console.log("SW registration error",l)}});return z.useEffect(()=>{e&&(ic.success("App is ready to work offline"),t(!1))},[e,t]),z.useEffect(()=>{n&&ic(l=>w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("span",{children:"New content available, click on reload button to update."}),w.jsx("button",{className:"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600 transition-colors",onClick:()=>{s(!0),ic.dismiss(l.id)},children:"Reload"}),w.jsx("button",{className:"text-gray-500 text-xs hover:text-gray-700",onClick:()=>{r(!1),ic.dismiss(l.id)},children:"Close"})]}),{duration:1/0})},[n,s,r]),null}const UD=()=>{const[e,t]=z.useState(!navigator.onLine);return z.useEffect(()=>{const n=()=>t(!1),r=()=>t(!0);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e?w.jsxs("div",{className:"fixed bottom-4 left-4 z-50 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-pulse",children:[w.jsx(oI,{size:20}),w.jsx("span",{className:"text-sm font-medium",children:"You are offline. Showing cached data."})]}):null},zD=()=>w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx(DD,{}),w.jsx(jD,{}),w.jsx(UD,{}),w.jsx("main",{children:w.jsx(kw,{})})]}),VD=new yA;function HD(){return w.jsx(wA,{client:VD,children:w.jsx($4,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:w.jsxs(ab,{children:[w.jsx(Qb,{position:"top-right"}),w.jsxs(F4,{children:[w.jsx(In,{path:"/login",element:w.jsx(qb,{})}),w.jsx(In,{element:w.jsx(gl,{}),children:w.jsxs(In,{element:w.jsx(zD,{}),children:[w.jsx(In,{path:"/",element:w.jsx(Zb,{})}),w.jsx(In,{path:"/register-user",element:w.jsx(Kb,{})}),w.jsx(In,{path:"/admin/users",element:w.jsx(TD,{})}),w.jsx(In,{element:w.jsx(gl,{requiredModule:"INVENTORY"}),children:w.jsx(In,{path:"/inventory",element:w.jsx(ND,{})})}),w.jsx(In,{element:w.jsx(gl,{requiredModule:"POS"}),children:w.jsx(In,{path:"/pos",element:w.jsx(Zd,{name:"POS Module",endpoint:"/api/auth/pos"})})}),w.jsx(In,{element:w.jsx(gl,{requiredModule:"FINANCE"}),children:w.jsx(In,{path:"/finance",element:w.jsx(Zd,{name:"Finance Module",endpoint:"/api/auth/finance"})})}),w.jsx(In,{element:w.jsx(gl,{requiredModule:"REPORTING"}),children:w.jsx(In,{path:"/reporting",element:w.jsx(Zd,{name:"Reporting Module",endpoint:"/api/auth/reporting"})})})]})}),w.jsx(In,{path:"*",element:w.jsx(Dw,{to:"/",replace:!0})})]})]})})})}h0.createRoot(document.getElementById("root")).render(w.jsx(Nn.StrictMode,{children:w.jsx(HD,{})}));
